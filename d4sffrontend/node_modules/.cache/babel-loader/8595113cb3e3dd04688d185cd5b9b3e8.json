{"remainingRequest":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\src\\components\\ResetPasswordComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\src\\components\\ResetPasswordComponent.vue","mtime":1622545253064},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZXNldFBhc3N3b3JkQ29tcG9uZW50IiwKICBwcm9wczoge30sCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgbmV3UGFzc3dvcmQ6ICcnLAogICAgICBlcnJvclBhc3M6ICcnLAogICAgICBuZXdFcnJvclBhc3M6ICcnLAogICAgICB2aXNpYmxlQWxlcnQ6IGZhbHNlLAogICAgICBraW5kTm90OiAnZXJyb3InLAogICAgICBtZW5zYWdlTm90OiAnJywKICAgICAgYWN0aW9ubGFiZWw6IHRoaXMuJHQoJ2xvZ2luLmlyX2xvZ2luJykKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBlc3RhYmxlY2VyUGFzczogZnVuY3Rpb24gZXN0YWJsZWNlclBhc3MoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5wYXNzd29yZCAhPSB0aGlzLm5ld1Bhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5lcnJvclBhc3MgPSB0aGlzLiR0KCdsb2dpbi5wYXNzX25vX2lndWFsZXMnKTsKICAgICAgICB0aGlzLm5ld0Vycm9yUGFzcyA9IHRoaXMuJHQoJ2xvZ2luLnBhc3Nfbm9faWd1YWxlcycpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdmFyIHRva2VuVXNlciA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnRva2VuOwogICAgICB2YXIgcGF0aCA9ICIiLmNvbmNhdCh0aGlzLiRhcGlVUkwsICIvcGFzc3dvcmRfcmVzZXQvdmVyaWZ5LXRva2VuIik7CiAgICAgIGF4aW9zLnBvc3QocGF0aCwgewogICAgICAgIHRva2VuOiB0b2tlblVzZXIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHBhdGggPSAiIi5jb25jYXQoX3RoaXMuJGFwaVVSTCwgIi9wYXNzd29yZF9yZXNldC9jb25maXJtLyIpOwogICAgICAgIGF4aW9zLnBvc3QocGF0aCwgewogICAgICAgICAgdG9rZW46IHRva2VuVXNlciwKICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy5wYXNzd29yZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMudmlzaWJsZUFsZXJ0ID0gdHJ1ZTsKICAgICAgICAgIF90aGlzLmtpbmROb3QgPSAic3VjY2VzcyI7CiAgICAgICAgICBfdGhpcy5tZW5zYWdlTm90ID0gX3RoaXMuJHQoJ2xvZ2luLnBhc3NfcmVlc3RhYmxlY2UnKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIF90aGlzLnZpc2libGVBbGVydCA9IHRydWU7CiAgICAgICAgICBfdGhpcy5raW5kTm90ID0gImVycm9yIjsKICAgICAgICAgIF90aGlzLm1lbnNhZ2VOb3QgPSAnJzsKICAgICAgICAgIF90aGlzLm1lbnNhZ2VOb3QgPSBlcnJvci5yZXNwb25zZS5kYXRhLnBhc3N3b3JkWzBdOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMudmlzaWJsZUFsZXJ0ID0gdHJ1ZTsKICAgICAgICBfdGhpcy5raW5kTm90ID0gImVycm9yIjsKICAgICAgICBfdGhpcy5tZW5zYWdlTm90ID0gX3RoaXMuJHQoJ2xvZ2luLnBhc3NfdGllbXBvX2V4cCcpOwogICAgICB9KTsKICAgIH0sCiAgICBxdWl0YXJFcnJvclBhc3M6IGZ1bmN0aW9uIHF1aXRhckVycm9yUGFzcygpIHsKICAgICAgdGhpcy5lcnJvclBhc3MgPSAnJzsKICAgICAgdGhpcy5uZXdFcnJvclBhc3MgPSAnJzsKICAgICAgdGhpcy52aXNpYmxlQWxlcnQgPSBmYWxzZTsKICAgIH0sCiAgICBkb0Nsb3NlUmVjb3JkYXI6IGZ1bmN0aW9uIGRvQ2xvc2VSZWNvcmRhcigpIHsKICAgICAgdGhpcy52aXNpYmxlQWxlcnQgPSBmYWxzZTsKICAgIH0sCiAgICBkb0FjdGlvbjogZnVuY3Rpb24gZG9BY3Rpb24oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgdXNlckxhbmcgPSBuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZTsKCiAgICBpZiAodXNlckxhbmcgPT0gJ2VzLUVTJykgewogICAgICB0aGlzLiRyb290LiRpMThuLmxvY2FsZSA9ICdlcyc7CiAgICB9IGVsc2UgewogICAgICB0aGlzLiRyb290LiRpMThuLmxvY2FsZSA9ICdlbic7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ResetPasswordComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,wBADA;AAEA,EAAA,KAAA,EAAA,EAFA;AAGA,EAAA,UAAA,EAAA,EAHA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,YAAA,EAAA,EAJA;AAKA,MAAA,YAAA,EAAA,KALA;AAMA,MAAA,OAAA,EAAA,OANA;AAOA,MAAA,UAAA,EAAA,EAPA;AAQA,MAAA,WAAA,EAAA,KAAA,EAAA,CAAA,gBAAA;AARA,KAAA;AAUA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,UAAA,KAAA,QAAA,IAAA,KAAA,WAAA,EAAA;AACA,aAAA,SAAA,GAAA,KAAA,EAAA,CAAA,uBAAA,CAAA;AACA,aAAA,YAAA,GAAA,KAAA,EAAA,CAAA,uBAAA,CAAA;AACA,eAAA,KAAA;AAEA;;AACA,UAAA,SAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAAA;AACA,UAAA,IAAA,aAAA,KAAA,OAAA,iCAAA;AACA,MAAA,KAAA,CACA,IADA,CACA,IADA,EACA;AACA,QAAA,KAAA,EAAA;AADA,OADA,EAIA,IAJA,CAIA,YAAA;AACA,YAAA,IAAA,aAAA,KAAA,CAAA,OAAA,6BAAA;AACA,QAAA,KAAA,CACA,IADA,CACA,IADA,EACA;AACA,UAAA,KAAA,EAAA,SADA;AAEA,UAAA,QAAA,EAAA,KAAA,CAAA;AAFA,SADA,EAKA,IALA,CAKA,YAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,IAAA;AACA,UAAA,KAAA,CAAA,OAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,EAAA,CAAA,wBAAA,CAAA;AACA,SATA,EAUA,KAVA,CAUA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,IAAA;AACA,UAAA,KAAA,CAAA,OAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,QAAA,CAAA,CAAA,CAAA;AACA,SAfA;AAiBA,OAvBA,EAwBA,KAxBA,CAwBA,YAAA;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,OAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,EAAA,CAAA,uBAAA,CAAA;AACA,OA5BA;AA+BA,KAzCA;AA0CA,IAAA,eA1CA,6BA0CA;AACA,WAAA,SAAA,GAAA,EAAA;AACA,WAAA,YAAA,GAAA,EAAA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,KA9CA;AA+CA,IAAA,eA/CA,6BA+CA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,KAjDA;AAkDA,IAAA,QAlDA,sBAkDA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AApDA,GAhBA;AAsEA,EAAA,OAtEA,qBAsEA;AACA,QAAA,QAAA,GAAA,SAAA,CAAA,QAAA,IAAA,SAAA,CAAA,YAAA;;AACA,QAAA,QAAA,IAAA,OAAA,EAAA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,MAAA,GAAA,IAAA;AACA,KAFA,MAEA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,MAAA,GAAA,IAAA;AACA;AACA;AA7EA,CAAA","sourcesContent":["<template>\r\n    <div id=\"container\">\r\n        <div class=\"bx--grid\" id=\"gridContainer\">\r\n            <div class=\"bx--row\">\r\n                <div class=\"bx--col-lg\"></div>\r\n                <div class=\"bx--col-lg\" id=\"modal\">\r\n                    \r\n                        <h4>{{$t(\"login.reestablecer_pass\")}}</h4>\r\n                        <br><br>\r\n                        <cv-text-input\r\n                        :label=\"$t('login.nueva_pass')\"\r\n                        :placeholder=\"$t('login.nueva_pass')\"\r\n                        v-model=\"password\"\r\n                        :invalid-message=\"errorPass\"\r\n                        @input=\"quitarErrorPass\"\r\n                        type=\"password\" id=\"passInput\" ref=\"passInput\"></cv-text-input>\r\n                        <br><br>\r\n                        <cv-text-input\r\n                        :label=\"$t('login.confirma_pass')\"\r\n                        :placeholder=\"$t('login.confirma_pass')\"\r\n                        v-model=\"newPassword\"\r\n                        :invalid-message=\"newErrorPass\"\r\n                        @input=\"quitarErrorPass\"\r\n                        type=\"password\" id=\"passInput\" ref=\"passInput\"></cv-text-input>\r\n                        <br><br>\r\n                        <cv-inline-notification v-if=\"visibleAlert\" \r\n                        :kind.sync=\"kindNot\"\r\n                        :sub-title=\"mensageNot\"\r\n                        :action-label=\"actionlabel\"\r\n                        @action=\"doAction\"\r\n                        @close=\"doCloseRecordar\"\r\n                        low-contrast=\"false\"\r\n                        class=\"errorlogin\"></cv-inline-notification>\r\n                        <br><br>\r\n                        <cv-button @click=\"establecerPass\">{{$t(\"login.reestablecer\")}}</cv-button>\r\n                    \r\n                </div>\r\n                <div class=\"bx--col-lg\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n    name: \"ResetPasswordComponent\",\r\n    props: {},\r\n    components: {},\r\n    data() {\r\n        return {\r\n            password: '',\r\n            newPassword: '',\r\n            errorPass: '',\r\n            newErrorPass:'',\r\n            visibleAlert: false,\r\n            kindNot: 'error',\r\n            mensageNot: '',\r\n            actionlabel: this.$t('login.ir_login'),\r\n        }\r\n    },\r\n    methods: {\r\n        establecerPass(){\r\n            if(this.password != this.newPassword){\r\n                this.errorPass= this.$t('login.pass_no_iguales')\r\n                this.newErrorPass= this.$t('login.pass_no_iguales')\r\n                return false\r\n                \r\n            }\r\n            const tokenUser = this.$route.query.token\r\n            let path = `${this.$apiURL}/password_reset/verify-token`;\r\n            axios\r\n            .post(path, {\r\n                token: tokenUser\r\n            })\r\n            .then(() => {\r\n                    let path = `${this.$apiURL}/password_reset/confirm/`;\r\n                    axios\r\n                    .post(path, {\r\n                        token: tokenUser,\r\n                        password: this.password\r\n                    })\r\n                    .then(()=>{\r\n                        this.visibleAlert = true\r\n                        this.kindNot = `success`\r\n                        this.mensageNot = this.$t('login.pass_reestablece')\r\n                    })\r\n                    .catch(error =>{\r\n                        this.visibleAlert = true\r\n                        this.kindNot = `error`\r\n                        this.mensageNot = ''\r\n                        this.mensageNot = error.response.data.password[0]\r\n                    })\r\n                \r\n            })\r\n            .catch(()=>{\r\n                this.visibleAlert = true\r\n                this.kindNot = `error`\r\n                this.mensageNot = this.$t('login.pass_tiempo_exp')\r\n            })\r\n            \r\n            \r\n        },\r\n        quitarErrorPass(){\r\n            this.errorPass = ''\r\n            this.newErrorPass = ''\r\n            this.visibleAlert = false\r\n        },\r\n        doCloseRecordar(){\r\n            this.visibleAlert = false\r\n        },\r\n        doAction(){\r\n            this.$router.push(\"/login\");\r\n        }\r\n    },\r\n    created(){\r\n        var userLang = navigator.language || navigator.userLanguage; \r\n        if (userLang == 'es-ES'){\r\n            this.$root.$i18n.locale = 'es'\r\n        }else{\r\n            this.$root.$i18n.locale = 'en'\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    #modal{\r\n        padding-top: 1rem;\r\n        padding-bottom: 1rem;\r\n        background-color: #f4f4f4;\r\n    }\r\n    #container{\r\n        background-image: url('../assets/fondo-login-D4SF-v2.png');\r\n        background-repeat: no-repeat;\r\n        background-size: cover;\r\n    }\r\n    #gridContainer, #rowLogin, #bxFormLogin{\r\n        height: 100vh;\r\n        \r\n    }\r\n    #bxFormLogin{\r\n        background-color: #f4f4f4;\r\n        padding-top: 3%;\r\n    }\r\n    #rowLogin{\r\n        padding: 0%;\r\n    }\r\n    #loginTitle{\r\n        margin-bottom: 48px;\r\n    }\r\n    #loginButt{\r\n        width: 100%;\r\n    }\r\n    #logo{\r\n        width: 100%;\r\n        max-width: 280px;\r\n        margin-bottom: 5%;\r\n    }\r\n    .errorlogin{\r\n        width: 100%;\r\n    }\r\n    #logoSMB{\r\n        position: absolute;\r\n        left: 19px;\r\n        bottom: 10px;\r\n    }\r\n</style>"],"sourceRoot":"src/components"}]}