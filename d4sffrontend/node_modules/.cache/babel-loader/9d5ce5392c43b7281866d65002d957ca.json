{"remainingRequest":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\components\\EditarEmpresaComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\components\\EditarEmpresaComponent.vue","mtime":1709557484679},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\babel.config.js","mtime":1681217492507},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681731147886},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1681731147886},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1681731156386},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681731147886},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1681731148945}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IEFsZXJ0YUdlbmVyYWwgZnJvbSAiLi4vY29tcG9uZW50cy9BbGVydGFHZW5lcmFsIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFZGl0YXJFbXByZXNhQ29tcG9uZW50IiwKICBwcm9wczogewogICAgaWRFbXByZXNhOiBTdHJpbmcKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFsZXJ0YUdlbmVyYWwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZXRyaWNzOiBbJ0hhJywgJ0FjcmUnXSwKICAgICAgLy9ENFNGLTg4CiAgICAgIGNvbnRpbmVudHM6IFsnQW3DqXJpY2EnLCAnRXVyb3BhJ10sCiAgICAgIGNvbnRpbmVudFNlbGVjdDogbnVsbCwKICAgICAgaWRFbnRlcnByaXNlOiBudWxsLAogICAgICBpc01vbml0b3JTZWxlY3Q6IG51bGwsCiAgICAgIG1vbml0b3JPcHRpb25zOiB7CiAgICAgICAgb3B0aW9uczogW3sKICAgICAgICAgIHZhbHVlOiB0cnVlLAogICAgICAgICAgdGV4dDogJ1NpJwogICAgICAgIH0sIHsKICAgICAgICAgIHZhbHVlOiBmYWxzZSwKICAgICAgICAgIHRleHQ6ICdObycKICAgICAgICB9XQogICAgICB9LAogICAgICBlc3RhZG9BY3R1YWw6IG51bGwsCiAgICAgIG1ldHJpY1NlbGVjdDogbnVsbCwKICAgICAgbm9tYnJlRW1wcmVzYTogJycsCiAgICAgIGNpZkVtcHJlc2E6ICcnLAogICAgICBkaXJlY2Npb25FbXByZXNhOiAnJywKICAgICAgdGVsRW1wcmVzYTogJycsCiAgICAgIGhlY3RhcmVhc19kaXNwb25pYmxlczogJycsCiAgICAgIHR5cGVfbWV0cmljOiAnJywKICAgICAgLy8KICAgICAgaW52YWxpZE1lc3NhZ2VOb21icmU6ICcnLAogICAgICBpbnZhbGlkTWVzc2FnZUNpZjogJycsCiAgICAgIGludmFsaWRNZXNzYWdlRGlyOiAnJywKICAgICAgaW52YWxpZE1lc3NhZ2VUZWxFbXByZXNhOiAnJywKICAgICAgbWVuc2FqZUFsZXJ0YTogJycsCiAgICAgIHRpcG9BbGVydGE6ICcnLAogICAgICBpbnZhbGlkTWVzc2FnZUhlYzogJycsCiAgICAgIGludmFsaWRNZXNzYWdlTWV0cmljOiAnJywKICAgICAgaWRFbXByZXNhRWQ6ICcnLAogICAgICBpZFVzdWFyaW86ICcnLAogICAgICBmbGFnOiBmYWxzZSwKICAgICAgaW5wdXRUeXBlSGVjOiB0aGlzLiR0KCduZXdFbnRlcnByaXNlLnRpcG9fTWV0cmljYScpCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZGlzYWJsZWRIZWMoKSB7CiAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdpc19zdXBlcnVzZXInKSA9PSAndHJ1ZScgfHwgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnaXNfc3lzdGVtYWRtaW4nKSA9PSAndHJ1ZScpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBnZXRFbnRlcnByaXNlU3RhdHVzKCkgewogICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLiRhcGlVUkx9L2VudGVycHJpc2VzLyR7dGhpcy4kcm91dGUucXVlcnkuZW50ZXJwcmlzZX0vYDsKICAgICAgY29uc29sZS5sb2coIlVSTDoiLCB1cmwpOwogICAgICBheGlvcy5nZXQodXJsKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmVzdGFkb0FjdHVhbCA9IHJlc3BvbnNlLmRhdGEuaXNfYWN0aXZlOwogICAgICAgIGNvbnNvbGUubG9nKCJFc3RhZG8gYWN0aXZvOiIsIHRoaXMuZXN0YWRvQWN0dWFsKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGFsIG9idGVuZXIgZWwgZXN0YWRvIGRlIGxhIGVtcHJlc2E6IiwgZXJyb3IpOwogICAgICAgIHRoaXMudmlzaWJsZUFsZXJ0YUNvbmZpcm1hY2lvbiA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBzaG93QWxlcnQoKSB7CiAgICAgIHRoaXMubWVuc2FqZUFsZXJ0YSA9IGAke3RoaXMuJHQoJ25ld0VudGVycHJpc2Uuc2F2ZV9lbnRlcnByaXNlJyl9YDsKICAgICAgdGhpcy50aXBvQWxlcnRhID0gJ3N1Y2Nlc3MnOwogICAgICB0aGlzLiRyZWZzLmFsZXJ0YUdlbmVyYWwudmVyQWxlcnRhKCk7CiAgICB9LAogICAgZ2V0RGF0b3NFbXByZXNhKGlkRW1wcmVzYSkgewogICAgICB0aGlzLmlkRW1wcmVzYUVkID0gaWRFbXByZXNhOwogICAgICBpZiAoaWRFbXByZXNhKSB7CiAgICAgICAgdGhpcy5pZEVtcHJlc2FFZCA9IGlkRW1wcmVzYTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZW50ZXJwcmlzZSIsIGlkRW1wcmVzYSk7CiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiZW50ZXJwcmlzZSIsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlbnRlcnByaXNlIikpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaWRFbXByZXNhRWQgPSB0aGlzLmlkRW1wcmVzYUVkIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlbnRlcnByaXNlIikgfHwgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiZW50ZXJwcmlzZSIpOwogICAgICB9CiAgICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLiRhcGlVUkx9L2VudGVycHJpc2VzLyR7dGhpcy5pZEVtcHJlc2FFZH0vYDsKCiAgICAgIC8qIENoZWNrYXIgcXVlIGVsIHBhdGggc2llbXByZSB0aWVuZSB1biB2YWxvciBubyBudWxvIC8gZGVmaW5pZG8gKi8KCiAgICAgIGNvbnNvbGUubG9nKCJQYXRoIGdldERhdG9zRW1wcmVzYToiLCBwYXRoKTsKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICJCZWFyZXIgIiArIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFwaUFjY2VzcyIpOwogICAgICBheGlvcy5nZXQocGF0aCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5ub21icmVFbXByZXNhID0gcmVzcG9uc2UuZGF0YS5uYW1lOwogICAgICAgIHRoaXMuY2lmRW1wcmVzYSA9IHJlc3BvbnNlLmRhdGEuY2lmOwogICAgICAgIHRoaXMuZGlyZWNjaW9uRW1wcmVzYSA9IHJlc3BvbnNlLmRhdGEuZGlyZWN0aW9uOwogICAgICAgIHRoaXMudGVsRW1wcmVzYSA9IHJlc3BvbnNlLmRhdGEucGhvbmVfbnVtYmVyOwogICAgICAgIHRoaXMuaGVjdGFyZWFzX2Rpc3BvbmlibGVzID0gcmVzcG9uc2UuZGF0YS5oZWN0YXJlc19hdmFpbGFibGU7CiAgICAgICAgdGhpcy5tZXRyaWNTZWxlY3QgPSByZXNwb25zZS5kYXRhLnR5cGVfbWV0cmljOwogICAgICAgIHRoaXMuZXN0YWRvQWN0dWFsID0gcmVzcG9uc2UuZGF0YS5pc19hY3RpdmU7CiAgICAgICAgLy9ENFNGLTg4CiAgICAgICAgdGhpcy5jb250aW5lbnRTZWxlY3QgPSByZXNwb25zZS5kYXRhLmNvbnRpbmVudDsKICAgICAgICB0aGlzLmlzTW9uaXRvclNlbGVjdCA9IHJlc3BvbnNlLmRhdGEuaXNfbW9uaXRvcjsKICAgICAgICAvLyB0b2RvOiBzb2x2ZW50YXIgZWwgcHJvYmxlbWEgZGUgcXVlIG5vIHNlIGd1YXJkYSBlbCB2YWxvciBkZSBpc01vbml0b3JTZWxlY3QKICAgICAgICBpZiAodGhpcy5pc01vbml0b3JTZWxlY3QgPT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuaXNNb25pdG9yU2VsZWN0ID0gJ05vJzsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGd1YXJkYXJEYXRvc0VtcHJlc2EoKSB7CiAgICAgIHRoaXMuZmxhZyA9IGZhbHNlOwogICAgICB0aGlzLmlkVXN1YXJpbyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKTsKICAgICAgdGhpcy5pZEVudGVycHJpc2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZW50ZXJwcmlzZSIpOwogICAgICBjb25zdCBwYXRoID0gYCR7dGhpcy4kYXBpVVJMfS9lbnRlcnByaXNlcy8ke3RoaXMuaWRFbnRlcnByaXNlfS9gOwogICAgICBpZiAodGhpcy5pc01vbml0b3JTZWxlY3QgPT09ICdObycpIHsKICAgICAgICB0aGlzLmlzTW9uaXRvclNlbGVjdCA9IGZhbHNlOwogICAgICB9CiAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAiQmVhcmVyICIgKyBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhcGlBY2Nlc3MiKTsKICAgICAgYXhpb3MucHV0KHBhdGgsIHsKICAgICAgICBuYW1lOiB0aGlzLiRyZWZzLm5vbWJyZUVtcHJlc2EuJHJlZnMuaW5wdXQudmFsdWUsCiAgICAgICAgZGlyZWN0aW9uOiB0aGlzLiRyZWZzLmRpcmVjY2lvbkVtcHJlc2EuJHJlZnMuaW5wdXQudmFsdWUsCiAgICAgICAgY2lmOiB0aGlzLiRyZWZzLmNpZkVtcHJlc2EuJHJlZnMuaW5wdXQudmFsdWUsCiAgICAgICAgcGhvbmVfbnVtYmVyOiB0aGlzLiRyZWZzLnRlbEVtcHJlc2EuJHJlZnMuaW5wdXQudmFsdWUsCiAgICAgICAgaGVjdGFyZXNfYXZhaWxhYmxlOiB0aGlzLiRyZWZzLmhlY3RhcmVhc0Rpc3BvbmlibGVzLiRyZWZzLmlucHV0LnZhbHVlLAogICAgICAgIHR5cGVfbWV0cmljOiB0aGlzLm1ldHJpY1NlbGVjdCwKICAgICAgICAvL0Q0U0YtODgKICAgICAgICBjb250aW5lbnQ6IHRoaXMuY29udGluZW50U2VsZWN0LAogICAgICAgIGlzX21vbml0b3I6IHRoaXMuaXNNb25pdG9yU2VsZWN0LAogICAgICAgIGlzX2FjdGl2ZTogdGhpcy5lc3RhZG9TZWxlY2Npb25hZG8KICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5zaG93QWxlcnQoKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHRoaXMuZmxhZyA9IHRydWU7CiAgICAgICAgY29uc3QgZXJyb3JzID0gZXJyb3IucmVzcG9uc2UuZGF0YTsKICAgICAgICBpZiAoZXJyb3JzLm5hbWUpIHRoaXMuaW52YWxpZE1lc3NhZ2VOb21icmUgPSBgJHt0aGlzLiR0KCduZXdFbnRlcnByaXNlLmNhbXBvX3JlcXVlcmlkbycpfWA7CiAgICAgICAgaWYgKGVycm9ycy5jaWYpIHRoaXMuaW52YWxpZE1lc3NhZ2VDaWYgPSBgJHt0aGlzLiR0KCduZXdFbnRlcnByaXNlLmNhbXBvX3JlcXVlcmlkbycpfWA7CiAgICAgICAgaWYgKGVycm9ycy5kaXJlY3Rpb24pIHRoaXMuaW52YWxpZE1lc3NhZ2VEaXIgPSBgJHt0aGlzLiR0KCduZXdFbnRlcnByaXNlLmNhbXBvX3JlcXVlcmlkbycpfWA7CiAgICAgICAgaWYgKGVycm9ycy5waG9uZV9udW1iZXIpIHRoaXMuaW52YWxpZE1lc3NhZ2VUZWxFbXByZXNhID0gYCR7dGhpcy4kdCgnbmV3RW50ZXJwcmlzZS5jYW1wb19yZXF1ZXJpZG8nKX1gOwogICAgICAgIGlmIChlcnJvcnMuaGVjdGFyZXNfYXZhaWxhYmxlKSB0aGlzLmludmFsaWRNZXNzYWdlSGVjID0gYCR7dGhpcy4kdCgnbmV3RW50ZXJwcmlzZS5jYW1wb19yZXF1ZXJpZG8nKX1gOwogICAgICB9KTsKICAgICAgaWYgKCF0aGlzLmZsYWcpIHsKICAgICAgICBpZiAodHlwZW9mIHRoaXMuZXN0YWRvU2VsZWNjaW9uYWRvICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICB0aGlzLmluc2VydFRyYXphKCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuc2hvd0FsZXJ0KCk7CiAgICAgIH0KICAgIH0sCiAgICBpbnNlcnRUcmF6YSgpIHsKICAgICAgY29uc3QgcGF0aF90cmF6YXMgPSBgJHt0aGlzLiRhcGlVUkx9L2luc2VydF90cmF6YXMvYDsKICAgICAgYXhpb3MucG9zdChwYXRoX3RyYXphcywgewogICAgICAgIGlkX3VzZXI6IHRoaXMuaWRVc3VhcmlvLAogICAgICAgIGVudGVycHJpc2VfY29kZTogdGhpcy5pZEVtcHJlc2FFZCwKICAgICAgICBvbGRfc3RhdHVzOiB0aGlzLmVzdGFkb0FjdHVhbCwKICAgICAgICBzdGF0dXM6IHRoaXMuZXN0YWRvU2VsZWNjaW9uYWRvLAogICAgICAgIGNydWQ6ICJOdWV2byBlc3RhZG86ICIgKyB0aGlzLmVzdGFkb1NlbGVjY2lvbmFkbyArICIgZGUgbGEgZW1wcmVzYTogIiArIHRoaXMuaWRFbXByZXNhRWQgKyAiIHBvciBlbCB1c3VhcmlvOiAiICsgdGhpcy5pZFVzdWFyaW8KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["axios","AlertaGeneral","name","props","idEmpresa","String","components","data","metrics","continents","continentSelect","idEnterprise","isMonitorSelect","monitorOptions","options","value","text","estadoActual","metricSelect","nombreEmpresa","cifEmpresa","direccionEmpresa","telEmpresa","hectareas_disponibles","type_metric","invalidMessageNombre","invalidMessageCif","invalidMessageDir","invalidMessageTelEmpresa","mensajeAlerta","tipoAlerta","invalidMessageHec","invalidMessageMetric","idEmpresaEd","idUsuario","flag","inputTypeHec","$t","methods","disabledHec","sessionStorage","getItem","getEnterpriseStatus","url","$apiURL","$route","query","enterprise","console","log","get","then","response","is_active","catch","error","visibleAlertaConfirmacion","showAlert","$refs","alertaGeneral","verAlerta","getDatosEmpresa","localStorage","setItem","path","defaults","headers","common","cif","direction","phone_number","hectares_available","continent","is_monitor","guardarDatosEmpresa","put","input","hectareasDisponibles","estadoSeleccionado","errors","insertTraza","path_trazas","post","id_user","enterprise_code","old_status","status","crud"],"sources":["src/components/EditarEmpresaComponent.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <cv-form>\r\n            <div class=\"bx--row\">\r\n                <div class=\"bx--col-lg-6 bx--col-md-4 bx--col-sm-2\">\r\n                    <cv-text-input :label=\"$t('newEnterprise.nombre_enterprise')\" placeholder=\"Example Inc.\"\r\n                        :value=\"nombreEmpresa\" class=\"\" ref=\"nombreEmpresa\"\r\n                        :invalid-message=\"invalidMessageNombre\"></cv-text-input>\r\n                </div>\r\n                <div class=\"bx--col-lg-6 bx--col-md-4 bx--col-sm-2\">\r\n                    <cv-text-input :label=\"$t('newEnterprise.cif_enterprise')\" placeholder=\"B810...\" :value=\"cifEmpresa\"\r\n                        ref=\"cifEmpresa\" :invalid-message=\"invalidMessageCif\"></cv-text-input>\r\n                </div>\r\n            </div>\r\n            <br>\r\n            <div class=\"bx--row\">\r\n                <div class=\"bx--col-lg-6 bx--col-md-4 bx--col-sm-2\">\r\n                    <cv-text-input :label=\"$t('newEnterprise.direccion_enterprise')\" placeholder=\"Example Ave., Spain\"\r\n                        :value=\"direccionEmpresa\" ref=\"direccionEmpresa\"\r\n                        :invalid-message=\"invalidMessageDir\"></cv-text-input>\r\n                </div>\r\n                <div class=\"bx--col-lg-6 bx--col-md-4 bx--col-sm-2\">\r\n                    <cv-text-input :label=\"$t('newEnterprise.tel_enterprise')\" placeholder=\"910000000\" :value=\"telEmpresa\"\r\n                        ref=\"telEmpresa\" :invalid-message=\"invalidMessageTelEmpresa\"></cv-text-input>\r\n                </div>\r\n            </div>\r\n            <br>\r\n            <div class=\"bx--row\">\r\n                <div class=\"bx--col-lg-6 bx--col-md-4 bx--col-sm-2\">\r\n                    <cv-text-input :label=\"$t('newEnterprise.hectareas_disponible')\" placeholder=\"2.374\"\r\n                        :value=\"hectareas_disponibles\" ref=\"hectareasDisponibles\" :invalid-message=\"invalidMessageHec\"\r\n                        :disabled=\"disabledHec()\"></cv-text-input>\r\n                </div>\r\n                <div class=\"bx--col-lg-2 bx--col-md-4 bx--col-sm-4\">\r\n\r\n                    <cv-select v-model=\"metricSelect\" :label=\"inputTypeHec\" :hide-label=\"false\" :inline=\"false\"\r\n                        :value=\"metricSelect\" :disabled=\"false\" :invalid-message=\"invalidMessageMetric\">\r\n\r\n                        <cv-select-option v-for=\"(metri, i) in metrics\" :key=\"`metri-${i}`\" :value=\"metri\">\r\n                            {{ metri }}\r\n                        </cv-select-option>\r\n                    </cv-select>\r\n                </div>\r\n                <!-- D4SF-88 -->\r\n                <div class=\"bx--col-lg-2 bx--col-md-4 bx--col-sm-4\">\r\n                    <cv-select v-model=\"continentSelect\" label='Continente' :hide-label=\"false\" :inline=\"false\"\r\n                        :value=\"continentSelect\" :disabled=\"false\" helper-text=\"\">\r\n\r\n                        <cv-select-option v-for=\"(continent, i) in continents\" :key=\"`conti-${i}`\" :value=\"continent\">\r\n                            {{ continent }}\r\n                        </cv-select-option>\r\n                    </cv-select>\r\n                </div>\r\n\r\n                <div class=\"bx--col-lg-2 bx--col-md-2 bx--col-sm-4\">\r\n                    <cv-select v-model=\"isMonitorSelect\" id=\"isMonitorSelect\" label='Añadir a monitorización'\r\n                        :hide-label=\"false\" :inline=\"false\" :value=\"isMonitorSelect\" :disabled=\"false\">\r\n                        <cv-select-option v-for=\"option in monitorOptions.options\" :key=\"option.value\"\r\n                            :value=\"option.value\">\r\n                            {{ option.text }}\r\n                        </cv-select-option>\r\n                    </cv-select>\r\n                </div>\r\n                <div class=\"bx--col-lg-6 bx--col-md-4 bx--col-sm-2\" style=\"margin-top: 17px\">\r\n                    <cv-select v-model=\"estadoSeleccionado\" :size=\"md\" :inline=\"inline\" label='Selecciona un estado'>\r\n                        <cv-select-option disabled selected hidden value=\"placeholder-item\">{{ estadoActual ? 'Activa' :\r\n                            'Inactiva' }}</cv-select-option>\r\n                        <cv-select-option value=\"1\">{{ $t(\"adminEnterprise.activo\") }}</cv-select-option>\r\n                        <cv-select-option value=\"0\">{{ $t(\"adminEnterprise.inactivo\") }}</cv-select-option>\r\n                    </cv-select>\r\n                    <p>\r\n                        {{ $t(\"adminEnterprise.txt_seguro_enterprise_status\") }}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <br>\r\n            <div class=\"bx--row\">\r\n                <div class=\"bx--col-lg-6 bx--col-md-4 bx--col-sm-2\">\r\n                    <cv-button icon=\"\" @click=\"guardarDatosEmpresa\">\r\n                        {{ $t(\"newEnterprise.guardar\") }}\r\n                    </cv-button>\r\n                </div>\r\n            </div>\r\n\r\n        </cv-form>\r\n        <AlertaGeneral ref=\"alertaGeneral\" :tituloAlert=\"mensajeAlerta\" :tipoAlert=\"tipoAlerta\" />\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport AlertaGeneral from \"../components/AlertaGeneral\";\r\n\r\nexport default {\r\n    name: \"EditarEmpresaComponent\",\r\n    props: {\r\n        idEmpresa: String\r\n    },\r\n    components: { AlertaGeneral },\r\n    data() {\r\n        return {\r\n            metrics: ['Ha', 'Acre'],\r\n            //D4SF-88\r\n            continents: ['América', 'Europa'],\r\n            continentSelect: null,\r\n            idEnterprise: null,\r\n            isMonitorSelect: null,\r\n            monitorOptions: {\r\n                options: [\r\n                    { value: true, text: 'Si' },\r\n                    { value: false, text: 'No' }\r\n                ]\r\n            },\r\n            estadoActual: null,\r\n            metricSelect: null,\r\n            nombreEmpresa: '',\r\n            cifEmpresa: '',\r\n            direccionEmpresa: '',\r\n            telEmpresa: '',\r\n            hectareas_disponibles: '',\r\n            type_metric: '',\r\n            //\r\n            invalidMessageNombre: '',\r\n            invalidMessageCif: '',\r\n            invalidMessageDir: '',\r\n            invalidMessageTelEmpresa: '',\r\n            mensajeAlerta: '',\r\n            tipoAlerta: '',\r\n            invalidMessageHec: '',\r\n            invalidMessageMetric: '',\r\n            idEmpresaEd: '',\r\n            idUsuario: '',\r\n            flag: false,\r\n            inputTypeHec: this.$t('newEnterprise.tipo_Metrica'),\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        disabledHec() {\r\n            if (sessionStorage.getItem('is_superuser') == 'true' || sessionStorage.getItem('is_systemadmin') == 'true') {\r\n                return false\r\n            } else {\r\n                return true\r\n            }\r\n        },\r\n        getEnterpriseStatus() {\r\n\r\n            const url = `${this.$apiURL}/enterprises/${this.$route.query.enterprise}/`;\r\n            console.log(\"URL:\", url);\r\n            axios.get(url)\r\n                .then(response => {\r\n                    this.estadoActual = response.data.is_active;\r\n                    console.log(\"Estado activo:\", this.estadoActual);\r\n                })\r\n                .catch(error => {\r\n                    console.error(\"Error al obtener el estado de la empresa:\", error);\r\n                    this.visibleAlertaConfirmacion = false;\r\n                });\r\n        },\r\n        showAlert() {\r\n            this.mensajeAlerta = `${this.$t('newEnterprise.save_enterprise')}`\r\n            this.tipoAlerta = 'success'\r\n            this.$refs.alertaGeneral.verAlerta()\r\n        },\r\n        getDatosEmpresa(idEmpresa) {\r\n\r\n            this.idEmpresaEd = idEmpresa\r\n\r\n            if (idEmpresa) {\r\n                this.idEmpresaEd = idEmpresa;\r\n                localStorage.setItem(\"enterprise\", idEmpresa);\r\n                sessionStorage.setItem(\"enterprise\", localStorage.getItem(\"enterprise\"));\r\n            } else {\r\n                this.idEmpresaEd = this.idEmpresaEd || localStorage.getItem(\"enterprise\") || sessionStorage.getItem(\"enterprise\");\r\n            }\r\n            const path = `${this.$apiURL}/enterprises/${this.idEmpresaEd}/`;\r\n\r\n            /* Checkar que el path siempre tiene un valor no nulo / definido */\r\n\r\n            console.log(\"Path getDatosEmpresa:\", path);\r\n\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \" + sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n                .get(path)\r\n                .then(response => {\r\n                    this.nombreEmpresa = response.data.name\r\n                    this.cifEmpresa = response.data.cif\r\n                    this.direccionEmpresa = response.data.direction\r\n                    this.telEmpresa = response.data.phone_number\r\n                    this.hectareas_disponibles = response.data.hectares_available\r\n                    this.metricSelect = response.data.type_metric\r\n                    this.estadoActual = response.data.is_active\r\n                    //D4SF-88\r\n                    this.continentSelect = response.data.continent\r\n                    this.isMonitorSelect = response.data.is_monitor\r\n                    // todo: solventar el problema de que no se guarda el valor de isMonitorSelect\r\n                    if (this.isMonitorSelect == false) {\r\n                        this.isMonitorSelect = 'No';\r\n                    }\r\n                })\r\n\r\n        },\r\n        async guardarDatosEmpresa() {\r\n            this.flag = false;\r\n            this.idUsuario = sessionStorage.getItem(\"user\");\r\n            this.idEnterprise = localStorage.getItem(\"enterprise\");\r\n\r\n            const path = `${this.$apiURL}/enterprises/${this.idEnterprise}/`;\r\n\r\n            if (this.isMonitorSelect === 'No') {\r\n                this.isMonitorSelect = false;\r\n            }\r\n\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \" + sessionStorage.getItem(\"apiAccess\")\r\n\r\n            axios.put(path, {\r\n                name: this.$refs.nombreEmpresa.$refs.input.value,\r\n                direction: this.$refs.direccionEmpresa.$refs.input.value,\r\n                cif: this.$refs.cifEmpresa.$refs.input.value,\r\n                phone_number: this.$refs.telEmpresa.$refs.input.value,\r\n                hectares_available: this.$refs.hectareasDisponibles.$refs.input.value,\r\n                type_metric: this.metricSelect,\r\n                //D4SF-88\r\n                continent: this.continentSelect,\r\n                is_monitor: this.isMonitorSelect,\r\n                is_active: this.estadoSeleccionado,\r\n            }).then(() => {\r\n                this.showAlert();\r\n            }).catch(error => {\r\n                this.flag = true;\r\n                const errors = error.response.data\r\n                if (errors.name)\r\n                    this.invalidMessageNombre = `${this.$t('newEnterprise.campo_requerido')}`\r\n                if (errors.cif)\r\n                    this.invalidMessageCif = `${this.$t('newEnterprise.campo_requerido')}`\r\n                if (errors.direction)\r\n                    this.invalidMessageDir = `${this.$t('newEnterprise.campo_requerido')}`\r\n                if (errors.phone_number)\r\n                    this.invalidMessageTelEmpresa = `${this.$t('newEnterprise.campo_requerido')}`\r\n                if (errors.hectares_available)\r\n                    this.invalidMessageHec = `${this.$t('newEnterprise.campo_requerido')}`\r\n            });\r\n            if (!this.flag) {\r\n                if (typeof this.estadoSeleccionado != 'undefined'){\r\n                    this.insertTraza();\r\n                }\r\n                this.showAlert();\r\n            }\r\n        },\r\n        insertTraza() {\r\n            const path_trazas = `${this.$apiURL}/insert_trazas/`;\r\n            axios.post(path_trazas, {\r\n                id_user: this.idUsuario,\r\n                enterprise_code: this.idEmpresaEd,\r\n                old_status: this.estadoActual,\r\n                status: this.estadoSeleccionado,\r\n                crud: \"Nuevo estado: \" + this.estadoSeleccionado + \" de la empresa: \" + this.idEmpresaEd + \" por el usuario: \" + this.idUsuario\r\n            })\r\n        },\r\n    },\r\n};\r\n</script> \r\n<style scoped></style>"],"mappings":"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"}]}