{"remainingRequest":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\components\\mapController\\ControllerPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\components\\mapController\\ControllerPanel.vue","mtime":1717087094381},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\babel.config.js","mtime":1681217492507},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgovL2ltcG9ydCBwcm9qNCBmcm9tICdwcm9qNCcKLy9pbXBvcnQge3BvbHlnb25DZW50ZXJ9IGZyb20gJ0AvY3J1ZEZ1bmN0aW9ucy9jcnVkRW50ZXJwcmlzZScKaW1wb3J0IHsgZ2V0RW50ZXJwcmlzZSwgZ2V0QWxsRW50ZXJwcmlzZXMsIC8qZ2V0QWxsQWN0aXZlRW50ZXJwcmlzZXMsKi9nZXRGZWNoYXNTZW50aW5lbCwgc2V0UGFyY2Vsc0Zvckluc3RhbmNlIH0gZnJvbSAnQC9jcnVkRnVuY3Rpb25zL2NydWRFbnRlcnByaXNlJzsgLy9nZXRFbnRlcnByaXNlCmltcG9ydCB7IGdldENvb3BlcmF0aXZlIH0gZnJvbSAnQC9jcnVkRnVuY3Rpb25zL2NydWRDb29wZXJhdGl2YXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NvbnRyb2xsZXJQYW5lbCcsCiAgcHJvcHM6IHsKICAgIHVzZXJuYW1lOiBTdHJpbmcsCiAgICBhcnJFbnRlcnByaXNlczogQXJyYXksCiAgICBhcnJDb29wZXJhdGl2YXM6IEFycmF5LAogICAgY2VudHJvOiBbXSwKICAgIGxheWVyc1NlbGVjdG9yOiBBcnJheSwKICAgIGNoZWNrZWRUb2dnbGVNb3N0YXJUZXh0bzogQm9vbGVhbiwKICAgIGlzX3N1cGVydXNlcjogQm9vbGVhbiwKICAgIGlzX3N5c3RlbWFkbWluOiBCb29sZWFuLAogICAgaXNfc3RhZmY6IEJvb2xlYW4sCiAgICBpc19lbnRlcnByaXNlYWRtaW46IEJvb2xlYW4sCiAgICBpc19jb29wX3VzZXI6IEJvb2xlYW4sCiAgICBtYXBDb21wb25lbnQ6IE9iamVjdCwKICAgIGFsbFBhcmNlbHNPZkVudGVycHJpc2VzOiBBcnJheSwKICAgIGFsbFBhcmNlbHNPZkVudGVycHJpc2VzRmlsdGVyOiBBcnJheSwKICAgIFNlbnRpbmVsTGF5ZXI6IFN0cmluZwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3RhZG9FbXByZXNhczogdGhpcy5hcnJFbnRlcnByaXNlcywKICAgICAgY2FsT3B0aW9uczogewogICAgICAgICJkYXRlRm9ybWF0IjogIlktbS1kIgogICAgICB9LAogICAgICB2YWx1ZURhdGVzOiBbXSwKICAgICAgaXNBY3RpdmVMb2FkaW5nRmVjaGFzU2VudDogZmFsc2UsCiAgICAgIGlzVmlzaWJsZUxvYWRGZWNoYXNTZW50OiBmYWxzZSwKICAgICAgZXhwYW5kOiB0cnVlLAogICAgICBleHBhbmQyOiB0cnVlLAogICAgICBlcm9yQ29tcGFHZW9sb2M6ICcnLAogICAgICBtb3N0cmFySWNvbkVyckdlb2xvYzogJycsCiAgICAgIGVtcHJlc2Ffc2VsZWM6IE9iamVjdCgpCiAgICB9OwogIH0sCiAgY29tcG9uZW50czoge30sCiAgbWV0aG9kczogewogICAgLy8gcGFyYSBvcmRlbmFyIGxhcyBlbXByZXNhcyBkZSBsYSBjb29wZXJhdGl2YSBhbGZhYsOpdGljYW1lbnRlCiAgICBnZXRTb3J0ZWRDb29wZXJhdGl2YShjb29wZXJhdGl2YSkgewogICAgICByZXR1cm4gewogICAgICAgIC4uLmNvb3BlcmF0aXZhLAogICAgICAgIGVudGVycHJpc2VzOiBjb29wZXJhdGl2YS5lbnRlcnByaXNlcy5zbGljZSgpLnNvcnQoKGEsIGIpID0+IHsKICAgICAgICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpOwogICAgICAgIH0pCiAgICAgIH07CiAgICB9LAogICAgY2FyZ2FMb2NhbGl6YWNpb25BY3R1YWwoKSB7CiAgICAgIGlmICghKCJnZW9sb2NhdGlvbiIgaW4gbmF2aWdhdG9yKSkgewogICAgICAgIHRoaXMuZXJvckNvbXBhR2VvbG9jID0gdGhpcy4kdCgnbWFwLmxvY19ub19kaXNwb25pYmxlJyk7CiAgICAgICAgdGhpcy5tb3N0cmFySWNvbkVyckdlb2xvYyA9IHRydWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyBnZXQgcG9zaXRpb24KICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihwb3MgPT4gewogICAgICAgIGNvbnNvbGUuaW5mbygnTG9jYWxpemFjaW9uIGF1dG9yaXphZGEnLCBwb3MpOwogICAgICAgIHRoaXMubW9zdHJhckljb25FcnJHZW9sb2MgPSBmYWxzZTsKICAgICAgICB0aGlzLiRlbWl0KCdzZXRDZW50ZXInLCBbcG9zLmNvb3Jkcy5sb25naXR1ZGUsIHBvcy5jb29yZHMubGF0aXR1ZGVdKTsKICAgICAgICB0aGlzLiRlbWl0KCdzZXRDZW50ZXJMb2NhdGlvbicsIFtwb3MuY29vcmRzLmxvbmdpdHVkZSwgcG9zLmNvb3Jkcy5sYXRpdHVkZV0pOwogICAgICB9LCBlcnIgPT4gewogICAgICAgIHRoaXMubW9zdHJhckljb25FcnJHZW9sb2MgPSB0cnVlOwogICAgICAgIGNvbnNvbGUuaW5mbygnTG9jYWxpemFjacOzbiBubyBhdXRvcml6YWRhJywgZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgb25jbGlja1RpbGUoKSB7CiAgICAgIGlmICh0aGlzLmV4cGFuZCkgewogICAgICAgIHRoaXMuZXhwYW5kID0gZmFsc2U7CiAgICAgICAgdGhpcy4kcmVmcy5sYXllcnNDb250cm9sZXJzUmVzcG9uc2l2ZS5zdHlsZVsnbWF4LWhlaWdodCddID0gJyc7CiAgICAgICAgdGhpcy4kcmVmcy5sYXllcnNDb250cm9sZXJzUmVzcG9uc2l2ZS5zdHlsZVsnb3ZlcmZsb3cteSddID0gJyc7CiAgICAgICAgdGhpcy5jb21wb25lbnREcm9wICs9IDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5leHBhbmQgPSB0cnVlOwogICAgICAgIHRoaXMuJHJlZnMubGF5ZXJzQ29udHJvbGVyc1Jlc3BvbnNpdmUuc3R5bGVbJ21heC1oZWlnaHQnXSA9ICc5MCUnOwogICAgICAgIHRoaXMuJHJlZnMubGF5ZXJzQ29udHJvbGVyc1Jlc3BvbnNpdmUuc3R5bGVbJ292ZXJmbG93LXknXSA9ICdhdXRvJzsKICAgICAgfQogICAgfSwKICAgIG9uY2xpY2tUaWxlMigpIHsKICAgICAgaWYgKHRoaXMuZXhwYW5kMikgewogICAgICAgIHRoaXMuZXhwYW5kMiA9IGZhbHNlOwogICAgICAgIHRoaXMuJHJlZnMuc2VudGluZWxMYXllcnNMaXN0Q29sbGFwc2Uuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICB0aGlzLiRyZWZzLnNlbnRpbmVsTGF5ZXJzTGlzdENvbGxhcHNlUC4kZWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICB0aGlzLmNsYXNzZmVjaGFSID0gYGA7CiAgICAgICAgdGhpcy5jbGFzc2ZlY2hhYjEgPSBgYDsKICAgICAgICB0aGlzLmNsYXNzZmVjaGFiMiA9IGBgOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXhwYW5kMiA9IHRydWU7CiAgICAgICAgdGhpcy4kcmVmcy5zZW50aW5lbExheWVyc0xpc3RDb2xsYXBzZS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICB0aGlzLiRyZWZzLnNlbnRpbmVsTGF5ZXJzTGlzdENvbGxhcHNlUC4kZWwuc3R5bGUuZGlzcGxheSA9ICIiOwogICAgICAgIHRoaXMuY2xhc3NmZWNoYVIgPSBgYngtLXJvd2AsIHRoaXMuY2xhc3NmZWNoYWIxID0gYGJ4LS1jb2wtbGctNyBieC0tY29sLW1kLTEwIGJ4LS1jb2wtc20tOGA7CiAgICAgICAgdGhpcy5jbGFzc2ZlY2hhYjIgPSBgYngtLWNvbC1sZy0xIGJ4LS1jb2wtbWQtMSBieC0tY29sLXNtLTFgOwogICAgICB9CiAgICB9LAogICAgc2VsZWNjaW9uYUVtcHJlc2EoZW1wcmVzYSkgewogICAgICB0aGlzLmVtcHJlc2Ffc2VsZWMgPSBlbXByZXNhOwogICAgICBjb25zdCBub21icmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZWN0RW1wIik7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlbXByZXNhIikuaW5uZXJIVE1MID0gbm9tYnJlLm9wdGlvbnNbbm9tYnJlLnNlbGVjdGVkSW5kZXhdLnRleHQ7CiAgICAgIGNvbnN0IGFyclBhcmNlbHMgPSBbXTsKICAgICAgY29uc29sZS5sb2coIkVtcHJlc2Egc2VsZWNjY2lvbmFkYSAiLCBlbXByZXNhKTsKICAgICAgaWYgKGVtcHJlc2EgPT0gJ2FsbCcpIHsKICAgICAgICBnZXRBbGxFbnRlcnByaXNlcygpLnRoZW4oYXN5bmMgcmVzcG9uc2UgPT4gewogICAgICAgICAgcmVzcG9uc2UuZGF0YS5tYXAoZW50ZXJwcmlzZSA9PiB7CiAgICAgICAgICAgIGVudGVycHJpc2UucGFyY2Vscy5mZWF0dXJlcy5tYXAocGFyY2VsID0+IHsKICAgICAgICAgICAgICBhcnJQYXJjZWxzLnB1c2gocGFyY2VsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3NldEVudGVycHJpc2UnLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3NldEFsbFBhcmNlbHNPZkVudGVycHJpc2VzJywgYXJyUGFyY2Vscyk7CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgb2J0ZW5lciBlbXByZXNhcyBhY3RpdmFzOicsIGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCByZXN1bHQgPSBlbXByZXNhLnNwbGl0KCdfJyk7CiAgICAgICAgaWYgKHJlc3VsdFswXSA9PSAnY29vcCcpIHsKICAgICAgICAgIGdldENvb3BlcmF0aXZlKHJlc3VsdFsxXSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZW50ZXJwcmlzZXMubWFwKGVudGVycHJpc2UgPT4gewogICAgICAgICAgICAgIGVudGVycHJpc2UucGFyY2Vscy5mZWF0dXJlcy5tYXAocGFyY2VsID0+IHsKICAgICAgICAgICAgICAgIGFyclBhcmNlbHMucHVzaChwYXJjZWwpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2V0RW50ZXJwcmlzZScsIHJlc3BvbnNlLmRhdGEuZW50ZXJwcmlzZXMpOwogICAgICAgICAgICB0aGlzLiRlbWl0KCdzZXRBbGxQYXJjZWxzT2ZFbnRlcnByaXNlcycsIGFyclBhcmNlbHMpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGdldEVudGVycHJpc2UoZW1wcmVzYSkudGhlbihhc3luYyByZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEucGFyY2Vscy5mZWF0dXJlcy5tYXAocGFyY2VsID0+IHsKICAgICAgICAgICAgICBhcnJQYXJjZWxzLnB1c2gocGFyY2VsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwYXJhZGEnKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2V0RW50ZXJwcmlzZScsIFtyZXNwb25zZS5kYXRhXSk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3NldEFsbFBhcmNlbHNPZkVudGVycHJpc2VzJywgYXJyUGFyY2Vscyk7CiAgICAgICAgICAgIGNvbnN0IGFsbENvb3JkaW5hdGVzID0gQXJyYXkoKTsKICAgICAgICAgICAgYXJyUGFyY2Vscy5tYXAocGFyY2VsID0+IHsKICAgICAgICAgICAgICBhbGxDb29yZGluYXRlcy5wdXNoKHBhcmNlbC5nZW9tZXRyeS5jb29yZGluYXRlcyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBhd2FpdCBzZXRQYXJjZWxzRm9ySW5zdGFuY2UocmVzcG9uc2UuZGF0YS5uYW1lLCBhbGxDb29yZGluYXRlcywgcmVzcG9uc2UuZGF0YS5zZW50aW5lbF9pbnN0YW5jZSkudGhlbihyZXNwb25zZTEgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhgT0sgcmVmcmVzY2FkbyBwYXJjZWxhcyBkZSAke3Jlc3BvbnNlLmRhdGEubmFtZX1gLCByZXNwb25zZTEuZGF0YSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiBjb25zb2xlLmluZm8oYEVSUk9SIHJlZnJlc2NhZG8gcGFyY2VsYXMgZGUgJHtyZXNwb25zZS5kYXRhLm5hbWV9YCwgZXJyKSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhY3Rpb25DaGFuZ2VQYXJjZWxzKHZhbG9yKSB7CiAgICAgIGxldCByZXN1bHQgPSBbXTsKICAgICAgdGhpcy5hcnJFbnRlcnByaXNlcy5tYXAoZW50ZXJwcmlzZSA9PiB7CiAgICAgICAgZW50ZXJwcmlzZS5wYXJjZWxzLmZlYXR1cmVzLm1hcChmZWF0dXJlID0+IHsKICAgICAgICAgIGlmIChmZWF0dXJlLmlkID09IHZhbG9yKSB7CiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGZlYXR1cmUpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgY29uc3QgY29vcmRlbmFkYXNHZW9tZXRyaWNhcyA9IHJlc3VsdFswXS5nZW9tZXRyeS5jb29yZGluYXRlc1swXTsKICAgICAgY29uc3QgbmV3Q2VudGVyID0gdGhpcy5nZXRDZW50ZXIoY29vcmRlbmFkYXNHZW9tZXRyaWNhcyk7CiAgICAgIGNvbnN0IGFyckFsbFBhcmNlbHNGaWx0ZXIgPSB0aGlzLmFsbFBhcmNlbHNPZkVudGVycHJpc2VzRmlsdGVyOwogICAgICB0aGlzLiRlbWl0KCdzZXRDZW50ZXInLCBbbmV3Q2VudGVyWzBdLCBuZXdDZW50ZXJbMV1dKTsKICAgICAgdGhpcy4kZW1pdCgnc2V0ZmxhZ3BhcmNlbGEnLCAxNi41KTsKICAgICAgdGhpcy4kZW1pdCgnc2V0QWxsUGFyY2Vsc09mRW50ZXJwcmlzZXNGaWx0ZXInLCBhcnJBbGxQYXJjZWxzRmlsdGVyKTsKICAgIH0sCiAgICBhY3Rpb25DaGFuZ2VEYXRlKHZhbG9yKSB7CiAgICAgIGNvbnN0IGFyckZlY2hhcyA9IHZhbG9yLnNwbGl0KCcsICcpOwogICAgICBpZiAoYXJyRmVjaGFzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgdGhpcy50aW1lID0gIjIwMTktMDEtMDEvIiArIHZhbG9yOwogICAgICAgIHRoaXMuJGVtaXQoJ3NldEZlY2hhU2VudGluZWwnLCB2YWxvcik7CiAgICAgIH0KICAgIH0sCiAgICBhY3Rpb25DbGlja0RhdGVDYXJnYUZlY2hhc1NlbnQoKSB7CiAgICAgIHRoaXMuaXNBY3RpdmVMb2FkaW5nRmVjaGFzU2VudCA9IHRydWU7CiAgICAgIHRoaXMuaXNBY3RpdmVMb2FkaW5nRmVjaGFzU2VudCA9IHRydWU7CiAgICAgIGdldEZlY2hhc1NlbnRpbmVsKHRoaXMubWFwQ29tcG9uZW50LnByZXZpb3VzRXh0ZW50XykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc3QgcmVzcHVlc3RhID0gcmVzcG9uc2UuZGF0YS5mZWF0dXJlczsKICAgICAgICBjb25zdCBmZWNoYXNBcnJheSA9IEFycmF5KCk7CiAgICAgICAgcmVzcHVlc3RhLmZvckVhY2goZmVhdHVyZSA9PiB7CiAgICAgICAgICBmZWNoYXNBcnJheS5wdXNoKGZlYXR1cmUucHJvcGVydGllcy5kYXRlKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLnZhbHVlRGF0ZXMgPSBmZWNoYXNBcnJheS5yZXZlcnNlKCk7CiAgICAgICAgdGhpcy5pc0FjdGl2ZUxvYWRpbmdGZWNoYXNTZW50ID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc0FjdGl2ZUxvYWRpbmdGZWNoYXNTZW50ID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGdldENlbnRlcihjb29yZGVuYWRhc0dlb21ldHJpY2FzKSB7CiAgICAgIHZhciBtaW5YLCBtYXhYLCBtaW5ZLCBtYXhZOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb3JkZW5hZGFzR2VvbWV0cmljYXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBtaW5YID0gY29vcmRlbmFkYXNHZW9tZXRyaWNhc1tpXVswXSA8IG1pblggfHwgbWluWCA9PSBudWxsID8gY29vcmRlbmFkYXNHZW9tZXRyaWNhc1tpXVswXSA6IG1pblg7CiAgICAgICAgbWF4WCA9IGNvb3JkZW5hZGFzR2VvbWV0cmljYXNbaV1bMF0gPiBtYXhYIHx8IG1heFggPT0gbnVsbCA/IGNvb3JkZW5hZGFzR2VvbWV0cmljYXNbaV1bMF0gOiBtYXhYOwogICAgICAgIG1pblkgPSBjb29yZGVuYWRhc0dlb21ldHJpY2FzW2ldWzFdIDwgbWluWSB8fCBtaW5ZID09IG51bGwgPyBjb29yZGVuYWRhc0dlb21ldHJpY2FzW2ldWzFdIDogbWluWTsKICAgICAgICBtYXhZID0gY29vcmRlbmFkYXNHZW9tZXRyaWNhc1tpXVsxXSA+IG1heFkgfHwgbWF4WSA9PSBudWxsID8gY29vcmRlbmFkYXNHZW9tZXRyaWNhc1tpXVsxXSA6IG1heFk7CiAgICAgIH0KICAgICAgcmV0dXJuIFsobWluWCArIG1heFgpIC8gMiwgKG1pblkgKyBtYXhZKSAvIDJdOwogICAgfSwKICAgIG9uQnVzY2FyKGJ1c3F1ZWRhKSB7CiAgICAgIGlmIChidXNxdWVkYSkgewogICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYWxsUGFyY2Vsc09mRW50ZXJwcmlzZXMuZmlsdGVyKHBhcmNlbCA9PiBwYXJjZWwucHJvcGVydGllcy5uYW1lLnRvVXBwZXJDYXNlKCkuaW5jbHVkZXMoYnVzcXVlZGEudG9VcHBlckNhc2UoKSkpOwogICAgICAgIHRoaXMuYWxsUGFyY2Vsc09mRW50ZXJwcmlzZXNGaWx0ZXIgPSByZXN1bHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hbGxQYXJjZWxzT2ZFbnRlcnByaXNlc0ZpbHRlciA9IHRoaXMuYWxsUGFyY2Vsc09mRW50ZXJwcmlzZXM7CiAgICAgIH0KICAgIH0sCiAgICBnZXROYW1lRW50ZXJwcmlzZSh2YWx1ZSkgewogICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmFyckVudGVycHJpc2VzLmZpbHRlcihlbnRlcnByaXNlID0+IGVudGVycHJpc2UuaWQgPT0gdmFsdWUpOwogICAgICByZXR1cm4gcmVzdWx0WzBdLm5hbWU7CiAgICB9LAogICAgYWN0aW9uQ2hhbmdlZFRvZ2dsZSh2YWx1ZSkgewogICAgICAvL3RoaXMuY2hlY2tlZFRvZ2dsZU1vc3RhclRleHRvID0gdmFsdWUKICAgICAgdGhpcy4kZW1pdCgnc2V0VG9nZ2xlTW9zdHJhclRleHRvJywgdmFsdWUpOwogICAgfSwKICAgIGFjdGlvbkNoYW5nZWRBbGVydFNvbHBhbWllbnRvVG9nZ2xlKHZhbHVlKSB7CiAgICAgIGNvbnNvbGUud2FybignYWN0aW9uQ2hhbmdlZEFsZXJ0U29scGFtaWVudG9Ub2dnbGUnLCB2YWx1ZSk7CiAgICAgIC8vdGhpcy5jaGVja2VkVG9nZ2xlTW9zdGFyVGV4dG8gPSB2YWx1ZQogICAgICB0aGlzLiRlbWl0KCdzZXRUb2dnbGVBbGVydFNvbHBhbWllbnRvJywgdmFsdWUpOwogICAgfSwKICAgIGFjdGlvbkNoYW5nZWRUb2dnbGVJY29ub1ViaSh2YWx1ZSkgewogICAgICB0aGlzLiRlbWl0KCdzZXRPY3VsdGFySW5jb25vVWJpJywgdmFsdWUpOwogICAgfSwKICAgIGFjdGlvbkNoYW5nZUxheWVycyh2YWx1ZSkgewogICAgICB0aGlzLiRlbWl0KCdzZXRTZW50aW5lbExheWVyJywgdmFsdWUpOwogICAgfSwKICAgIGFjdGlvbkNsZWFyQ2FjaGVTZW50aW5lbCgpIHsKICAgICAgdGhpcy4kZW1pdCgnc2V0U2VudGluZWxDbGVhckNhY2hlJyk7CiAgICB9LAogICAgYWN0aW9uQ2hhbmdlT3BhY2l0eSh2YWx1ZSkgewogICAgICB0aGlzLiRlbWl0KCdzZXRTZW50aW5lbE9wYWNpdHknLCB2YWx1ZSAvIDEwMCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuc2VsZWNjaW9uYUVtcHJlc2EoJ2FsbCcpOwogICAgfSk7CiAgICAvL2NvbnNvbGUuaW5mbygnVXNlciBMb2dnZWQnKQogIH0sCiAgYmVmb3JlQ3JlYXRlKCkge30sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIHBhcmEgb3JkZW5hciBsYXMgZW1wcmVzYXMgYWxmYWLDqXRpY2FtZW50ZQogICAgc29ydGVkTGlzdGFkb0VtcHJlc2FzKCkgewogICAgICByZXR1cm4gdGhpcy5saXN0YWRvRW1wcmVzYXMuc2xpY2UoKS5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgcmV0dXJuIGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["getEnterprise","getAllEnterprises","getFechasSentinel","setParcelsForInstance","getCooperative","name","props","username","String","arrEnterprises","Array","arrCooperativas","centro","layersSelector","checkedToggleMostarTexto","Boolean","is_superuser","is_systemadmin","is_staff","is_enterpriseadmin","is_coop_user","mapComponent","Object","allParcelsOfEnterprises","allParcelsOfEnterprisesFilter","SentinelLayer","data","listadoEmpresas","calOptions","valueDates","isActiveLoadingFechasSent","isVisibleLoadFechasSent","expand","expand2","erorCompaGeoloc","mostrarIconErrGeoloc","empresa_selec","components","methods","getSortedCooperativa","cooperativa","enterprises","slice","sort","a","b","localeCompare","cargaLocalizacionActual","navigator","$t","geolocation","getCurrentPosition","pos","console","info","$emit","coords","longitude","latitude","err","onclickTile","$refs","layersControlersResponsive","style","componentDrop","onclickTile2","sentinelLayersListCollapse","display","sentinelLayersListCollapseP","$el","classfechaR","classfechab1","classfechab2","seleccionaEmpresa","empresa","nombre","document","getElementById","innerHTML","options","selectedIndex","text","arrParcels","log","then","response","map","enterprise","parcels","features","parcel","push","catch","error","result","split","allCoordinates","geometry","coordinates","sentinel_instance","response1","actionChangeParcels","valor","feature","id","coordenadasGeometricas","newCenter","getCenter","arrAllParcelsFilter","actionChangeDate","arrFechas","length","time","actionClickDateCargaFechasSent","previousExtent_","respuesta","fechasArray","forEach","properties","date","reverse","minX","maxX","minY","maxY","i","onBuscar","busqueda","filter","toUpperCase","includes","getNameEnterprise","value","actionChangedToggle","actionChangedAlertSolpamientoToggle","warn","actionChangedToggleIconoUbi","actionChangeLayers","actionClearCacheSentinel","actionChangeOpacity","mounted","$nextTick","beforeCreate","computed","sortedListadoEmpresas"],"sources":["src/components/mapController/ControllerPanel.vue"],"sourcesContent":["<template>\r\n    <div id=\"layersControler\" class=\"layersControler\" ref=\"layersController\">\r\n        <div>\r\n            <div class=\"bx--row\">\r\n                <div class=\"bx--col\">\r\n                    <span><ChevronSortDown20  @click=\"onclickTile2\" v-if=\"expand2\"/></span><span><ChevronSortUp20 @click=\"onclickTile2\" v-if=\"!expand2\" style=\"transform: translate(0px, 10px)\"/></span>\r\n                </div>\r\n                <div class=\"bx--col\">\r\n                    <div id=\"geolocIcon\" style=\"text-align: right;\">\r\n                        <div v-if=\"mostrarIconErrGeoloc === ''\" @click=\"cargaLocalizacionActual()\">\r\n                            <p style=\"cursor: pointer; font-size: 14px;\">Mostrar mi ubicación <img src=\"../../assets/airport-location.svg\" style=\"width: 14px; height: 14px;\"></p>\r\n                        </div>\r\n                        <div v-else-if=\"mostrarIconErrGeoloc === false\" @click=\"cargaLocalizacionActual()\">\r\n                            <p style=\"cursor: pointer; font-size: 14px;\">Para volver a localizar mi ubicación, haz click aquí <Location16 style=\"stroke: #00abff; width: 14px; height: 14px; fill: #00abff;\"/></p>\r\n                        </div>\r\n                        <div v-else-if=\"mostrarIconErrGeoloc === true\" @click=\"cargaLocalizacionActual()\">\r\n                            <p style=\"cursor: pointer; font-size: 14px;\">No temenos acceso a tu ubicación <img src=\"../../assets/location--hazard.svg\" style=\"width: 14px; height: 14px;\"></p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div v-if=\"is_superuser || is_systemadmin || is_coop_user\">\r\n            <cv-select\r\n                theme=\"\"\r\n                :label=\"$t('map.listado_empresas')\"\r\n                :hide-label=\"false\"\r\n                :inline=\"false\"\r\n                :disabled=\"false\"\r\n                @change=\"seleccionaEmpresa\"\r\n                id=\"selectEmp\"\r\n                >\r\n                <cv-select-option disabled selected hidden>{{$t(\"map.sel_empresa\")}}</cv-select-option>\r\n                <cv-select-optgroup label=\"Todas las Empresas\" v-if=\"is_superuser || is_systemadmin\">\r\n                    <cv-select-option :value=\"`all`\" v-if=\"is_superuser || is_systemadmin\">{{$t(\"map.most_todas_empresas\")}}</cv-select-option>\r\n                    <cv-select-option v-for=\"empresa in sortedListadoEmpresas\" :value=\"String(empresa.id)\"  v-bind:key=\"empresa.id\">\r\n                        {{empresa.name}}\r\n                    </cv-select-option>\r\n                </cv-select-optgroup>\r\n                <cv-select-optgroup :label=\"`Cooperativa ${cooperativa.name}`\" v-bind:key=\"cooperativa.id\" v-for=\"cooperativa in arrCooperativas\">\r\n                    <cv-select-option :value=\"`coop_${cooperativa.id}`\">{{$t(\"map.most_todas_empresas\")}}</cv-select-option>\r\n                    <cv-select-option v-for=\"empresa in getSortedCooperativa(cooperativa).enterprises\" :value=\"String(empresa.id)\"  v-bind:key=\"empresa.id\">\r\n                        {{empresa.name}}\r\n                    </cv-select-option>\r\n                </cv-select-optgroup>\r\n            </cv-select>\r\n            <p>Actualmente mostrando las parcelas de: <strong><u><span id=\"empresa\"></span></u></strong></p>\r\n        </div>\r\n        <!--\r\n        <div id=\"sentinelLayersList\" ref=\"sentinelLayersListCollapse\">\r\n            <cv-structured-list selectable>\r\n                <template slot=\"headings\">\r\n                    <cv-structured-list-heading>{{$t(\"map.parcelas_de\")}}</cv-structured-list-heading>\r\n                </template>\r\n                <template slot=\"items\" v-for=\"enterprise in arrEnterprises\">\r\n                        {{`${enterprise.name}`}}\r\n                    <template v-if=\"enterprise.parcels\">\r\n                        <cv-structured-list-item\r\n                            v-for=\"feature in enterprise.parcels.features\"\r\n                            v-bind:key=\"feature.id\" \r\n                            name=\"group-1\"\r\n                            :value=\"String(feature.id)\"\r\n                            ref=\"listaDeParcelas\"\r\n                            @change=\"actionChangeParcels\"\r\n                        >\r\n                            <cv-structured-list-data>{{feature.properties.name}} - {{enterprise.name}}</cv-structured-list-data>\r\n                        </cv-structured-list-item>\r\n                    </template>\r\n                </template>\r\n            </cv-structured-list>  \r\n        </div>\r\n        -->\r\n        <div ref=\"sentinelLayersListCollapse\">\r\n            <cv-search :placeholder=\"`Buscar`\" @input=\"onBuscar\" ></cv-search>\r\n            <cv-structured-list-heading >Listado de Parcelas </cv-structured-list-heading>\r\n            <div id=\"sentinelLayersList\">\r\n                \r\n                <cv-structured-list selectable>\r\n                    <template slot=\"items\" v-for=\"parcel in allParcelsOfEnterprisesFilter\">\r\n                        <template>\r\n                            <cv-structured-list-item\r\n                                v-bind:key=\"parcel.id\" \r\n                                name=\"group-1\"\r\n                                :value=\"String(parcel.id)\"\r\n                                ref=\"listaDeParcelas\"\r\n                                @change=\"actionChangeParcels\"\r\n                            >\r\n                                <cv-structured-list-data>{{is_superuser ? parcel.id+' - ' : ''}}{{parcel.properties.name}} - {{getNameEnterprise(parcel.properties.enterprise_id)}}</cv-structured-list-data>\r\n                            </cv-structured-list-item>\r\n                        </template>\r\n                    </template>\r\n                </cv-structured-list>  \r\n            </div>\r\n        \r\n            <br>\r\n\r\n            <div v-if=\"this.is_superuser\">\r\n                <div class=\"bx--row\">\r\n                    <div class=\"bx--col\">\r\n                        <cv-toggle\r\n                            :checked=\"true\"\r\n                            label=\"Desbordamiento de Alerta  de Parcelas\"\r\n                            value=\"check-2\"\r\n                            :small=\"true\"\r\n                            :hide-label=\"true\"\r\n                            @change=\"actionChangedAlertSolpamientoToggle\">\r\n                            <template slot=\"text-left\">Desactivado alerta de solapamiento de Parcelas</template>\r\n                            <template slot=\"text-right\">Activado alerta de solapamiento de Parcelas</template>\r\n                        </cv-toggle>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        \r\n            <br>\r\n            <div>\r\n                <div class=\"bx--row\">\r\n                    <div class=\"bx--col\">\r\n                        <cv-toggle\r\n                            :checked=\"checkedToggleMostarTexto\"\r\n                            label=\"Desbordamiento de nombres de Parcelas\"\r\n                            value=\"check-1\"\r\n                            :small=\"true\"\r\n                            :hide-label=\"true\"\r\n                            @change=\"actionChangedToggle\">\r\n                            <template slot=\"text-left\">Desactivado desbordamiento de nombres de Parcelas</template>\r\n                            <template slot=\"text-right\">Activado desbordamiento de nombres de Parcelas</template>\r\n                        </cv-toggle>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <br>\r\n            <div>\r\n                <div class=\"bx--row\">\r\n                    <div class=\"bx--col\">\r\n                        <cv-toggle\r\n                            :checked=\"false\"\r\n                            label=\"Ocultar icono de mi ubicación\"\r\n                            value=\"check-1\"\r\n                            :small=\"true\"\r\n                            :hide-label=\"false\"\r\n                            @change=\"actionChangedToggleIconoUbi\">\r\n                            <template slot=\"text-left\">No</template>\r\n                            <template slot=\"text-right\">Sí</template>\r\n                        </cv-toggle>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <br>\r\n        <div id=\"sentinelLayers\">\r\n            <cv-dropdown \r\n                @change=\"actionChangeLayers\" \r\n                :label=\"$t('map.sent_layers')\">\r\n                    <cv-dropdown-item v-for=\"layer in layersSelector\" :value=\"layer.id\" v-bind:key=\"layer.id\" :selected=\"layer.id == 'AGRICULTURE'\">{{layer.title}}</cv-dropdown-item>\r\n            </cv-dropdown>\r\n        </div>\r\n        <div v-if=\"SentinelLayer == 'NDVI'\">\r\n            <label for=\"text-input-3h9mddk235a\" class=\"bx--label\">{{$t(\"map.colors\")}}</label>\r\n            <br>\r\n            <img alt=\"D4SF\" id=\"logo\" src=\"../../assets/NDVI-colores.png\" style=\"width: 100%;\">\r\n        </div>\r\n        <div v-if=\"SentinelLayer == 'MOISTURE_INDEX'\">\r\n            <label for=\"text-input-3h9mddk235a\" class=\"bx--label\">{{$t(\"map.colors\")}}</label>\r\n            <br>\r\n            <img alt=\"D4SF\" id=\"logo\" src=\"../../assets/Moisture-index-valores.png\" style=\"width: 100%;\">\r\n        </div>\r\n        <br>\r\n        <div id=\"sentinelLayers\">\r\n            <cv-button\r\n                :disabled=\"false\"\r\n                @click=\"actionClearCacheSentinel\"\r\n                size=\"small\"\r\n                style=\"margin-top: 20px\"\r\n            >\r\n            Recargar sistema\r\n            </cv-button>\r\n        </div>\r\n        <br>\r\n        <div id=\"sentinelOpacity\">\r\n            <cv-slider\r\n                :label=\"$t('map.opacidad')\"\r\n                @change=\"actionChangeOpacity\"></cv-slider>\r\n        </div>\r\n        <br>\r\n        <div id=\"sentinelDate\">\r\n            <div class=\"bx--row\">\r\n                <div class=\"bx--col\">\r\n                    <cv-date-picker\r\n                        kind=\"single\"\r\n                        :cal-options=\"calOptions\"\r\n                        @change=\"actionChangeDate\"\r\n                        :dateLabel=\"$t('map.fecha')\"\r\n                        :value=\"valueDates\"\r\n                        placeholder=\"mm/dd/yyyy\"\r\n                        ref=\"cambiosFechas\"\r\n                        style=\"width: 100%!important\"\r\n                    ></cv-date-picker>\r\n                </div>\r\n                <div class=\"bx--col\">\r\n                    <cv-button\r\n                        :disabled=\"false\"\r\n                        @click=\"actionClickDateCargaFechasSent\"\r\n                        size=\"small\"\r\n                        style=\"margin-top: 20px\"\r\n                        >\r\n                        {{$t(\"map.fechas_disponibles\")}}\r\n                        <cv-loading\r\n                        :small=\"true\"\r\n                        :active=\"isActiveLoadingFechasSent\"\r\n                        :overlay=\"false\" v-if=\"isVisibleLoadFechasSent\"></cv-loading>\r\n                    </cv-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <br>\r\n        <br>\r\n    </div>\r\n</template>\r\n<script>\r\n//import proj4 from 'proj4'\r\n//import {polygonCenter} from '@/crudFunctions/crudEnterprise'\r\nimport {getEnterprise, getAllEnterprises, /*getAllActiveEnterprises,*/ getFechasSentinel, setParcelsForInstance} from '@/crudFunctions/crudEnterprise'//getEnterprise\r\nimport {getCooperative} from '@/crudFunctions/crudCooperativas'\r\nexport default {\r\n    name: 'ControllerPanel',\r\n    props: {\r\n        username: String,\r\n        arrEnterprises: Array,\r\n        arrCooperativas: Array,\r\n        centro: [],\r\n        layersSelector: Array,\r\n        checkedToggleMostarTexto: Boolean,\r\n        is_superuser: Boolean,\r\n        is_systemadmin: Boolean,\r\n        is_staff: Boolean,\r\n        is_enterpriseadmin: Boolean,\r\n        is_coop_user: Boolean,\r\n        mapComponent: Object,\r\n        allParcelsOfEnterprises: Array,\r\n        allParcelsOfEnterprisesFilter: Array,\r\n        SentinelLayer: String,\r\n    },\r\n    data() {\r\n        return {\r\n            listadoEmpresas: this.arrEnterprises,\r\n            calOptions: {\r\n                \"dateFormat\": \"Y-m-d\"\r\n            },\r\n            valueDates: [],\r\n            isActiveLoadingFechasSent: false,\r\n            isVisibleLoadFechasSent: false,\r\n            expand: true,\r\n            expand2: true,\r\n            erorCompaGeoloc: '',\r\n            mostrarIconErrGeoloc: '',\r\n            empresa_selec:Object()\r\n        }\r\n    },\r\n    components: {\r\n        \r\n    },\r\n    methods: {\r\n        // para ordenar las empresas de la cooperativa alfabéticamente\r\n        getSortedCooperativa(cooperativa) {\r\n            return {\r\n                ...cooperativa,\r\n                enterprises: cooperativa.enterprises.slice().sort((a, b) => {\r\n                return a.name.localeCompare(b.name);\r\n                }),\r\n            };\r\n        },\r\n        cargaLocalizacionActual(){\r\n            if(!(\"geolocation\" in navigator)) {\r\n                this.erorCompaGeoloc =  this.$t('map.loc_no_disponible')\r\n                this.mostrarIconErrGeoloc = true\r\n                return;\r\n            }\r\n            \r\n            // get position\r\n            navigator.geolocation.getCurrentPosition(pos => {\r\n                console.info('Localizacion autorizada', pos)\r\n                this.mostrarIconErrGeoloc = false;\r\n                this.$emit('setCenter', [pos.coords.longitude, pos.coords.latitude])\r\n                this.$emit('setCenterLocation', [pos.coords.longitude, pos.coords.latitude])\r\n            }, err => {\r\n                this.mostrarIconErrGeoloc = true\r\n                console.info('Localización no autorizada', err)\r\n            })\r\n        },\r\n        onclickTile(){\r\n            if(this.expand){\r\n                this.expand = false\r\n                this.$refs.layersControlersResponsive.style['max-height'] = ''\r\n                this.$refs.layersControlersResponsive.style['overflow-y'] = ''\r\n                this.componentDrop +=1\r\n            }else{\r\n                this.expand = true\r\n                this.$refs.layersControlersResponsive.style['max-height'] = '90%'\r\n                this.$refs.layersControlersResponsive.style['overflow-y'] = 'auto'\r\n            }\r\n        },\r\n        onclickTile2(){\r\n            if(this.expand2){\r\n                this.expand2 = false\r\n                this.$refs.sentinelLayersListCollapse.style.display = \"none\"\r\n                this.$refs.sentinelLayersListCollapseP.$el.style.display = \"none\"\r\n                this.classfechaR = ``\r\n                this.classfechab1 = ``\r\n                this.classfechab2 = ``\r\n\r\n            }else{\r\n                this.expand2 = true\r\n                this.$refs.sentinelLayersListCollapse.style.display = \"block\"\r\n                this.$refs.sentinelLayersListCollapseP.$el.style.display = \"\"\r\n                this.classfechaR = `bx--row`,\r\n                this.classfechab1 = `bx--col-lg-7 bx--col-md-10 bx--col-sm-8`\r\n                this.classfechab2 = `bx--col-lg-1 bx--col-md-1 bx--col-sm-1`\r\n            }\r\n                \r\n        },\r\n        seleccionaEmpresa(empresa){\r\n            this.empresa_selec = empresa;\r\n            const nombre = document.getElementById(\"selectEmp\");\r\n            document.getElementById(\"empresa\").innerHTML = nombre.options[nombre.selectedIndex].text;\r\n            const arrParcels = [];\r\n            console.log(\"Empresa selecccionada \", empresa);\r\n\r\n            if (empresa == 'all') {\r\n                getAllEnterprises()\r\n                    .then(async response => {\r\n                        response.data.map(enterprise => {\r\n                            enterprise.parcels.features.map(parcel => {\r\n                                arrParcels.push(parcel);\r\n                            });\r\n                        });\r\n                        this.$emit('setEnterprise', response.data);\r\n                        this.$emit('setAllParcelsOfEnterprises', arrParcels);\r\n                    })\r\n                    .catch(error => {\r\n                        console.error('Error al obtener empresas activas:', error);\r\n                    });\r\n            }else{\r\n                const result = empresa.split('_')\r\n                if(result[0] == 'coop'){\r\n                    getCooperative(result[1])\r\n                    .then(response => {\r\n                        response.data.enterprises.map(enterprise => {\r\n                            enterprise.parcels.features.map(parcel => {\r\n                                arrParcels.push(parcel)\r\n                            })\r\n                        })\r\n                        this.$emit('setEnterprise', response.data.enterprises)\r\n                        this.$emit('setAllParcelsOfEnterprises', arrParcels)\r\n                    })\r\n                }else{\r\n                    getEnterprise(empresa)\r\n                    .then(async response => {\r\n                        response.data.parcels.features.map(parcel => {\r\n                            arrParcels.push(parcel)\r\n                        })\r\n                        console.log('parada')\r\n                        this.$emit('setEnterprise', [response.data])   \r\n                        this.$emit('setAllParcelsOfEnterprises', arrParcels)                     \r\n\r\n                        const allCoordinates = Array();\r\n                        arrParcels.map(parcel => {\r\n                            allCoordinates.push(parcel.geometry.coordinates)\r\n                        })\r\n                        await setParcelsForInstance(response.data.name, allCoordinates, response.data.sentinel_instance)\r\n                        .then(response1 => {\r\n                            console.info(`OK refrescado parcelas de ${response.data.name}`, response1.data)\r\n                            \r\n                            console.log(response.data)\r\n                        })\r\n                        .catch(err => console.info(`ERROR refrescado parcelas de ${response.data.name}`, err))\r\n                        })\r\n                }\r\n            }\r\n        },\r\n        actionChangeParcels(valor){\r\n            let result = []\r\n            this.arrEnterprises.map(enterprise => {\r\n                enterprise.parcels.features.map(feature => {\r\n                    if(feature.id == valor){\r\n                        result.push(feature)\r\n                    }\r\n                })\r\n            })\r\n            const coordenadasGeometricas = result[0].geometry.coordinates[0]\r\n            const newCenter = this.getCenter(coordenadasGeometricas)\r\n            const arrAllParcelsFilter = this.allParcelsOfEnterprisesFilter\r\n            this.$emit('setCenter', [newCenter[0], newCenter[1]])\r\n            this.$emit('setflagparcela', 16.5)\r\n            this.$emit('setAllParcelsOfEnterprisesFilter', arrAllParcelsFilter)\r\n        },\r\n        actionChangeDate(valor){\r\n            const arrFechas = valor.split(', ')\r\n            if(arrFechas.length == 1){\r\n                this.time = \"2019-01-01/\"+valor\r\n                this.$emit('setFechaSentinel', valor)\r\n            }\r\n        },\r\n        actionClickDateCargaFechasSent(){\r\n            this.isActiveLoadingFechasSent = true\r\n            this.isActiveLoadingFechasSent = true\r\n            getFechasSentinel(this.mapComponent.previousExtent_)\r\n            .then(response => {\r\n                const respuesta = response.data.features\r\n                const fechasArray = Array()\r\n                respuesta.forEach(feature =>{\r\n                    fechasArray.push(feature.properties.date)\r\n                })\r\n                this.valueDates = fechasArray.reverse()\r\n                this.isActiveLoadingFechasSent = false\r\n                this.isActiveLoadingFechasSent = false\r\n            })\r\n        },\r\n        getCenter(coordenadasGeometricas){\r\n            var minX, maxX, minY, maxY;\r\n            for (var i = 0; i < coordenadasGeometricas.length; i++){\r\n                minX = (coordenadasGeometricas[i][0] < minX || minX == null) ? coordenadasGeometricas[i][0] : minX;\r\n                maxX = (coordenadasGeometricas[i][0] > maxX || maxX == null) ? coordenadasGeometricas[i][0] : maxX;\r\n                minY = (coordenadasGeometricas[i][1] < minY || minY == null) ? coordenadasGeometricas[i][1] : minY;\r\n                maxY = (coordenadasGeometricas[i][1] > maxY || maxY == null) ? coordenadasGeometricas[i][1] : maxY;\r\n            }\r\n            return [(minX + maxX) / 2, (minY + maxY) / 2];\r\n        },\r\n        onBuscar(busqueda){\r\n            if(busqueda){\r\n                const result = this.allParcelsOfEnterprises.filter(parcel => parcel.properties.name.toUpperCase().includes(busqueda.toUpperCase()))\r\n                this.allParcelsOfEnterprisesFilter = result\r\n            }else{\r\n                this.allParcelsOfEnterprisesFilter = this.allParcelsOfEnterprises\r\n            }\r\n        },\r\n        getNameEnterprise(value){\r\n            const result = this.arrEnterprises.filter(enterprise => enterprise.id == value)\r\n            return result[0].name\r\n        },\r\n        actionChangedToggle(value){\r\n            //this.checkedToggleMostarTexto = value\r\n            this.$emit('setToggleMostrarTexto', value)\r\n        },\r\n\r\n        actionChangedAlertSolpamientoToggle(value){\r\n            console.warn('actionChangedAlertSolpamientoToggle', value)\r\n            //this.checkedToggleMostarTexto = value\r\n            this.$emit('setToggleAlertSolpamiento', value)\r\n        },\r\n\r\n        actionChangedToggleIconoUbi(value){\r\n            this.$emit('setOcultarInconoUbi', value)\r\n        },\r\n        actionChangeLayers(value){\r\n            this.$emit('setSentinelLayer', value)\r\n        },\r\n        actionClearCacheSentinel(){\r\n            this.$emit('setSentinelClearCache')\r\n        },\r\n        actionChangeOpacity(value){\r\n            this.$emit('setSentinelOpacity', value/100)\r\n        }\r\n    },\r\n    mounted: function () {\r\n        this.$nextTick(function(){\r\n            this.seleccionaEmpresa('all');\r\n        }\r\n \r\n        )\r\n        //console.info('User Logged')\r\n    },\r\n    beforeCreate(){\r\n        \r\n    },\r\n    computed: {\r\n    // para ordenar las empresas alfabéticamente\r\n    sortedListadoEmpresas() {\r\n      return this.listadoEmpresas.slice().sort((a, b) => {\r\n        return a.name.localeCompare(b.name);\r\n      });\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n    #layersControler{\r\n        position: fixed;\r\n        width: 450px;\r\n        padding: 10px;\r\n        background-color: #f4f4f4;\r\n        margin-top: 10px;\r\n        margin-left: 10px;\r\n        max-width: 480.6px;\r\n        overflow: scroll;\r\n        height: auto;\r\n        max-height: 850px;\r\n        overflow-x: hidden;\r\n    }\r\n    #sentinelLayersList{\r\n        overflow-y: auto;\r\n        height: 250px;\r\n    }\r\n    @media (max-height: 700px) {\r\n        #sentinelLayersList{\r\n            overflow: scroll;\r\n            height: 280px;\r\n        }\r\n    }\r\n\r\n    @media (max-height: 700px) {\r\n        #sentinelLayersList{\r\n            overflow: scroll;\r\n            height: 280px;\r\n        }\r\n        #layersControler{\r\n            height: 600px;\r\n            overflow-x: hidden;\r\n        }\r\n    }\r\n    /*\r\n    @media (max-height: 800px) {\r\n        #layersControler{\r\n            height: 600px;\r\n            overflow-x: hidden;\r\n        }\r\n    */\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}