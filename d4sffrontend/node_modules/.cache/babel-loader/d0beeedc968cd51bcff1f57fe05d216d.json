{"remainingRequest":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\components\\ResetPasswordComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\components\\ResetPasswordComponent.vue","mtime":1681217492538},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\babel.config.js","mtime":1681217492507},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlc2V0UGFzc3dvcmRDb21wb25lbnQiLAogIHByb3BzOiB7fSwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBuZXdQYXNzd29yZDogJycsCiAgICAgIGVycm9yUGFzczogJycsCiAgICAgIG5ld0Vycm9yUGFzczogJycsCiAgICAgIHZpc2libGVBbGVydDogZmFsc2UsCiAgICAgIGtpbmROb3Q6ICdlcnJvcicsCiAgICAgIG1lbnNhZ2VOb3Q6ICcnLAogICAgICBhY3Rpb25sYWJlbDogdGhpcy4kdCgnbG9naW4uaXJfbG9naW4nKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGVzdGFibGVjZXJQYXNzKCkgewogICAgICBpZiAodGhpcy5wYXNzd29yZCAhPSB0aGlzLm5ld1Bhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5lcnJvclBhc3MgPSB0aGlzLiR0KCdsb2dpbi5wYXNzX25vX2lndWFsZXMnKTsKICAgICAgICB0aGlzLm5ld0Vycm9yUGFzcyA9IHRoaXMuJHQoJ2xvZ2luLnBhc3Nfbm9faWd1YWxlcycpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBjb25zdCB0b2tlblVzZXIgPSB0aGlzLiRyb3V0ZS5xdWVyeS50b2tlbjsKICAgICAgbGV0IHBhdGggPSBgJHt0aGlzLiRhcGlVUkx9L3Bhc3N3b3JkX3Jlc2V0L3ZlcmlmeS10b2tlbmA7CiAgICAgIGF4aW9zLnBvc3QocGF0aCwgewogICAgICAgIHRva2VuOiB0b2tlblVzZXIKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgbGV0IHBhdGggPSBgJHt0aGlzLiRhcGlVUkx9L3Bhc3N3b3JkX3Jlc2V0L2NvbmZpcm0vYDsKICAgICAgICBheGlvcy5wb3N0KHBhdGgsIHsKICAgICAgICAgIHRva2VuOiB0b2tlblVzZXIsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy52aXNpYmxlQWxlcnQgPSB0cnVlOwogICAgICAgICAgdGhpcy5raW5kTm90ID0gYHN1Y2Nlc3NgOwogICAgICAgICAgdGhpcy5tZW5zYWdlTm90ID0gdGhpcy4kdCgnbG9naW4ucGFzc19yZWVzdGFibGVjZScpOwogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIHRoaXMudmlzaWJsZUFsZXJ0ID0gdHJ1ZTsKICAgICAgICAgIHRoaXMua2luZE5vdCA9IGBlcnJvcmA7CiAgICAgICAgICB0aGlzLm1lbnNhZ2VOb3QgPSAnJzsKICAgICAgICAgIHRoaXMubWVuc2FnZU5vdCA9IGVycm9yLnJlc3BvbnNlLmRhdGEucGFzc3dvcmRbMF07CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLnZpc2libGVBbGVydCA9IHRydWU7CiAgICAgICAgdGhpcy5raW5kTm90ID0gYGVycm9yYDsKICAgICAgICB0aGlzLm1lbnNhZ2VOb3QgPSB0aGlzLiR0KCdsb2dpbi5wYXNzX3RpZW1wb19leHAnKTsKICAgICAgfSk7CiAgICB9LAogICAgcXVpdGFyRXJyb3JQYXNzKCkgewogICAgICB0aGlzLmVycm9yUGFzcyA9ICcnOwogICAgICB0aGlzLm5ld0Vycm9yUGFzcyA9ICcnOwogICAgICB0aGlzLnZpc2libGVBbGVydCA9IGZhbHNlOwogICAgfSwKICAgIGRvQ2xvc2VSZWNvcmRhcigpIHsKICAgICAgdGhpcy52aXNpYmxlQWxlcnQgPSBmYWxzZTsKICAgIH0sCiAgICBkb0FjdGlvbigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHZhciB1c2VyTGFuZyA9IG5hdmlnYXRvci5sYW5ndWFnZSB8fCBuYXZpZ2F0b3IudXNlckxhbmd1YWdlOwogICAgaWYgKHVzZXJMYW5nID09ICdlcy1FUycpIHsKICAgICAgdGhpcy4kcm9vdC4kaTE4bi5sb2NhbGUgPSAnZXMnOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy4kcm9vdC4kaTE4bi5sb2NhbGUgPSAnZW4nOwogICAgfQogIH0KfTs="},{"version":3,"names":["axios","name","props","components","data","password","newPassword","errorPass","newErrorPass","visibleAlert","kindNot","mensageNot","actionlabel","$t","methods","establecerPass","tokenUser","$route","query","token","path","$apiURL","post","then","catch","error","response","quitarErrorPass","doCloseRecordar","doAction","$router","push","created","userLang","navigator","language","userLanguage","$root","$i18n","locale"],"sources":["src/components/ResetPasswordComponent.vue"],"sourcesContent":["<template>\r\n    <div id=\"container\">\r\n        <div class=\"bx--grid\" id=\"gridContainer\">\r\n            <div class=\"bx--row\">\r\n                <div class=\"bx--col-lg\"></div>\r\n                <div class=\"bx--col-lg\" id=\"modal\">\r\n                    \r\n                        <h4>{{$t(\"login.reestablecer_pass\")}}</h4>\r\n                        <br><br>\r\n                        <cv-text-input\r\n                        :label=\"$t('login.nueva_pass')\"\r\n                        :placeholder=\"$t('login.nueva_pass')\"\r\n                        v-model=\"password\"\r\n                        :invalid-message=\"errorPass\"\r\n                        @input=\"quitarErrorPass\"\r\n                        type=\"password\" id=\"passInput\" ref=\"passInput\"></cv-text-input>\r\n                        <br><br>\r\n                        <cv-text-input\r\n                        :label=\"$t('login.confirma_pass')\"\r\n                        :placeholder=\"$t('login.confirma_pass')\"\r\n                        v-model=\"newPassword\"\r\n                        :invalid-message=\"newErrorPass\"\r\n                        @input=\"quitarErrorPass\"\r\n                        type=\"password\" id=\"passInput\" ref=\"passInput\"></cv-text-input>\r\n                        <br><br>\r\n                        <cv-inline-notification v-if=\"visibleAlert\" \r\n                        :kind.sync=\"kindNot\"\r\n                        :sub-title=\"mensageNot\"\r\n                        :action-label=\"actionlabel\"\r\n                        @action=\"doAction\"\r\n                        @close=\"doCloseRecordar\"\r\n                        low-contrast=\"false\"\r\n                        class=\"errorlogin\"></cv-inline-notification>\r\n                        <br><br>\r\n                        <cv-button @click=\"establecerPass\">{{$t(\"login.reestablecer\")}}</cv-button>\r\n                    \r\n                </div>\r\n                <div class=\"bx--col-lg\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n    name: \"ResetPasswordComponent\",\r\n    props: {},\r\n    components: {},\r\n    data() {\r\n        return {\r\n            password: '',\r\n            newPassword: '',\r\n            errorPass: '',\r\n            newErrorPass:'',\r\n            visibleAlert: false,\r\n            kindNot: 'error',\r\n            mensageNot: '',\r\n            actionlabel: this.$t('login.ir_login'),\r\n        }\r\n    },\r\n    methods: {\r\n        establecerPass(){\r\n            if(this.password != this.newPassword){\r\n                this.errorPass= this.$t('login.pass_no_iguales')\r\n                this.newErrorPass= this.$t('login.pass_no_iguales')\r\n                return false\r\n                \r\n            }\r\n            const tokenUser = this.$route.query.token\r\n            let path = `${this.$apiURL}/password_reset/verify-token`;\r\n            axios\r\n            .post(path, {\r\n                token: tokenUser\r\n            })\r\n            .then(() => {\r\n                    let path = `${this.$apiURL}/password_reset/confirm/`;\r\n                    axios\r\n                    .post(path, {\r\n                        token: tokenUser,\r\n                        password: this.password\r\n                    })\r\n                    .then(()=>{\r\n                        this.visibleAlert = true\r\n                        this.kindNot = `success`\r\n                        this.mensageNot = this.$t('login.pass_reestablece')\r\n                    })\r\n                    .catch(error =>{\r\n                        this.visibleAlert = true\r\n                        this.kindNot = `error`\r\n                        this.mensageNot = ''\r\n                        this.mensageNot = error.response.data.password[0]\r\n                    })\r\n                \r\n            })\r\n            .catch(()=>{\r\n                this.visibleAlert = true\r\n                this.kindNot = `error`\r\n                this.mensageNot = this.$t('login.pass_tiempo_exp')\r\n            })\r\n            \r\n            \r\n        },\r\n        quitarErrorPass(){\r\n            this.errorPass = ''\r\n            this.newErrorPass = ''\r\n            this.visibleAlert = false\r\n        },\r\n        doCloseRecordar(){\r\n            this.visibleAlert = false\r\n        },\r\n        doAction(){\r\n            this.$router.push(\"/login\");\r\n        }\r\n    },\r\n    created(){\r\n        var userLang = navigator.language || navigator.userLanguage; \r\n        if (userLang == 'es-ES'){\r\n            this.$root.$i18n.locale = 'es'\r\n        }else{\r\n            this.$root.$i18n.locale = 'en'\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    #modal{\r\n        padding-top: 1rem;\r\n        padding-bottom: 1rem;\r\n        background-color: #f4f4f4;\r\n    }\r\n    #container{\r\n        background-image: url('../assets/fondo-login-D4SF-v2.png');\r\n        background-repeat: no-repeat;\r\n        background-size: cover;\r\n    }\r\n    #gridContainer, #rowLogin, #bxFormLogin{\r\n        height: 100vh;\r\n        \r\n    }\r\n    #bxFormLogin{\r\n        background-color: #f4f4f4;\r\n        padding-top: 3%;\r\n    }\r\n    #rowLogin{\r\n        padding: 0%;\r\n    }\r\n    #loginTitle{\r\n        margin-bottom: 48px;\r\n    }\r\n    #loginButt{\r\n        width: 100%;\r\n    }\r\n    #logo{\r\n        width: 100%;\r\n        max-width: 280px;\r\n        margin-bottom: 5%;\r\n    }\r\n    .errorlogin{\r\n        width: 100%;\r\n    }\r\n    #logoSMB{\r\n        position: absolute;\r\n        left: 19px;\r\n        bottom: 10px;\r\n    }\r\n</style>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,OAAAA,KAAA;AACA;EACAC,IAAA;EACAC,KAAA;EACAC,UAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,WAAA;MACAC,SAAA;MACAC,YAAA;MACAC,YAAA;MACAC,OAAA;MACAC,UAAA;MACAC,WAAA,OAAAC,EAAA;IACA;EACA;EACAC,OAAA;IACAC,eAAA;MACA,SAAAV,QAAA,SAAAC,WAAA;QACA,KAAAC,SAAA,QAAAM,EAAA;QACA,KAAAL,YAAA,QAAAK,EAAA;QACA;MAEA;MACA,MAAAG,SAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAC,KAAA;MACA,IAAAC,IAAA,WAAAC,OAAA;MACArB,KAAA,CACAsB,IAAA,CAAAF,IAAA;QACAD,KAAA,EAAAH;MACA,GACAO,IAAA;QACA,IAAAH,IAAA,WAAAC,OAAA;QACArB,KAAA,CACAsB,IAAA,CAAAF,IAAA;UACAD,KAAA,EAAAH,SAAA;UACAX,QAAA,OAAAA;QACA,GACAkB,IAAA;UACA,KAAAd,YAAA;UACA,KAAAC,OAAA;UACA,KAAAC,UAAA,QAAAE,EAAA;QACA,GACAW,KAAA,CAAAC,KAAA;UACA,KAAAhB,YAAA;UACA,KAAAC,OAAA;UACA,KAAAC,UAAA;UACA,KAAAA,UAAA,GAAAc,KAAA,CAAAC,QAAA,CAAAtB,IAAA,CAAAC,QAAA;QACA;MAEA,GACAmB,KAAA;QACA,KAAAf,YAAA;QACA,KAAAC,OAAA;QACA,KAAAC,UAAA,QAAAE,EAAA;MACA;IAGA;IACAc,gBAAA;MACA,KAAApB,SAAA;MACA,KAAAC,YAAA;MACA,KAAAC,YAAA;IACA;IACAmB,gBAAA;MACA,KAAAnB,YAAA;IACA;IACAoB,SAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;EACA;EACAC,QAAA;IACA,IAAAC,QAAA,GAAAC,SAAA,CAAAC,QAAA,IAAAD,SAAA,CAAAE,YAAA;IACA,IAAAH,QAAA;MACA,KAAAI,KAAA,CAAAC,KAAA,CAAAC,MAAA;IACA;MACA,KAAAF,KAAA,CAAAC,KAAA,CAAAC,MAAA;IACA;EACA;AACA","ignoreList":[]}]}