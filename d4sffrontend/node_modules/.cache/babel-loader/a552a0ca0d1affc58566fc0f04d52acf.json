{"remainingRequest":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\@carbon\\vue\\src\\components\\cv-file-uploader\\cv-file-uploader.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\@carbon\\vue\\src\\components\\cv-file-uploader\\cv-file-uploader.vue","mtime":1681731165058},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\babel.config.js","mtime":1681217492507},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyB1aWRNaXhpbiwgY2FyYm9uUHJlZml4TWl4aW4sIG1ldGhvZHNNaXhpbiB9IGZyb20gJy4uLy4uL21peGlucyc7CmltcG9ydCBDdkZvcm1JdGVtIGZyb20gJy4uL2N2LWZvcm0vY3YtZm9ybS1pdGVtJzsKaW1wb3J0IENoZWNrbWFya0ZpbGxlZDE2IGZyb20gJ0BjYXJib24vaWNvbnMtdnVlL2VzL2NoZWNrbWFyay0tZmlsbGVkLzE2JzsKaW1wb3J0IFdhcm5pbmdGaWxsZWQxNiBmcm9tICdAY2FyYm9uL2ljb25zLXZ1ZS9lcy93YXJuaW5nLS1maWxsZWQvMTYnOwppbXBvcnQgQ2xvc2UxNiBmcm9tICdAY2FyYm9uL2ljb25zLXZ1ZS9lcy9jbG9zZS8xNic7CmltcG9ydCBDdldyYXBwZXIgZnJvbSAnLi4vY3Ytd3JhcHBlci9fY3Ytd3JhcHBlcic7CmltcG9ydCB7IFNUQVRFUywgS0lORFMgfSBmcm9tICcuL2NvbnN0cy5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ3ZGaWxlVXBsb2FkZXInLAogIGNvbXBvbmVudHM6IHsKICAgIEN2Rm9ybUl0ZW0sCiAgICBDaGVja21hcmtGaWxsZWQxNiwKICAgIFdhcm5pbmdGaWxsZWQxNiwKICAgIENsb3NlMTYsCiAgICBDdldyYXBwZXIKICB9LAogIG1peGluczogW3VpZE1peGluLCBjYXJib25QcmVmaXhNaXhpbiwgbWV0aG9kc01peGluKHsKICAgIGZvY3VzVGFyZ2V0OiBbJ2JsdXInLCAnZm9jdXMnXQogIH0pXSwKICBpbmhlcml0QXR0cnM6IGZhbHNlLAogIHByb3BzOiB7CiAgICBjbGVhck9uUmVzZWxlY3Q6IEJvb2xlYW4sCiAgICBmaWxlczogQXJyYXksCiAgICBraW5kOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2RyYWctdGFyZ2V0JywKICAgICAgdmFsaWRhdG9yOiB2YWwgPT4gewogICAgICAgIGNvbnN0IHZhbGlkVmFsdWVzID0gT2JqZWN0LnZhbHVlcyhLSU5EUyk7CiAgICAgICAgaWYgKCF2YWxpZFZhbHVlcy5pbmNsdWRlcyh2YWwpKSB7CiAgICAgICAgICBjb25zb2xlLndhcm4oYEN2RmlsZVVwbG9hZGVyOiB2YWxpZCB2YWx1ZXMgZm9yICdraW5kJyBhcmUgJHt2YWxpZFZhbHVlc31gKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBsYWJlbDogU3RyaW5nLAogICAgaGVscGVyVGV4dDogU3RyaW5nLAogICAgYWNjZXB0OiBTdHJpbmcsCiAgICBpbml0aWFsU3RhdGVVcGxvYWRpbmc6IEJvb2xlYW4sCiAgICByZW1vdmFibGU6IEJvb2xlYW4sCiAgICBidXR0b25MYWJlbDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCwKICAgICAgZGVwcmVjYXRlZDogdHJ1ZSwKICAgICAgdmFsaWRhdG9yOiB2YWwgPT4gewogICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykgewogICAgICAgICAgY29uc29sZS53YXJuKCdDdkZpbGVVcGxvYWRlcjogYnV0dG9uLWxhYmVsIHByb3AgZGVwcmVjYXRlZCBpbiBmYXZvdXIgb2YgZHJvcC10YXJnZXQtbGFiZWwnKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBkcm9wVGFyZ2V0TGFiZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0sCiAgICByZW1vdmVBcmlhTGFiZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnUmVtb3ZlIHNlbGVjdGVkIGZpbGUnCiAgICB9CiAgfSwKICBtb2RlbDogewogICAgcHJvcDogJ2ZpbGVzJywKICAgIGV2ZW50OiAnY2hhbmdlJwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuU1RBVEVTID0gT2JqZWN0LmZyZWV6ZShTVEFURVMpOwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGludGVybmFsRmlsZXM6IFtdLAogICAgICBhbGxvd0Ryb3A6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuaW50ZXJuYWxGaWxlcyA9IHRoaXMuZmlsZXMgPyB0aGlzLmZpbGVzIDogW107CiAgfSwKICB3YXRjaDogewogICAgZmlsZXMoKSB7CiAgICAgIHRoaXMuaW50ZXJuYWxGaWxlcyA9IHRoaXMuZmlsZXMgPyB0aGlzLmZpbGVzIDogW107CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLy8gQmluZCBsaXN0ZW5lcnMgYXQgdGhlIGNvbXBvbmVudCBsZXZlbCB0byB0aGUgZW1iZWRkZWQgaW5wdXQgZWxlbWVudCBhbmQKICAgIC8vIGFkZCBvdXIgb3duIGlucHV0IGxpc3RlbmVyIHRvIHNlcnZpY2UgdGhlIHYtbW9kZWwuIFNlZToKICAgIC8vIGh0dHBzOi8vdnVlanMub3JnL3YyL2d1aWRlL2NvbXBvbmVudHMtY3VzdG9tLWV2ZW50cy5odG1sI0N1c3RvbWl6aW5nLUNvbXBvbmVudC12LW1vZGVsCiAgICBpbnB1dExpc3RlbmVycygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAuLi50aGlzLiRsaXN0ZW5lcnMsCiAgICAgICAgY2hhbmdlOiBldmVudCA9PiB0aGlzLm9uQ2hhbmdlKGV2ZW50KQogICAgICB9OwogICAgfSwKICAgIGlzSW52YWxpZCgpIHsKICAgICAgcmV0dXJuIGluZGV4ID0+IHsKICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmludGVybmFsRmlsZXNbaW5kZXhdLmludmFsaWRNZXNzYWdlICYmIHRoaXMuaW50ZXJuYWxGaWxlc1tpbmRleF0uaW52YWxpZE1lc3NhZ2UubGVuZ3RoOwogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgIH07CiAgICB9LAogICAgaW50ZXJuYWxEcm9wVGFyZ2V0TGFiZWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmRyb3BUYXJnZXRMYWJlbCB8fCB0aGlzLmJ1dHRvbkxhYmVsIHx8ICdEcmFnIGFuZCBkcm9wIGZpbGVzIGhlcmUgb3IgdXBsb2FkJzsKICAgIH0sCiAgICBzdGF0ZVN0eWxlT3ZlcmlkZXMoKSB7CiAgICAgIC8vIDxzdHlsZSBjYXJib24gdHdlYWtzIC0gRE8gTk9UIFVTRSBTVFlMRSBUQUcgYXMgaXQgY2F1c2VzIFNTUiBpc3N1ZXMKICAgICAgcmV0dXJuIHsKICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnLAogICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInCiAgICAgIH07CiAgICB9LAogICAgYWxsb3dEcm9wQ2xhc3MoKSB7CiAgICAgIHJldHVybiB0aGlzLmFsbG93RHJvcCA/IGAgJHt0aGlzLmNhcmJvblByZWZpeH0tLWZpbGVfX2Ryb3AtY29udGFpbmVyLS1kcmFnLW92ZXJgIDogJyc7CiAgICB9LAogICAgd3JhcHBlckNsYXNzKCkgewogICAgICBjb25zdCBzdGF0aWNDbGFzcyA9IGAke3RoaXMuY2FyYm9uUHJlZml4fS0tZmlsZV9fZHJvcC1jb250YWluZXIke3RoaXMuYWxsb3dEcm9wQ2xhc3N9YDsKICAgICAgY29uc3QgZHluYW1pY0NsYXNzID0gdGhpcy5raW5kICE9PSAnYnV0dG9uJyA/IGAke3RoaXMuY2FyYm9uUHJlZml4fS0tZmlsZS1icm93c2UtYnRuYCA6IGAke3RoaXMuY2FyYm9uUHJlZml4fS0tYnRuICR7dGhpcy5jYXJib25QcmVmaXh9LS1idG4tLXByaW1hcnlgOwogICAgICByZXR1cm4gYCR7c3RhdGljQ2xhc3N9ICR7ZHluYW1pY0NsYXNzfWA7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZW1vdmUoaW5kZXgpIHsKICAgICAgdGhpcy5pbnRlcm5hbEZpbGVzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuaW50ZXJuYWxGaWxlcyk7CiAgICB9LAogICAgYWRkRmlsZXMoZmlsZXMpIHsKICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7CiAgICAgICAgY29uc3QgaW50ZXJuYWxGaWxlID0gdGhpcy5pbnRlcm5hbEZpbGVzLmZpbmQoaXRlbSA9PiBpdGVtLmZpbGUubmFtZSA9PT0gZmlsZS5uYW1lKTsKICAgICAgICBpZiAoaW50ZXJuYWxGaWxlKSB7CiAgICAgICAgICBpbnRlcm5hbEZpbGUuc3RhdGUgPSB0aGlzLmluaXRpYWxTdGF0ZVVwbG9hZGluZyA/IFNUQVRFUy5VUExPQURJTkcgOiBTVEFURVMuTk9ORTsKICAgICAgICAgIGludGVybmFsRmlsZS5pbnZhbGlkTWVzc2FnZVRpdGxlID0gJyc7CiAgICAgICAgICBpbnRlcm5hbEZpbGUuaW52YWxpZE1lc3NhZ2UgPSAnJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc3QgaW50ZXJuYWxGaWxlID0gewogICAgICAgICAgICBzdGF0ZTogdGhpcy5pbml0aWFsU3RhdGVVcGxvYWRpbmcgPyBTVEFURVMuVVBMT0FESU5HIDogU1RBVEVTLk5PTkUsCiAgICAgICAgICAgIGZpbGUsCiAgICAgICAgICAgIGludmFsaWRNZXNzYWdlVGl0bGU6ICcnLAogICAgICAgICAgICBpbnZhbGlkTWVzc2FnZTogJycKICAgICAgICAgIH07CiAgICAgICAgICBpZiAoZmlsZS5tZXNzYWdlQnVuZGxlKSB7CiAgICAgICAgICAgIGludGVybmFsRmlsZS5pbnZhbGlkTWVzc2FnZVRpdGxlID0gZmlsZS5tZXNzYWdlQnVuZGxlLmludmFsaWRNZXNzYWdlVGl0bGU7CiAgICAgICAgICAgIGludGVybmFsRmlsZS5pbnZhbGlkTWVzc2FnZSA9IGZpbGUubWVzc2FnZUJ1bmRsZS5pbnZhbGlkTWVzc2FnZTsKICAgICAgICAgICAgZGVsZXRlIGZpbGUubWVzc2FnZUJ1bmRsZTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuaW50ZXJuYWxGaWxlcy5wdXNoKGludGVybmFsRmlsZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIGNsZWFyIGlucHV0IHdlIGRvIG5vdCBuZWVkIHRvIG1haW50YWluIGl0CiAgICAgIHRoaXMuJHJlZnNbJ2ZpbGUtaW5wdXQnXS52YWx1ZSA9ICcnOwogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLmludGVybmFsRmlsZXMpOwogICAgfSwKICAgIG9uQ2hhbmdlKGV2KSB7CiAgICAgIGlmIChldi50YXJnZXQuZmlsZXMubGVuZ3RoICE9PSAwICYmIHRoaXMuY2xlYXJPblJlc2VsZWN0KSB7CiAgICAgICAgdGhpcy5pbnRlcm5hbEZpbGVzID0gW107CiAgICAgIH0KICAgICAgdGhpcy5hZGRGaWxlcyhldi50YXJnZXQuZmlsZXMpOwogICAgfSwKICAgIG9uU2hvdygpIHsKICAgICAgdGhpcy4kcmVmc1snZmlsZS1pbnB1dCddLmNsaWNrKCk7CiAgICB9LAogICAgc2V0U3RhdGUoaW5kZXgsIHN0YXRlKSB7CiAgICAgIGlmIChbJ3VwbG9hZGluZycsICdjb21wbGV0ZScsICcnXS5pbmNsdWRlcyhzdGF0ZSkpIHsKICAgICAgICB0aGlzLmludGVybmFsRmlsZXNbaW5kZXhdLnN0YXRlID0gc3RhdGU7CiAgICAgIH0KICAgIH0sCiAgICBjbGVhcigpIHsKICAgICAgdGhpcy5pbnRlcm5hbEZpbGVzID0gW107CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuaW50ZXJuYWxGaWxlcyk7CiAgICB9LAogICAgc2V0SW52YWxpZE1lc3NhZ2UoaW5kZXgsIG1lc3NhZ2UpIHsKICAgICAgdGhpcy5pbnRlcm5hbEZpbGVzW2luZGV4XS5pbnZhbGlkTWVzc2FnZSA9IG1lc3NhZ2U7CiAgICB9LAogICAgb25EcmFnRXZlbnQoZXZ0KSB7CiAgICAgIGlmIChBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGV2dC5kYXRhVHJhbnNmZXIudHlwZXMsICdGaWxlcycpID09PSAtMSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoZXZ0LnR5cGUgPT09ICdkcmFnbGVhdmUnKSB7CiAgICAgICAgdGhpcy5hbGxvd0Ryb3AgPSBmYWxzZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKGV2dC50eXBlID09PSAnZHJhZ292ZXInKSB7CiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgY29uc3QgZHJvcEVmZmVjdCA9ICdjb3B5JzsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShldnQuZGF0YVRyYW5zZmVyLnR5cGVzKSkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy8gSUUxMSB0aHJvd3MgYSAicGVybWlzc2lvbiBkZW5pZWQiIGVycm9yIGFjY2Vzc2luZyBgLmVmZmVjdEFsbG93ZWRgCiAgICAgICAgICAgIGV2dC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IGRyb3BFZmZlY3Q7CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIC8vIGlnbm9yZQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBldnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBkcm9wRWZmZWN0OwogICAgICAgIHRoaXMuYWxsb3dEcm9wID0gdHJ1ZTsKICAgICAgfQogICAgICBpZiAoZXZ0LnR5cGUgPT09ICdkcm9wJykgewogICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGlmICh0aGlzLmFjY2VwdCkgewogICAgICAgICAgdGhpcy5tYXJrSW52YWxpZEZpbGVUeXBlcyhldnQuZGF0YVRyYW5zZmVyLmZpbGVzKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5hZGRGaWxlcyhldnQuZGF0YVRyYW5zZmVyLmZpbGVzKTsKICAgICAgICB0aGlzLmFsbG93RHJvcCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgbWFya0ludmFsaWRGaWxlVHlwZXMoZmlsZXMpIHsKICAgICAgY29uc3QgaXNGaWxlQWxsb3dlZCA9IGZpbGUgPT4gewogICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9ICcuJyArIGZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpOwogICAgICAgIGNvbnN0IGFsbG93ZWQgPSB0aGlzLmFjY2VwdC5zcGxpdCgnLCcpLm1hcCh4ID0+IHgudHJpbSgpKTsKICAgICAgICBpZiAoYWxsb3dlZC5pbmNsdWRlcygnLmpwZycpKSB7CiAgICAgICAgICBhbGxvd2VkLnB1c2goJy5qcGVnJyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhbGxvd2VkLmluY2x1ZGVzKGZpbGUudHlwZSkgfHwgYWxsb3dlZC5pbmNsdWRlcyhleHRlbnNpb24pOwogICAgICB9OwogICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHsKICAgICAgICBpZiAoIWlzRmlsZUFsbG93ZWQoZmlsZSkpIHsKICAgICAgICAgIGZpbGUubWVzc2FnZUJ1bmRsZSA9IHsKICAgICAgICAgICAgaW52YWxpZE1lc3NhZ2VUaXRsZTogJ0ludmFsaWQgZmlsZSB0eXBlJywKICAgICAgICAgICAgaW52YWxpZE1lc3NhZ2U6IGAiJHtmaWxlLm5hbWV9IiBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgZmlsZSB0eXBlLmAKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["uidMixin","carbonPrefixMixin","methodsMixin","CvFormItem","CheckmarkFilled16","WarningFilled16","Close16","CvWrapper","STATES","KINDS","name","components","mixins","focusTarget","inheritAttrs","props","clearOnReselect","Boolean","files","Array","kind","type","String","default","validator","val","validValues","Object","values","includes","console","warn","label","helperText","accept","initialStateUploading","removable","buttonLabel","undefined","deprecated","process","env","NODE_ENV","dropTargetLabel","removeAriaLabel","model","prop","event","created","freeze","data","internalFiles","allowDrop","mounted","watch","computed","inputListeners","$listeners","change","onChange","isInvalid","index","result","invalidMessage","length","internalDropTargetLabel","stateStyleOverides","display","alignItems","allowDropClass","carbonPrefix","wrapperClass","staticClass","dynamicClass","methods","remove","splice","$emit","addFiles","file","internalFile","find","item","state","UPLOADING","NONE","invalidMessageTitle","messageBundle","push","$refs","value","ev","target","onShow","click","setState","clear","setInvalidMessage","message","onDragEvent","evt","prototype","indexOf","call","dataTransfer","types","preventDefault","dropEffect","isArray","effectAllowed","e","markInvalidFileTypes","isFileAllowed","extension","split","pop","allowed","map","x","trim"],"sources":["node_modules/@carbon/vue/src/components/cv-file-uploader/cv-file-uploader.vue"],"sourcesContent":["<template>\n  <cv-form-item class=\"cv-file-uploader\">\n    <p :class=\"`${carbonPrefix}--file--label`\">{{ label }}</p>\n    <p :class=\"`${carbonPrefix}--label-description`\">{{ helperText }}</p>\n    <div :class=\"`${carbonPrefix}--file`\" data-file>\n      <label\n        v-if=\"kind === 'button'\"\n        :for=\"uid\"\n        :class=\"[\n          {\n            [`${carbonPrefix}--file-browse-btn`]: kind !== 'button',\n            [`${carbonPrefix}--btn`]: kind === 'button',\n            [`${carbonPrefix}--btn--primary`]: kind === 'button',\n          },\n        ]\"\n        tabindex=\"0\"\n        ref=\"focusTarget\"\n        @keydown.enter.prevent=\"onShow()\"\n        @keydown.space.prevent\n        @keyup.space.prevent=\"onShow()\"\n      >\n        <slot name=\"drop-target\">{{ internalDropTargetLabel }}</slot>\n        <input\n          v-if=\"kind !== 'button'\"\n          v-bind=\"$attrs\"\n          type=\"file\"\n          :accept=\"accept\"\n          :class=\"`${carbonPrefix}--file-input`\"\n          :id=\"uid\"\n          data-file-uploader\n          data-target=\"[data-file-container]\"\n          v-on=\"inputListeners\"\n          ref=\"file-input\"\n        />\n      </label>\n      <label v-else :for=\"uid\">\n        <div\n          tabindex=\"0\"\n          ref=\"focusTarget\"\n          data-file-drop-container\n          :class=\"wrapperClass\"\n          role=\"button\"\n          @dragover=\"onDragEvent\"\n          @dragleave=\"onDragEvent\"\n          @drop=\"onDragEvent\"\n          @keydown.enter.prevent=\"onShow()\"\n          @keydown.space.prevent\n          @keyup.space.prevent=\"onShow()\"\n        >\n          <slot name=\"drop-target\">{{ internalDropTargetLabel }}</slot>\n          <input\n            v-if=\"kind !== 'button'\"\n            v-bind=\"$attrs\"\n            type=\"file\"\n            :accept=\"accept\"\n            :class=\"`${carbonPrefix}--file-input`\"\n            :id=\"uid\"\n            data-file-uploader\n            data-target=\"[data-file-container]\"\n            v-on=\"inputListeners\"\n            ref=\"file-input\"\n          />\n        </div>\n      </label>\n      <input\n        v-if=\"kind === 'button'\"\n        v-bind=\"$attrs\"\n        type=\"file\"\n        :accept=\"accept\"\n        :class=\"`${carbonPrefix}--file-input`\"\n        :id=\"uid\"\n        data-file-uploader\n        data-target=\"[data-file-container]\"\n        v-on=\"inputListeners\"\n        ref=\"file-input\"\n      />\n\n      <div data-file-container :class=\"`${carbonPrefix}--file-container`\">\n        <div\n          v-for=\"(file, index) in internalFiles\"\n          :key=\"index\"\n          :class=\"\n            isInvalid(index)\n              ? `${carbonPrefix}--file__selected-file--invalid__wrapper`\n              : `${carbonPrefix}--file__selected-file`\n          \"\n        >\n          <cv-wrapper\n            :tag-type=\"isInvalid(index) ? 'div' : ''\"\n            :class=\"`${carbonPrefix}--file__selected-file ${carbonPrefix}--file__selected-file--invalid`\"\n          >\n            <p :class=\"`${carbonPrefix}--file-filename`\" :title=\"file.file.name\">{{ file.file.name }}</p>\n\n            <span\n              :data-for=\"uid\"\n              :class=\"`${carbonPrefix}--file__state-container`\"\n              :data-test=\"file.state\"\n              :style=\"stateStyleOverides\"\n            >\n              <div v-if=\"file.state === 'uploading'\" :class=\"`${carbonPrefix}--inline-loading__animation`\">\n                <div data-inline-loading-spinner :class=\"`${carbonPrefix}--loading ${carbonPrefix}--loading--small`\">\n                  <svg :class=\"`${carbonPrefix}--loading__svg`\" viewBox=\"-75 -75 150 150\">\n                    <circle :class=\"`${carbonPrefix}--loading__background`\" cx=\"0\" cy=\"0\" r=\"37.5\" />\n                    <circle :class=\"`${carbonPrefix}--loading__stroke`\" cx=\"0\" cy=\"0\" r=\"37.5\" />\n                  </svg>\n                </div>\n              </div>\n              <CheckmarkFilled16 v-if=\"file.state === 'complete'\" :class=\"`${carbonPrefix}--file-complete`\" />\n              <WarningFilled16 v-if=\"isInvalid(index)\" :class=\"`${carbonPrefix}--file--invalid`\" />\n              <button\n                type=\"button\"\n                :class=\"`${carbonPrefix}--file-close`\"\n                v-if=\"removable\"\n                :alt=\"removeAriaLabel\"\n                :arial-label=\"removeAriaLabel\"\n                @click=\"remove(index)\"\n              >\n                <Close16 />\n              </button>\n            </span>\n            <div v-if=\"isInvalid(index)\" :class=\"`${carbonPrefix}--form-requirement`\">\n              <div :class=\"`${carbonPrefix}--form-requirement__title`\">\n                {{ file.invalidMessageTitle || 'Invalid file' }}\n              </div>\n              <p :class=\"`${carbonPrefix}--form-requirement__supplement`\">{{ file.invalidMessage }}</p>\n            </div>\n          </cv-wrapper>\n        </div>\n      </div>\n    </div>\n  </cv-form-item>\n</template>\n\n<script>\nimport { uidMixin, carbonPrefixMixin, methodsMixin } from '../../mixins';\nimport CvFormItem from '../cv-form/cv-form-item';\nimport CheckmarkFilled16 from '@carbon/icons-vue/es/checkmark--filled/16';\nimport WarningFilled16 from '@carbon/icons-vue/es/warning--filled/16';\nimport Close16 from '@carbon/icons-vue/es/close/16';\nimport CvWrapper from '../cv-wrapper/_cv-wrapper';\nimport { STATES, KINDS } from './consts.js';\n\nexport default {\n  name: 'CvFileUploader',\n  components: { CvFormItem, CheckmarkFilled16, WarningFilled16, Close16, CvWrapper },\n  mixins: [uidMixin, carbonPrefixMixin, methodsMixin({ focusTarget: ['blur', 'focus'] })],\n  inheritAttrs: false,\n  props: {\n    clearOnReselect: Boolean,\n    files: Array,\n    kind: {\n      type: String,\n      default: 'drag-target',\n      validator: val => {\n        const validValues = Object.values(KINDS);\n\n        if (!validValues.includes(val)) {\n          console.warn(`CvFileUploader: valid values for 'kind' are ${validValues}`);\n        }\n        return true;\n      },\n    },\n    label: String,\n    helperText: String,\n    accept: String,\n    initialStateUploading: Boolean,\n    removable: Boolean,\n    buttonLabel: {\n      type: String,\n      default: undefined,\n      deprecated: true,\n      validator: val => {\n        if (val !== undefined && process.env.NODE_ENV === 'development') {\n          console.warn('CvFileUploader: button-label prop deprecated in favour of drop-target-label');\n        }\n        return true;\n      },\n    },\n    dropTargetLabel: { type: String, default: undefined },\n    removeAriaLabel: { type: String, default: 'Remove selected file' },\n  },\n  model: {\n    prop: 'files',\n    event: 'change',\n  },\n  created() {\n    this.STATES = Object.freeze(STATES);\n  },\n  data() {\n    return {\n      internalFiles: [],\n      allowDrop: false,\n    };\n  },\n  mounted() {\n    this.internalFiles = this.files ? this.files : [];\n  },\n  watch: {\n    files() {\n      this.internalFiles = this.files ? this.files : [];\n    },\n  },\n  computed: {\n    // Bind listeners at the component level to the embedded input element and\n    // add our own input listener to service the v-model. See:\n    // https://vuejs.org/v2/guide/components-custom-events.html#Customizing-Component-v-model\n    inputListeners() {\n      return {\n        ...this.$listeners,\n        change: event => this.onChange(event),\n      };\n    },\n    isInvalid() {\n      return index => {\n        const result = this.internalFiles[index].invalidMessage && this.internalFiles[index].invalidMessage.length;\n        return result;\n      };\n    },\n    internalDropTargetLabel() {\n      return this.dropTargetLabel || this.buttonLabel || 'Drag and drop files here or upload';\n    },\n    stateStyleOverides() {\n      // <style carbon tweaks - DO NOT USE STYLE TAG as it causes SSR issues\n      return { display: 'inline-flex', alignItems: 'center' };\n    },\n    allowDropClass() {\n      return this.allowDrop ? ` ${this.carbonPrefix}--file__drop-container--drag-over` : '';\n    },\n    wrapperClass() {\n      const staticClass = `${this.carbonPrefix}--file__drop-container${this.allowDropClass}`;\n      const dynamicClass =\n        this.kind !== 'button'\n          ? `${this.carbonPrefix}--file-browse-btn`\n          : `${this.carbonPrefix}--btn ${this.carbonPrefix}--btn--primary`;\n\n      return `${staticClass} ${dynamicClass}`;\n    },\n  },\n  methods: {\n    remove(index) {\n      this.internalFiles.splice(index, 1);\n      this.$emit('change', this.internalFiles);\n    },\n    addFiles(files) {\n      for (const file of files) {\n        const internalFile = this.internalFiles.find(item => item.file.name === file.name);\n\n        if (internalFile) {\n          internalFile.state = this.initialStateUploading ? STATES.UPLOADING : STATES.NONE;\n          internalFile.invalidMessageTitle = '';\n          internalFile.invalidMessage = '';\n        } else {\n          const internalFile = {\n            state: this.initialStateUploading ? STATES.UPLOADING : STATES.NONE,\n            file,\n            invalidMessageTitle: '',\n            invalidMessage: '',\n          };\n\n          if (file.messageBundle) {\n            internalFile.invalidMessageTitle = file.messageBundle.invalidMessageTitle;\n            internalFile.invalidMessage = file.messageBundle.invalidMessage;\n            delete file.messageBundle;\n          }\n          this.internalFiles.push(internalFile);\n        }\n      }\n      // clear input we do not need to maintain it\n      this.$refs['file-input'].value = '';\n      this.$emit('change', this.internalFiles);\n    },\n    onChange(ev) {\n      if (ev.target.files.length !== 0 && this.clearOnReselect) {\n        this.internalFiles = [];\n      }\n      this.addFiles(ev.target.files);\n    },\n    onShow() {\n      this.$refs['file-input'].click();\n    },\n    setState(index, state) {\n      if (['uploading', 'complete', ''].includes(state)) {\n        this.internalFiles[index].state = state;\n      }\n    },\n    clear() {\n      this.internalFiles = [];\n      this.$emit('change', this.internalFiles);\n    },\n    setInvalidMessage(index, message) {\n      this.internalFiles[index].invalidMessage = message;\n    },\n    onDragEvent(evt) {\n      if (Array.prototype.indexOf.call(evt.dataTransfer.types, 'Files') === -1) {\n        return;\n      }\n\n      if (evt.type === 'dragleave') {\n        this.allowDrop = false;\n        return;\n      }\n\n      if (evt.type === 'dragover') {\n        evt.preventDefault();\n        const dropEffect = 'copy';\n        if (Array.isArray(evt.dataTransfer.types)) {\n          try {\n            // IE11 throws a \"permission denied\" error accessing `.effectAllowed`\n            evt.dataTransfer.effectAllowed = dropEffect;\n          } catch (e) {\n            // ignore\n          }\n        }\n        evt.dataTransfer.dropEffect = dropEffect;\n        this.allowDrop = true;\n      }\n\n      if (evt.type === 'drop') {\n        evt.preventDefault();\n        if (this.accept) {\n          this.markInvalidFileTypes(evt.dataTransfer.files);\n        }\n        this.addFiles(evt.dataTransfer.files);\n        this.allowDrop = false;\n      }\n    },\n    markInvalidFileTypes(files) {\n      const isFileAllowed = file => {\n        const extension = '.' + file.name.split('.').pop();\n        const allowed = this.accept.split(',').map(x => x.trim());\n        if (allowed.includes('.jpg')) {\n          allowed.push('.jpeg');\n        }\n        return allowed.includes(file.type) || allowed.includes(extension);\n      };\n\n      for (const file of files) {\n        if (!isFileAllowed(file)) {\n          file.messageBundle = {\n            invalidMessageTitle: 'Invalid file type',\n            invalidMessage: `\"${file.name}\" does not have a valid file type.`,\n          };\n        }\n      }\n    },\n  },\n};\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA,SAAAA,QAAA,EAAAC,iBAAA,EAAAC,YAAA;AACA,OAAAC,UAAA;AACA,OAAAC,iBAAA;AACA,OAAAC,eAAA;AACA,OAAAC,OAAA;AACA,OAAAC,SAAA;AACA,SAAAC,MAAA,EAAAC,KAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAR,UAAA;IAAAC,iBAAA;IAAAC,eAAA;IAAAC,OAAA;IAAAC;EAAA;EACAK,MAAA,GAAAZ,QAAA,EAAAC,iBAAA,EAAAC,YAAA;IAAAW,WAAA;EAAA;EACAC,YAAA;EACAC,KAAA;IACAC,eAAA,EAAAC,OAAA;IACAC,KAAA,EAAAC,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;MACAC,SAAA,EAAAC,GAAA;QACA,MAAAC,WAAA,GAAAC,MAAA,CAAAC,MAAA,CAAAnB,KAAA;QAEA,KAAAiB,WAAA,CAAAG,QAAA,CAAAJ,GAAA;UACAK,OAAA,CAAAC,IAAA,gDAAAL,WAAA;QACA;QACA;MACA;IACA;IACAM,KAAA,EAAAV,MAAA;IACAW,UAAA,EAAAX,MAAA;IACAY,MAAA,EAAAZ,MAAA;IACAa,qBAAA,EAAAlB,OAAA;IACAmB,SAAA,EAAAnB,OAAA;IACAoB,WAAA;MACAhB,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAe,SAAA;MACAC,UAAA;MACAf,SAAA,EAAAC,GAAA;QACA,IAAAA,GAAA,KAAAa,SAAA,IAAAE,OAAA,CAAAC,GAAA,CAAAC,QAAA;UACAZ,OAAA,CAAAC,IAAA;QACA;QACA;MACA;IACA;IACAY,eAAA;MAAAtB,IAAA,EAAAC,MAAA;MAAAC,OAAA,EAAAe;IAAA;IACAM,eAAA;MAAAvB,IAAA,EAAAC,MAAA;MAAAC,OAAA;IAAA;EACA;EACAsB,KAAA;IACAC,IAAA;IACAC,KAAA;EACA;EACAC,QAAA;IACA,KAAAxC,MAAA,GAAAmB,MAAA,CAAAsB,MAAA,CAAAzC,MAAA;EACA;EACA0C,KAAA;IACA;MACAC,aAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAF,aAAA,QAAAjC,KAAA,QAAAA,KAAA;EACA;EACAoC,KAAA;IACApC,MAAA;MACA,KAAAiC,aAAA,QAAAjC,KAAA,QAAAA,KAAA;IACA;EACA;EACAqC,QAAA;IACA;IACA;IACA;IACAC,eAAA;MACA;QACA,QAAAC,UAAA;QACAC,MAAA,EAAAX,KAAA,SAAAY,QAAA,CAAAZ,KAAA;MACA;IACA;IACAa,UAAA;MACA,OAAAC,KAAA;QACA,MAAAC,MAAA,QAAAX,aAAA,CAAAU,KAAA,EAAAE,cAAA,SAAAZ,aAAA,CAAAU,KAAA,EAAAE,cAAA,CAAAC,MAAA;QACA,OAAAF,MAAA;MACA;IACA;IACAG,wBAAA;MACA,YAAAtB,eAAA,SAAAN,WAAA;IACA;IACA6B,mBAAA;MACA;MACA;QAAAC,OAAA;QAAAC,UAAA;MAAA;IACA;IACAC,eAAA;MACA,YAAAjB,SAAA,YAAAkB,YAAA;IACA;IACAC,aAAA;MACA,MAAAC,WAAA,WAAAF,YAAA,8BAAAD,cAAA;MACA,MAAAI,YAAA,GACA,KAAArD,IAAA,gBACA,QAAAkD,YAAA,sBACA,QAAAA,YAAA,cAAAA,YAAA;MAEA,UAAAE,WAAA,IAAAC,YAAA;IACA;EACA;EACAC,OAAA;IACAC,OAAAd,KAAA;MACA,KAAAV,aAAA,CAAAyB,MAAA,CAAAf,KAAA;MACA,KAAAgB,KAAA,gBAAA1B,aAAA;IACA;IACA2B,SAAA5D,KAAA;MACA,WAAA6D,IAAA,IAAA7D,KAAA;QACA,MAAA8D,YAAA,QAAA7B,aAAA,CAAA8B,IAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAH,IAAA,CAAArE,IAAA,KAAAqE,IAAA,CAAArE,IAAA;QAEA,IAAAsE,YAAA;UACAA,YAAA,CAAAG,KAAA,QAAAhD,qBAAA,GAAA3B,MAAA,CAAA4E,SAAA,GAAA5E,MAAA,CAAA6E,IAAA;UACAL,YAAA,CAAAM,mBAAA;UACAN,YAAA,CAAAjB,cAAA;QACA;UACA,MAAAiB,YAAA;YACAG,KAAA,OAAAhD,qBAAA,GAAA3B,MAAA,CAAA4E,SAAA,GAAA5E,MAAA,CAAA6E,IAAA;YACAN,IAAA;YACAO,mBAAA;YACAvB,cAAA;UACA;UAEA,IAAAgB,IAAA,CAAAQ,aAAA;YACAP,YAAA,CAAAM,mBAAA,GAAAP,IAAA,CAAAQ,aAAA,CAAAD,mBAAA;YACAN,YAAA,CAAAjB,cAAA,GAAAgB,IAAA,CAAAQ,aAAA,CAAAxB,cAAA;YACA,OAAAgB,IAAA,CAAAQ,aAAA;UACA;UACA,KAAApC,aAAA,CAAAqC,IAAA,CAAAR,YAAA;QACA;MACA;MACA;MACA,KAAAS,KAAA,eAAAC,KAAA;MACA,KAAAb,KAAA,gBAAA1B,aAAA;IACA;IACAQ,SAAAgC,EAAA;MACA,IAAAA,EAAA,CAAAC,MAAA,CAAA1E,KAAA,CAAA8C,MAAA,eAAAhD,eAAA;QACA,KAAAmC,aAAA;MACA;MACA,KAAA2B,QAAA,CAAAa,EAAA,CAAAC,MAAA,CAAA1E,KAAA;IACA;IACA2E,OAAA;MACA,KAAAJ,KAAA,eAAAK,KAAA;IACA;IACAC,SAAAlC,KAAA,EAAAsB,KAAA;MACA,kCAAAtD,QAAA,CAAAsD,KAAA;QACA,KAAAhC,aAAA,CAAAU,KAAA,EAAAsB,KAAA,GAAAA,KAAA;MACA;IACA;IACAa,MAAA;MACA,KAAA7C,aAAA;MACA,KAAA0B,KAAA,gBAAA1B,aAAA;IACA;IACA8C,kBAAApC,KAAA,EAAAqC,OAAA;MACA,KAAA/C,aAAA,CAAAU,KAAA,EAAAE,cAAA,GAAAmC,OAAA;IACA;IACAC,YAAAC,GAAA;MACA,IAAAjF,KAAA,CAAAkF,SAAA,CAAAC,OAAA,CAAAC,IAAA,CAAAH,GAAA,CAAAI,YAAA,CAAAC,KAAA;QACA;MACA;MAEA,IAAAL,GAAA,CAAA/E,IAAA;QACA,KAAA+B,SAAA;QACA;MACA;MAEA,IAAAgD,GAAA,CAAA/E,IAAA;QACA+E,GAAA,CAAAM,cAAA;QACA,MAAAC,UAAA;QACA,IAAAxF,KAAA,CAAAyF,OAAA,CAAAR,GAAA,CAAAI,YAAA,CAAAC,KAAA;UACA;YACA;YACAL,GAAA,CAAAI,YAAA,CAAAK,aAAA,GAAAF,UAAA;UACA,SAAAG,CAAA;YACA;UAAA;QAEA;QACAV,GAAA,CAAAI,YAAA,CAAAG,UAAA,GAAAA,UAAA;QACA,KAAAvD,SAAA;MACA;MAEA,IAAAgD,GAAA,CAAA/E,IAAA;QACA+E,GAAA,CAAAM,cAAA;QACA,SAAAxE,MAAA;UACA,KAAA6E,oBAAA,CAAAX,GAAA,CAAAI,YAAA,CAAAtF,KAAA;QACA;QACA,KAAA4D,QAAA,CAAAsB,GAAA,CAAAI,YAAA,CAAAtF,KAAA;QACA,KAAAkC,SAAA;MACA;IACA;IACA2D,qBAAA7F,KAAA;MACA,MAAA8F,aAAA,GAAAjC,IAAA;QACA,MAAAkC,SAAA,SAAAlC,IAAA,CAAArE,IAAA,CAAAwG,KAAA,MAAAC,GAAA;QACA,MAAAC,OAAA,QAAAlF,MAAA,CAAAgF,KAAA,MAAAG,GAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAC,IAAA;QACA,IAAAH,OAAA,CAAAvF,QAAA;UACAuF,OAAA,CAAA5B,IAAA;QACA;QACA,OAAA4B,OAAA,CAAAvF,QAAA,CAAAkD,IAAA,CAAA1D,IAAA,KAAA+F,OAAA,CAAAvF,QAAA,CAAAoF,SAAA;MACA;MAEA,WAAAlC,IAAA,IAAA7D,KAAA;QACA,KAAA8F,aAAA,CAAAjC,IAAA;UACAA,IAAA,CAAAQ,aAAA;YACAD,mBAAA;YACAvB,cAAA,MAAAgB,IAAA,CAAArE,IAAA;UACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}