{"remainingRequest":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\src\\components\\EditCooperativeComponentEnterpriseList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\src\\components\\EditCooperativeComponentEnterpriseList.vue","mtime":1606136451812},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IEFsZXJ0YUdlbmVyYWwgZnJvbSAiQC9jb21wb25lbnRzL0FsZXJ0YUdlbmVyYWwiOwppbXBvcnQgRWRpdENvb3BlcmF0aXZlRW50ZXJwcmlzZSBmcm9tICIuLi9jb21wb25lbnRzL0VkaXRDb29wZXJhdGl2ZUVudGVycHJpc2UudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFZGl0YXJDb29wZXJhdGl2ZUNvbXBvbmVudCIsCiAgcHJvcHM6IHsKICAgIGNvb3BlcmF0aXZlSWQ6IFN0cmluZwogIH0sCiAgY29tcG9uZW50czogewogICAgQWxlcnRhR2VuZXJhbDogQWxlcnRhR2VuZXJhbCwKICAgIEVkaXRDb29wZXJhdGl2ZUVudGVycHJpc2U6IEVkaXRDb29wZXJhdGl2ZUVudGVycHJpc2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb29wZXJhdGl2ZTogT2JqZWN0LAogICAgICBlbXByZXNhc0FycjogQXJyYXkoKSwKICAgICAgbWVuc2FqZUFsZXJ0YTogIiIsCiAgICAgIHRpcG9BbGVydGE6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0b3NDb29wOiBmdW5jdGlvbiBnZXREYXRvc0Nvb3AoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcGF0aCA9ICIiLmNvbmNhdCh0aGlzLiRhcGlVUkwsICIvY29vcGVyYXRpdmVzb25lbnJsdC8iKS5jb25jYXQodGhpcy4kcm91dGUucXVlcnkuY29vcGVyYXRpdmUsICIvIik7CiAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAiQmVhcmVyICIgKyBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhcGlBY2Nlc3MiKTsKICAgICAgYXhpb3MuZ2V0KHBhdGgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5pbmZvKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIF90aGlzLmNvb3BlcmF0aXZlID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpcy5jb29wZXJhdGl2ZS5lbnRlcnByaXNlcyA9IHJlc3BvbnNlLmRhdGEuZW50ZXJwcmlzZXM7IC8vdGhpcy5nZXREYXRvc0VtcHJlc2FzKCkKICAgICAgICAvL3RoaXMuY29vcGVyYXRpdmUuZW50ZXJwcmlzZXMgPSByZXNwb25zZS5kYXRhLmVudGVycHJpc2VzCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGdldERhdG9zRW1wcmVzYXM6IGZ1bmN0aW9uIGdldERhdG9zRW1wcmVzYXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5lbXByZXNhc0FyciA9IEFycmF5KCk7CiAgICAgIHZhciBwYXRoID0gIiI7CiAgICAgIHRoaXMuY29vcGVyYXRpdmUuZW50ZXJwcmlzZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50ZXJwcmlzZSkgewogICAgICAgIHBhdGggPSAiIi5jb25jYXQoX3RoaXMyLiRhcGlVUkwsICIvZW50ZXJwcmlzZXMvIikuY29uY2F0KGVudGVycHJpc2UsICIvIik7CiAgICAgICAgYXhpb3MuZ2V0KHBhdGgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczIuZW1wcmVzYXNBcnIucHVzaChyZXNwb25zZS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuY29vcGVyYXRpdmUuZW50ZXJwcmlzZXMgPSB0aGlzLmVtcHJlc2FzQXJyOwogICAgfSwKICAgIGd1YXJkYXJEYXRvc0Nvb3A6IGZ1bmN0aW9uIGd1YXJkYXJEYXRvc0Nvb3AoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHBhdGggPSAiIi5jb25jYXQodGhpcy4kYXBpVVJMLCAiL2Nvb3BlcmF0aXZlcy8iKS5jb25jYXQodGhpcy4kcm91dGUucXVlcnkuY29vcGVyYXRpdmUsICIvIik7CiAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAiQmVhcmVyICIgKyBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhcGlBY2Nlc3MiKTsKICAgICAgYXhpb3MucHV0KHBhdGgsIHsKICAgICAgICBuYW1lOiB0aGlzLiRyZWZzLmlucHV0TmFtZUNvb3AuJHJlZnMuaW5wdXQudmFsdWUsCiAgICAgICAgZGlyZWN0aW9uOiB0aGlzLiRyZWZzLmlucHV0RGlyZWN0aW9uQ29vcC4kcmVmcy5pbnB1dC52YWx1ZSwKICAgICAgICBwaG9uZV9udW1iZXI6IHRoaXMuJHJlZnMuaW5wdXRQaG9uZUNvb3AuJHJlZnMuaW5wdXQudmFsdWUsCiAgICAgICAgY2lmOiB0aGlzLiRyZWZzLmlucHV0Q2lmQ29vcC4kcmVmcy5pbnB1dC52YWx1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMubWVuc2FqZUFsZXJ0YSA9IF90aGlzMy4kdCgnZWRpdENvb3AuZWRpdF9jb29wX3N1Y2Nlc3MnKTsKICAgICAgICBfdGhpczMudGlwb0FsZXJ0YSA9ICdzdWNjZXNzJzsKCiAgICAgICAgX3RoaXMzLiRyZWZzLmFsZXJ0YUdlbmVyYWwudmVyQWxlcnRhKCk7CgogICAgICAgIF90aGlzMy5pbnZhbGlkTWVzc2FnZU5vbWJyZSA9ICIiOwogICAgICAgIF90aGlzMy5pbnZhbGlkTWVzc2FnZURpcmVjdGlvbiA9ICIiOwogICAgICAgIF90aGlzMy5pbnZhbGlkTWVzc2FnZVBob25lID0gIiI7CiAgICAgICAgX3RoaXMzLmludmFsaWRNZXNzYWdlQ2lmID0gIiI7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLm5hbWVbMF0uaW5jbHVkZXMoJ25vdCBiZSBibGFuaycpKSB7CiAgICAgICAgICBfdGhpczMuaW52YWxpZE1lc3NhZ2VOb21icmUgPSAiIi5jb25jYXQoX3RoaXMzLiR0KCduZXdDb29wLmludmFsaWRvX2JsYW5rJykpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZWRpdGFyRW1wcmVzYXNDb29wOiBmdW5jdGlvbiBlZGl0YXJFbXByZXNhc0Nvb3AoKSB7CiAgICAgIHRoaXMuJHJlZnMubW9kYWwub3Blbk1vZGFsKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXREYXRvc0Nvb3AoKTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fQp9Ow=="},{"version":3,"sources":["EditCooperativeComponentEnterpriseList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"bx--row\" ref=\"editarEmpresaDatos\">\r\n            <div class=\"bx--col-lg-12 bx--col-md-12 bx--col-sm-12\">\r\n                <h4>{{$t('editCoop.edit_coop_enterprises')}}</h4>\r\n            </div>\r\n            <div class=\"bx--col-lg-12 bx--col-md-12 bx--col-sm-12\">\r\n                <cv-structured-list>\r\n                    <template slot=\"headings\">\r\n                        <cv-structured-list-heading>{{$t('adminCoop.nombre')}}</cv-structured-list-heading>\r\n                        <cv-structured-list-heading>{{$t('adminCoop.cif')}}</cv-structured-list-heading>\r\n                    </template>\r\n                    <template slot=\"items\">\r\n                        <cv-structured-list-item\r\n                            v-for=\"enterprise in cooperative.enterprises\"\r\n                            :value=\"String(enterprise.id)\"\r\n                            v-bind:key=\"enterprise.id\"\r\n                        >\r\n                            <cv-structured-list-data>{{enterprise.name}}</cv-structured-list-data>\r\n                            <cv-structured-list-data>{{enterprise.cif}}</cv-structured-list-data>\r\n                        </cv-structured-list-item>\r\n                    </template>\r\n                </cv-structured-list>\r\n            </div>\r\n            <div class=\"bx--col-lg-12 bx--col-md-12 bx--col-sm-12\">\r\n                <cv-button\r\n                    icon=\"\"\r\n                    @click=\"editarEmpresasCoop\" >\r\n                    {{$t(\"editCoop.add_enterprise_coop\")}}\r\n                </cv-button>\r\n            </div>\r\n        </div>\r\n        <AlertaGeneral ref=\"alertaGeneral\" :tituloAlert=\"mensajeAlerta\" :tipoAlert=\"tipoAlerta\" />\r\n        <EditCooperativeEnterprise ref=\"modal\" :cooperative_id=\"$route.query.cooperative\" />\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport AlertaGeneral from \"@/components/AlertaGeneral\";\r\nimport EditCooperativeEnterprise from \"../components/EditCooperativeEnterprise.vue\"\r\nexport default {\r\n    name: \"EditarCooperativeComponent\",\r\n    props: {\r\n        cooperativeId: String\r\n    },\r\n    components: {\r\n        AlertaGeneral,\r\n        EditCooperativeEnterprise\r\n    },\r\n    data() {\r\n        return{\r\n            cooperative: Object,\r\n            empresasArr: Array(),\r\n            mensajeAlerta: ``,\r\n            tipoAlerta: ``,\r\n        }\r\n    },\r\n    methods: {\r\n        getDatosCoop(){\r\n            const path = `${this.$apiURL}/cooperativesonenrlt/${this.$route.query.cooperative}/`\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .get(path)\r\n            .then(response => {\r\n                console.info(response.data)\r\n                this.cooperative = response.data\r\n                this.cooperative.enterprises = response.data.enterprises\r\n                //this.getDatosEmpresas()\r\n                //this.cooperative.enterprises = response.data.enterprises\r\n            })\r\n            .catch(error =>{\r\n                console.warn(error)\r\n            })\r\n        },\r\n        getDatosEmpresas(){\r\n            this.empresasArr = Array()\r\n            let path = ``\r\n            this.cooperative.enterprises.forEach(enterprise => {\r\n                path = `${this.$apiURL}/enterprises/${enterprise}/`;\r\n                axios\r\n                .get(path)\r\n                .then(response => {\r\n                    this.empresasArr.push(response.data)\r\n                })\r\n            });\r\n            this.cooperative.enterprises = this.empresasArr\r\n        },\r\n        guardarDatosCoop(){\r\n            let path = `${this.$apiURL}/cooperatives/${this.$route.query.cooperative}/`;\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .put(path, {\r\n                name: this.$refs.inputNameCoop.$refs.input.value,\r\n                direction: this.$refs.inputDirectionCoop.$refs.input.value,\r\n                phone_number: this.$refs.inputPhoneCoop.$refs.input.value,\r\n                cif: this.$refs.inputCifCoop.$refs.input.value,\r\n            })\r\n            .then(() => {\r\n                this.mensajeAlerta = this.$t('editCoop.edit_coop_success')\r\n                this.tipoAlerta = 'success'\r\n                this.$refs.alertaGeneral.verAlerta()\r\n                this.invalidMessageNombre = ``\r\n                this.invalidMessageDirection = ``\r\n                this.invalidMessagePhone = ``\r\n                this.invalidMessageCif = ``\r\n            })\r\n            .catch(error => {\r\n                if(error.response.data.name[0].includes('not be blank')){\r\n                    this.invalidMessageNombre = `${this.$t('newCoop.invalido_blank')}`\r\n                }\r\n            })\r\n        },\r\n        editarEmpresasCoop(){\r\n            this.$refs.modal.openModal()\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getDatosCoop()\r\n    },\r\n    created(){}\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components"}]}