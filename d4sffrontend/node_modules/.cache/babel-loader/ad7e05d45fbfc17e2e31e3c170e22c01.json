{"remainingRequest":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\components\\EditCooperativeComponentEnterpriseList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\components\\EditCooperativeComponentEnterpriseList.vue","mtime":1681217492538},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\babel.config.js","mtime":1681217492507},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgQWxlcnRhR2VuZXJhbCBmcm9tICJAL2NvbXBvbmVudHMvQWxlcnRhR2VuZXJhbCI7CmltcG9ydCBFZGl0Q29vcGVyYXRpdmVFbnRlcnByaXNlIGZyb20gIi4uL2NvbXBvbmVudHMvRWRpdENvb3BlcmF0aXZlRW50ZXJwcmlzZS52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkVkaXRhckNvb3BlcmF0aXZlQ29tcG9uZW50IiwKICBwcm9wczogewogICAgY29vcGVyYXRpdmVJZDogU3RyaW5nCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBBbGVydGFHZW5lcmFsLAogICAgRWRpdENvb3BlcmF0aXZlRW50ZXJwcmlzZQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvb3BlcmF0aXZlOiBPYmplY3QsCiAgICAgIGVtcHJlc2FzQXJyOiBBcnJheSgpLAogICAgICBtZW5zYWplQWxlcnRhOiBgYCwKICAgICAgdGlwb0FsZXJ0YTogYGAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREYXRvc0Nvb3AoKSB7CiAgICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLiRhcGlVUkx9L2Nvb3BlcmF0aXZlc29uZW5ybHQvJHt0aGlzLiRyb3V0ZS5xdWVyeS5jb29wZXJhdGl2ZX0vYDsKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICJCZWFyZXIgIiArIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFwaUFjY2VzcyIpOwogICAgICBheGlvcy5nZXQocGF0aCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc29sZS5pbmZvKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIHRoaXMuY29vcGVyYXRpdmUgPSByZXNwb25zZS5kYXRhOwogICAgICAgIHRoaXMuY29vcGVyYXRpdmUuZW50ZXJwcmlzZXMgPSByZXNwb25zZS5kYXRhLmVudGVycHJpc2VzOwogICAgICAgIC8vdGhpcy5nZXREYXRvc0VtcHJlc2FzKCkKICAgICAgICAvL3RoaXMuY29vcGVyYXRpdmUuZW50ZXJwcmlzZXMgPSByZXNwb25zZS5kYXRhLmVudGVycHJpc2VzCiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXREYXRvc0VtcHJlc2FzKCkgewogICAgICB0aGlzLmVtcHJlc2FzQXJyID0gQXJyYXkoKTsKICAgICAgbGV0IHBhdGggPSBgYDsKICAgICAgdGhpcy5jb29wZXJhdGl2ZS5lbnRlcnByaXNlcy5mb3JFYWNoKGVudGVycHJpc2UgPT4gewogICAgICAgIHBhdGggPSBgJHt0aGlzLiRhcGlVUkx9L2VudGVycHJpc2VzLyR7ZW50ZXJwcmlzZX0vYDsKICAgICAgICBheGlvcy5nZXQocGF0aCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmVtcHJlc2FzQXJyLnB1c2gocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLmNvb3BlcmF0aXZlLmVudGVycHJpc2VzID0gdGhpcy5lbXByZXNhc0FycjsKICAgIH0sCiAgICBndWFyZGFyRGF0b3NDb29wKCkgewogICAgICBsZXQgcGF0aCA9IGAke3RoaXMuJGFwaVVSTH0vY29vcGVyYXRpdmVzLyR7dGhpcy4kcm91dGUucXVlcnkuY29vcGVyYXRpdmV9L2A7CiAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAiQmVhcmVyICIgKyBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhcGlBY2Nlc3MiKTsKICAgICAgYXhpb3MucHV0KHBhdGgsIHsKICAgICAgICBuYW1lOiB0aGlzLiRyZWZzLmlucHV0TmFtZUNvb3AuJHJlZnMuaW5wdXQudmFsdWUsCiAgICAgICAgZGlyZWN0aW9uOiB0aGlzLiRyZWZzLmlucHV0RGlyZWN0aW9uQ29vcC4kcmVmcy5pbnB1dC52YWx1ZSwKICAgICAgICBwaG9uZV9udW1iZXI6IHRoaXMuJHJlZnMuaW5wdXRQaG9uZUNvb3AuJHJlZnMuaW5wdXQudmFsdWUsCiAgICAgICAgY2lmOiB0aGlzLiRyZWZzLmlucHV0Q2lmQ29vcC4kcmVmcy5pbnB1dC52YWx1ZQogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLm1lbnNhamVBbGVydGEgPSB0aGlzLiR0KCdlZGl0Q29vcC5lZGl0X2Nvb3Bfc3VjY2VzcycpOwogICAgICAgIHRoaXMudGlwb0FsZXJ0YSA9ICdzdWNjZXNzJzsKICAgICAgICB0aGlzLiRyZWZzLmFsZXJ0YUdlbmVyYWwudmVyQWxlcnRhKCk7CiAgICAgICAgdGhpcy5pbnZhbGlkTWVzc2FnZU5vbWJyZSA9IGBgOwogICAgICAgIHRoaXMuaW52YWxpZE1lc3NhZ2VEaXJlY3Rpb24gPSBgYDsKICAgICAgICB0aGlzLmludmFsaWRNZXNzYWdlUGhvbmUgPSBgYDsKICAgICAgICB0aGlzLmludmFsaWRNZXNzYWdlQ2lmID0gYGA7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5uYW1lWzBdLmluY2x1ZGVzKCdub3QgYmUgYmxhbmsnKSkgewogICAgICAgICAgdGhpcy5pbnZhbGlkTWVzc2FnZU5vbWJyZSA9IGAke3RoaXMuJHQoJ25ld0Nvb3AuaW52YWxpZG9fYmxhbmsnKX1gOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZWRpdGFyRW1wcmVzYXNDb29wKCkgewogICAgICB0aGlzLiRyZWZzLm1vZGFsLm9wZW5Nb2RhbCgpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0b3NDb29wKCk7CiAgfSwKICBjcmVhdGVkKCkge30KfTs="},{"version":3,"names":["axios","AlertaGeneral","EditCooperativeEnterprise","name","props","cooperativeId","String","components","data","cooperative","Object","empresasArr","Array","mensajeAlerta","tipoAlerta","methods","getDatosCoop","path","$apiURL","$route","query","defaults","headers","common","sessionStorage","getItem","get","then","response","console","info","enterprises","catch","error","warn","getDatosEmpresas","forEach","enterprise","push","guardarDatosCoop","put","$refs","inputNameCoop","input","value","direction","inputDirectionCoop","phone_number","inputPhoneCoop","cif","inputCifCoop","$t","alertaGeneral","verAlerta","invalidMessageNombre","invalidMessageDirection","invalidMessagePhone","invalidMessageCif","includes","editarEmpresasCoop","modal","openModal","mounted","created"],"sources":["src/components/EditCooperativeComponentEnterpriseList.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"bx--row\" ref=\"editarEmpresaDatos\">\r\n            <div class=\"bx--col-lg-12 bx--col-md-12 bx--col-sm-12\">\r\n                <h4>{{$t('editCoop.edit_coop_enterprises')}}</h4>\r\n            </div>\r\n            <div class=\"bx--col-lg-12 bx--col-md-12 bx--col-sm-12\">\r\n                <cv-structured-list>\r\n                    <template slot=\"headings\">\r\n                        <cv-structured-list-heading>{{$t('adminCoop.nombre')}}</cv-structured-list-heading>\r\n                        <cv-structured-list-heading>{{$t('adminCoop.cif')}}</cv-structured-list-heading>\r\n                    </template>\r\n                    <template slot=\"items\">\r\n                        <cv-structured-list-item\r\n                            v-for=\"enterprise in cooperative.enterprises\"\r\n                            :value=\"String(enterprise.id)\"\r\n                            v-bind:key=\"enterprise.id\"\r\n                        >\r\n                            <cv-structured-list-data>{{enterprise.name}}</cv-structured-list-data>\r\n                            <cv-structured-list-data>{{enterprise.cif}}</cv-structured-list-data>\r\n                        </cv-structured-list-item>\r\n                    </template>\r\n                </cv-structured-list>\r\n            </div>\r\n            <div class=\"bx--col-lg-12 bx--col-md-12 bx--col-sm-12\">\r\n                <cv-button\r\n                    icon=\"\"\r\n                    @click=\"editarEmpresasCoop\" >\r\n                    {{$t(\"editCoop.add_enterprise_coop\")}}\r\n                </cv-button>\r\n            </div>\r\n        </div>\r\n        <AlertaGeneral ref=\"alertaGeneral\" :tituloAlert=\"mensajeAlerta\" :tipoAlert=\"tipoAlerta\" />\r\n        <EditCooperativeEnterprise ref=\"modal\" :cooperative_id=\"$route.query.cooperative\" />\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport AlertaGeneral from \"@/components/AlertaGeneral\";\r\nimport EditCooperativeEnterprise from \"../components/EditCooperativeEnterprise.vue\"\r\nexport default {\r\n    name: \"EditarCooperativeComponent\",\r\n    props: {\r\n        cooperativeId: String\r\n    },\r\n    components: {\r\n        AlertaGeneral,\r\n        EditCooperativeEnterprise\r\n    },\r\n    data() {\r\n        return{\r\n            cooperative: Object,\r\n            empresasArr: Array(),\r\n            mensajeAlerta: ``,\r\n            tipoAlerta: ``,\r\n        }\r\n    },\r\n    methods: {\r\n        getDatosCoop(){\r\n            const path = `${this.$apiURL}/cooperativesonenrlt/${this.$route.query.cooperative}/`\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .get(path)\r\n            .then(response => {\r\n                console.info(response.data)\r\n                this.cooperative = response.data\r\n                this.cooperative.enterprises = response.data.enterprises\r\n                //this.getDatosEmpresas()\r\n                //this.cooperative.enterprises = response.data.enterprises\r\n            })\r\n            .catch(error =>{\r\n                console.warn(error)\r\n            })\r\n        },\r\n        getDatosEmpresas(){\r\n            this.empresasArr = Array()\r\n            let path = ``\r\n            this.cooperative.enterprises.forEach(enterprise => {\r\n                path = `${this.$apiURL}/enterprises/${enterprise}/`;\r\n                axios\r\n                .get(path)\r\n                .then(response => {\r\n                    this.empresasArr.push(response.data)\r\n                })\r\n            });\r\n            this.cooperative.enterprises = this.empresasArr\r\n        },\r\n        guardarDatosCoop(){\r\n            let path = `${this.$apiURL}/cooperatives/${this.$route.query.cooperative}/`;\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .put(path, {\r\n                name: this.$refs.inputNameCoop.$refs.input.value,\r\n                direction: this.$refs.inputDirectionCoop.$refs.input.value,\r\n                phone_number: this.$refs.inputPhoneCoop.$refs.input.value,\r\n                cif: this.$refs.inputCifCoop.$refs.input.value,\r\n            })\r\n            .then(() => {\r\n                this.mensajeAlerta = this.$t('editCoop.edit_coop_success')\r\n                this.tipoAlerta = 'success'\r\n                this.$refs.alertaGeneral.verAlerta()\r\n                this.invalidMessageNombre = ``\r\n                this.invalidMessageDirection = ``\r\n                this.invalidMessagePhone = ``\r\n                this.invalidMessageCif = ``\r\n            })\r\n            .catch(error => {\r\n                if(error.response.data.name[0].includes('not be blank')){\r\n                    this.invalidMessageNombre = `${this.$t('newCoop.invalido_blank')}`\r\n                }\r\n            })\r\n        },\r\n        editarEmpresasCoop(){\r\n            this.$refs.modal.openModal()\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getDatosCoop()\r\n    },\r\n    created(){}\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n</style>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAAA,KAAA;AACA,OAAAC,aAAA;AACA,OAAAC,yBAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAC,aAAA,EAAAC;EACA;EACAC,UAAA;IACAN,aAAA;IACAC;EACA;EACAM,KAAA;IACA;MACAC,WAAA,EAAAC,MAAA;MACAC,WAAA,EAAAC,KAAA;MACAC,aAAA;MACAC,UAAA;IACA;EACA;EACAC,OAAA;IACAC,aAAA;MACA,MAAAC,IAAA,WAAAC,OAAA,6BAAAC,MAAA,CAAAC,KAAA,CAAAX,WAAA;MACAT,KAAA,CAAAqB,QAAA,CAAAC,OAAA,CAAAC,MAAA,gCAAAC,cAAA,CAAAC,OAAA;MACAzB,KAAA,CACA0B,GAAA,CAAAT,IAAA,EACAU,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,IAAA,CAAAF,QAAA,CAAApB,IAAA;QACA,KAAAC,WAAA,GAAAmB,QAAA,CAAApB,IAAA;QACA,KAAAC,WAAA,CAAAsB,WAAA,GAAAH,QAAA,CAAApB,IAAA,CAAAuB,WAAA;QACA;QACA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAJ,OAAA,CAAAK,IAAA,CAAAD,KAAA;MACA;IACA;IACAE,iBAAA;MACA,KAAAxB,WAAA,GAAAC,KAAA;MACA,IAAAK,IAAA;MACA,KAAAR,WAAA,CAAAsB,WAAA,CAAAK,OAAA,CAAAC,UAAA;QACApB,IAAA,WAAAC,OAAA,gBAAAmB,UAAA;QACArC,KAAA,CACA0B,GAAA,CAAAT,IAAA,EACAU,IAAA,CAAAC,QAAA;UACA,KAAAjB,WAAA,CAAA2B,IAAA,CAAAV,QAAA,CAAApB,IAAA;QACA;MACA;MACA,KAAAC,WAAA,CAAAsB,WAAA,QAAApB,WAAA;IACA;IACA4B,iBAAA;MACA,IAAAtB,IAAA,WAAAC,OAAA,sBAAAC,MAAA,CAAAC,KAAA,CAAAX,WAAA;MACAT,KAAA,CAAAqB,QAAA,CAAAC,OAAA,CAAAC,MAAA,gCAAAC,cAAA,CAAAC,OAAA;MACAzB,KAAA,CACAwC,GAAA,CAAAvB,IAAA;QACAd,IAAA,OAAAsC,KAAA,CAAAC,aAAA,CAAAD,KAAA,CAAAE,KAAA,CAAAC,KAAA;QACAC,SAAA,OAAAJ,KAAA,CAAAK,kBAAA,CAAAL,KAAA,CAAAE,KAAA,CAAAC,KAAA;QACAG,YAAA,OAAAN,KAAA,CAAAO,cAAA,CAAAP,KAAA,CAAAE,KAAA,CAAAC,KAAA;QACAK,GAAA,OAAAR,KAAA,CAAAS,YAAA,CAAAT,KAAA,CAAAE,KAAA,CAAAC;MACA,GACAjB,IAAA;QACA,KAAAd,aAAA,QAAAsC,EAAA;QACA,KAAArC,UAAA;QACA,KAAA2B,KAAA,CAAAW,aAAA,CAAAC,SAAA;QACA,KAAAC,oBAAA;QACA,KAAAC,uBAAA;QACA,KAAAC,mBAAA;QACA,KAAAC,iBAAA;MACA,GACAzB,KAAA,CAAAC,KAAA;QACA,IAAAA,KAAA,CAAAL,QAAA,CAAApB,IAAA,CAAAL,IAAA,IAAAuD,QAAA;UACA,KAAAJ,oBAAA,WAAAH,EAAA;QACA;MACA;IACA;IACAQ,mBAAA;MACA,KAAAlB,KAAA,CAAAmB,KAAA,CAAAC,SAAA;IACA;EACA;EACAC,QAAA;IACA,KAAA9C,YAAA;EACA;EACA+C,QAAA;AACA","ignoreList":[]}]}