{"remainingRequest":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\d4sffrontend\\src\\views\\EditCooperative.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\d4sffrontend\\src\\views\\EditCooperative.vue","mtime":1671529918048},{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IEVkaXRhckNvb3BlcmF0aXZlQ29tcG9uZW50IGZyb20gIi4uL2NvbXBvbmVudHMvRWRpdENvb3BlcmF0aXZlQ29tcG9uZW50LnZ1ZSINCmltcG9ydCBFZGl0Q29vcGVyYXRpdmVDb21wb25lbnRFbnRlcnByaXNlTGlzdCBmcm9tICIuLi9jb21wb25lbnRzL0VkaXRDb29wZXJhdGl2ZUNvbXBvbmVudEVudGVycHJpc2VMaXN0LnZ1ZSINCmltcG9ydCBMaXN0YVVzdWFyaW9zIGZyb20gIi4uL3ZpZXdzL0xpc3RhVXN1YXJpb3MudnVlIjsNCmltcG9ydCBCb2FyZCBmcm9tICJAL3ZpZXdzL0JvYXJkLnZ1ZSI7DQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIkVkaXRhckNvb3BlcmF0aXZlIiwNCiAgICBwcm9wczoge30sDQogICAgY29tcG9uZW50czogew0KICAgICAgICBFZGl0YXJDb29wZXJhdGl2ZUNvbXBvbmVudCwNCiAgICAgICAgRWRpdENvb3BlcmF0aXZlQ29tcG9uZW50RW50ZXJwcmlzZUxpc3QsDQogICAgICAgIExpc3RhVXN1YXJpb3MsDQogICAgICAgIEJvYXJkDQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm57DQogICAgICAgICAgICBjb29wZXJhdGl2ZTogYGAsDQogICAgICAgICAgICBtZW5zYWplQWxlcnRhOiBgYCwNCiAgICAgICAgICAgIHRpcG9BbGVydGE6IGBgLA0KICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgZ2V0RGF0b3NVc2VyKCl7DQogICAgICAgICAgICBpZihzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhcGlBY2Nlc3MiKSl7DQogICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGAke3RoaXMuJGFwaVVSTH0vcHJvZmlsZS9gOw0KICAgICAgICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAiQmVhcmVyICIrc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXBpQWNjZXNzIikNCiAgICAgICAgICAgICAgICBheGlvcw0KICAgICAgICAgICAgICAgIC5nZXQocGF0aCkNCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc3RhcnQoKQ0KICAgICAgICAgICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgnaXNfY29vcF91c2VyJywgcmVzcG9uc2UuZGF0YVswXS5jb29wZXJhdGl2ZV91c2VyKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgnZW50ZXJwcmlzZScsIHJlc3BvbnNlLmRhdGFbMF0uZW50ZXJwcmlzZV9pZCkNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoJ3VzZXInLCByZXNwb25zZS5kYXRhWzBdLnVzZXIpDQogICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2VudGVycHJpc2UnLCByZXNwb25zZS5kYXRhWzBdLmVudGVycHJpc2VfaWQpDQogICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCByZXNwb25zZS5kYXRhWzBdLnVzZXIpDQogICAgICAgICAgICAgICAgICAgIGxldCBwYXRoRW50ZXJwcmlzZUluc3RhbmNlID0gYCR7dGhpcy4kYXBpVVJMfS9lbnRlcnByaXNlcy8ke3Jlc3BvbnNlLmRhdGFbMF0uZW50ZXJwcmlzZV9pZH0vYDsNCiAgICAgICAgICAgICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICJCZWFyZXIgIitzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhcGlBY2Nlc3MiKQ0KICAgICAgICAgICAgICAgICAgICBheGlvcy5nZXQocGF0aEVudGVycHJpc2VJbnN0YW5jZSkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT57DQogICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdzSScsIHJlc3BvbnNlLmRhdGEuc2VudGluZWxfaW5zdGFuY2UpDQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQZXJtaXNvc1VzZXIocmVzcG9uc2UuZGF0YVswXS51c2VyKQ0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+ew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZ2V0UGVybWlzb3NVc2VyKGlkKXsNCiAgICAgICAgICAgIGNvbnN0IHBhdGhSb2wgPSBgJHt0aGlzLiRhcGlVUkx9L3Blcm1pc29zLyR7aWR9L2A7DQogICAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gIkJlYXJlciAiK3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFwaUFjY2VzcyIpDQogICAgICAgICAgICBheGlvcw0KICAgICAgICAgICAgLmdldChwYXRoUm9sKQ0KICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoJ2lzX2VudGVycHJpc2VhZG1pbicsIHJlc3BvbnNlLmRhdGEuaXNfZW50ZXJwcmlzZWFkbWluKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCdpc19zdGFmZicsIHJlc3BvbnNlLmRhdGEuaXNfc3RhZmYpDQogICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoJ2lzX3N1cGVydXNlcicsIHJlc3BvbnNlLmRhdGEuaXNfc3VwZXJ1c2VyKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCdpc19zeXN0ZW1hZG1pbicsIHJlc3BvbnNlLmRhdGEuaXNfc3lzdGVtYWRtaW4pDQogICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnaXNfZW50ZXJwcmlzZWFkbWluJywgcmVzcG9uc2UuZGF0YS5pc19lbnRlcnByaXNlYWRtaW4pDQogICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnaXNfc3RhZmYnLCByZXNwb25zZS5kYXRhLmlzX3N0YWZmKQ0KICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2lzX3N1cGVydXNlcicsIHJlc3BvbnNlLmRhdGEuaXNfc3VwZXJ1c2VyKQ0KICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2lzX3N5c3RlbWFkbWluJywgcmVzcG9uc2UuZGF0YS5pc19zeXN0ZW1hZG1pbikNCiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQuaXNfc3VwZXJ1c2VyID0gcmVzcG9uc2UuZGF0YS5pc19zdXBlcnVzZXINCiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQuaXNfc3RhZmYgPSByZXNwb25zZS5kYXRhLmlzX3N0YWZmLA0KICAgICAgICAgICAgICAgIHRoaXMuJHBhcmVudC5pc19zeXN0ZW1hZG1pbiA9IHJlc3BvbnNlLmRhdGEuaXNfc3lzdGVtYWRtaW4sDQogICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LmlzX2VudGVycHJpc2VhZG1pbiA9IHJlc3BvbnNlLmRhdGEuaXNfZW50ZXJwcmlzZWFkbWluDQogICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LmN1c3RvbUxpbmtFbnRlcnByaXNlID0gJ2VkaXQtZW50ZXJwcmlzZT9lbnRlcnByaXNlPScrdGhpcy4kc2Vzc2lvbi5nZXQoJ2VudGVycHJpc2UnKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHBhcmVudC4kcGFyZW50LmlzX2Nvb3BfdXNlciA9IHRoaXMuJHNlc3Npb24uZ2V0KCdpc19jb29wX3VzZXInKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHBhcmVudC4kcGFyZW50LmN1c3RvbUxpbmtDb29wID0gJ2VkaXQtY29vcGVyYXRpdmU/Y29vcGVyYXRpdmU9Jyt0aGlzLiRzZXNzaW9uLmdldCgnZW50ZXJwcmlzZScpDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgIH0sDQogICAgbW91bnRlZCgpew0KICAgICAgICB0aGlzLmNvb3BlcmF0aXZlID0gdGhpcy4kcm91dGUucXVlcnkuY29vcGVyYXRpdmUNCiAgICAgICAgdGhpcy4kcmVmcy5saXN0YXVzdWFyaW9zLmdldFVzdWFyaW9zRW1wcmVzYSh0aGlzLiRyb3V0ZS5xdWVyeS5jb29wZXJhdGl2ZSkNCiAgICAgICAgdGhpcy5nZXREYXRvc1VzZXIoKQ0KICAgIH0sDQogICAgY3JlYXRlZCgpe30NCn0NCg=="},{"version":3,"sources":["EditCooperative.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditCooperative.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <Board />\r\n        <div class=\"bx--grid\" id=\"grid-admin\">\r\n            <br>\r\n            <h2>{{$t(\"editCoop.title\")}}</h2>\r\n            <br><br>\r\n            <EditarCooperativeComponent :cooperativeId=\"cooperative\" ref=\"datoscooperative\" />\r\n            <br><br>\r\n            <EditCooperativeComponentEnterpriseList :cooperativeId=\"cooperative\" ref=\"cooperativeEnterprise\" />\r\n            <br><br>\r\n            <ListaUsuarios  ref=\"listausuarios\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport EditarCooperativeComponent from \"../components/EditCooperativeComponent.vue\"\r\nimport EditCooperativeComponentEnterpriseList from \"../components/EditCooperativeComponentEnterpriseList.vue\"\r\nimport ListaUsuarios from \"../views/ListaUsuarios.vue\";\r\nimport Board from \"@/views/Board.vue\";\r\nexport default {\r\n    name: \"EditarCooperative\",\r\n    props: {},\r\n    components: {\r\n        EditarCooperativeComponent,\r\n        EditCooperativeComponentEnterpriseList,\r\n        ListaUsuarios,\r\n        Board\r\n    },\r\n    data() {\r\n        return{\r\n            cooperative: ``,\r\n            mensajeAlerta: ``,\r\n            tipoAlerta: ``,\r\n            \r\n        }\r\n    },\r\n    methods: {\r\n        getDatosUser(){\r\n            if(sessionStorage.getItem(\"apiAccess\")){\r\n                const path = `${this.$apiURL}/profile/`;\r\n                axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n                axios\r\n                .get(path)\r\n                .then(response => {\r\n                    this.$session.start()\r\n                    //---------------------------------------------------------------\r\n                    this.$session.set('is_coop_user', response.data[0].cooperative_user)\r\n                    this.$session.set('enterprise', response.data[0].enterprise_id)\r\n                    this.$session.set('user', response.data[0].user)\r\n                    sessionStorage.setItem('enterprise', response.data[0].enterprise_id)\r\n                    sessionStorage.setItem('user', response.data[0].user)\r\n                    let pathEnterpriseInstance = `${this.$apiURL}/enterprises/${response.data[0].enterprise_id}/`;\r\n                    axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n                    axios.get(pathEnterpriseInstance)\r\n                    .then(response =>{\r\n                        sessionStorage.setItem('sI', response.data.sentinel_instance)\r\n                        \r\n                    })\r\n                    //---------------------------------------------------------------\r\n                    this.getPermisosUser(response.data[0].user)\r\n                }).catch(error =>{\r\n                    console.warn(error)\r\n                })\r\n            }\r\n        },\r\n        getPermisosUser(id){\r\n            const pathRol = `${this.$apiURL}/permisos/${id}/`;\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .get(pathRol)\r\n            .then(response => {\r\n                //---------------------------------------------------------------\r\n                this.$session.set('is_enterpriseadmin', response.data.is_enterpriseadmin)\r\n                this.$session.set('is_staff', response.data.is_staff)\r\n                this.$session.set('is_superuser', response.data.is_superuser)\r\n                this.$session.set('is_systemadmin', response.data.is_systemadmin)\r\n                sessionStorage.setItem('is_enterpriseadmin', response.data.is_enterpriseadmin)\r\n                sessionStorage.setItem('is_staff', response.data.is_staff)\r\n                sessionStorage.setItem('is_superuser', response.data.is_superuser)\r\n                sessionStorage.setItem('is_systemadmin', response.data.is_systemadmin)\r\n                this.$parent.is_superuser = response.data.is_superuser\r\n                this.$parent.is_staff = response.data.is_staff,\r\n                this.$parent.is_systemadmin = response.data.is_systemadmin,\r\n                this.$parent.is_enterpriseadmin = response.data.is_enterpriseadmin\r\n                this.$parent.customLinkEnterprise = 'edit-enterprise?enterprise='+this.$session.get('enterprise')\r\n                this.$parent.$parent.is_coop_user = this.$session.get('is_coop_user')\r\n                this.$parent.$parent.customLinkCoop = 'edit-cooperative?cooperative='+this.$session.get('enterprise')\r\n            })\r\n        },\r\n    },\r\n    mounted(){\r\n        this.cooperative = this.$route.query.cooperative\r\n        this.$refs.listausuarios.getUsuariosEmpresa(this.$route.query.cooperative)\r\n        this.getDatosUser()\r\n    },\r\n    created(){}\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n</style>"]}]}