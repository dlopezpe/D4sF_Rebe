{"remainingRequest":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\views\\AdminCooperatives.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\views\\AdminCooperatives.vue","mtime":1681217492560},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681731147886},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1681731156386},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681731147886},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1681731148945}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IEZvb3RlciBmcm9tICIuLi92aWV3cy9Gb290ZXIudnVlIjsNCmltcG9ydCBuZXdDb29wZXJhdGl2ZSBmcm9tICIuLi9jb21wb25lbnRzL05ld0Nvb3BlcmF0aXZlLnZ1ZSINCmltcG9ydCBBbGVydGFHZW5lcmFsIGZyb20gIkAvY29tcG9uZW50cy9BbGVydGFHZW5lcmFsIjsNCmltcG9ydCBCb2FyZCBmcm9tICJAL3ZpZXdzL0JvYXJkLnZ1ZSI7DQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIkFkbWluQ29vcGVyYXRpdmVzIiwNCiAgICBwcm9wczoge30sDQogICAgY29tcG9uZW50czogew0KICAgICAgICBGb290ZXIsDQogICAgICAgIG5ld0Nvb3BlcmF0aXZlLA0KICAgICAgICBBbGVydGFHZW5lcmFsLA0KICAgICAgICBCb2FyZA0KICAgIH0sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGNvb3BlcmF0aXZlczogQXJyYXkoKSwNCiAgICAgICAgICAgIG1lbnNhamVBbGVydGE6IGBgLA0KICAgICAgICAgICAgdGlwb0FsZXJ0YTogYGAsDQogICAgICAgICAgICB2ZXJFZGl0YXJDb29wOiB0cnVlDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgb2J0ZW5lckNvb3BlcmF0aXZhcygpew0KICAgICAgICAgICAgY29uc3QgcGF0aCA9IGAke3RoaXMuJGFwaVVSTH0vY29vcGVyYXRpdmVzL2ANCiAgICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAiQmVhcmVyICIrc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXBpQWNjZXNzIikNCiAgICAgICAgICAgIGF4aW9zDQogICAgICAgICAgICAuZ2V0KHBhdGgpDQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5jb29wZXJhdGl2ZXMgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+ew0KICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcikNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIGNoZWNrQ29vcHMoYXJyU2VsKXsNCiAgICAgICAgICAgIGlmKGFyclNlbC5sZW5ndGggPT09IDEpew0KICAgICAgICAgICAgICAgIHRoaXMudmVyRWRpdGFyQ29vcCA9IHRydWUNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHRoaXMudmVyRWRpdGFyQ29vcCA9IGZhbHNlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIG51ZXZhQ29vcCgpew0KICAgICAgICAgICAgdGhpcy4kcmVmcy5tb2RhbC5vcGVuTW9kYWwoKQ0KICAgICAgICB9LA0KICAgICAgICBlZGl0YXJDb29wKCl7DQogICAgICAgICAgICBjb25zdCByb3dTZWxlY2Npb25hZG8gPSB0aGlzLiRyZWZzLnRhYmxlLnNlbGVjdGVkUm93cw0KICAgICAgICAgICAgaWYocm93U2VsZWNjaW9uYWRvLmxlbmd0aCA9PT0gMSkNCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL2VkaXQtY29vcGVyYXRpdmU/Y29vcGVyYXRpdmU9JHtyb3dTZWxlY2Npb25hZG99YCkNCiAgICAgICAgfSwNCiAgICAgICAgZWxpbWluYXJDb29wTW9kYWwoKXsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuYWxlcnRhX2VsaW1pbmFyLmRhdGFWaXNpYmxlID0gdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICBlbGltaW5hckNvb3AoKXsNCiAgICAgICAgICAgIGxldCBwYXRoID0gJycNCiAgICAgICAgICAgIGNvbnN0IHJvd1NlbGVjY2lvbmFkb3MgPSB0aGlzLiRyZWZzLnRhYmxlLnNlbGVjdGVkUm93cw0KICAgICAgICAgICAgZm9yIChjb25zdCByb3cgaW4gcm93U2VsZWNjaW9uYWRvcyl7DQogICAgICAgICAgICAgICAgcGF0aCA9IGAke3RoaXMuJGFwaVVSTH0vY29vcGVyYXRpdmVzLyR7cm93U2VsZWNjaW9uYWRvc1tyb3ddfS9gDQogICAgICAgICAgICAgICAgYXhpb3MNCiAgICAgICAgICAgICAgICAuZGVsZXRlKHBhdGgpDQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLm9idGVuZXJDb29wZXJhdGl2YXMoKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW5zYWplQWxlcnRhID0gdGhpcy4kdCgnYWRtaW5Db29wLmRlbF9jb29wX29rJykNCiAgICAgICAgICAgICAgICAgICAgdGhpcy50aXBvQWxlcnRhID0gJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuYWxlcnRhR2VuZXJhbC52ZXJBbGVydGEoKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+ew0KICAgICAgICAgICAgICAgICAgICB0aGlzLm9idGVuZXJDb29wZXJhdGl2YXMoKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW5zYWplQWxlcnRhID0gdGhpcy4kdCgnYWRtaW5Db29wLmRlbF9jb29wX2tvJykNCiAgICAgICAgICAgICAgICAgICAgdGhpcy50aXBvQWxlcnRhID0gJ2Vycm9yJw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFsZXJ0YUdlbmVyYWwudmVyQWxlcnRhKCkNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnRhYmxlLnNlbGVjdGVkUm93cyA9ICcnDQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5hbGVydGFfZWxpbWluYXIuaGlkZSgpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGdldERhdG9zVXNlcigpew0KICAgICAgICAgICAgaWYoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXBpQWNjZXNzIikpew0KICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLiRhcGlVUkx9L3Byb2ZpbGUvYDsNCiAgICAgICAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gIkJlYXJlciAiK3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFwaUFjY2VzcyIpDQogICAgICAgICAgICAgICAgYXhpb3MNCiAgICAgICAgICAgICAgICAuZ2V0KHBhdGgpDQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnN0YXJ0KCkNCiAgICAgICAgICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoJ2lzX2Nvb3BfdXNlcicsIHJlc3BvbnNlLmRhdGFbMF0uY29vcGVyYXRpdmVfdXNlcikNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoJ2VudGVycHJpc2UnLCByZXNwb25zZS5kYXRhWzBdLmVudGVycHJpc2VfaWQpDQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCd1c2VyJywgcmVzcG9uc2UuZGF0YVswXS51c2VyKQ0KICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdlbnRlcnByaXNlJywgcmVzcG9uc2UuZGF0YVswXS5lbnRlcnByaXNlX2lkKQ0KICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgcmVzcG9uc2UuZGF0YVswXS51c2VyKQ0KICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aEVudGVycHJpc2VJbnN0YW5jZSA9IGAke3RoaXMuJGFwaVVSTH0vZW50ZXJwcmlzZXMvJHtyZXNwb25zZS5kYXRhWzBdLmVudGVycHJpc2VfaWR9L2A7DQogICAgICAgICAgICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAiQmVhcmVyICIrc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXBpQWNjZXNzIikNCiAgICAgICAgICAgICAgICAgICAgYXhpb3MuZ2V0KHBhdGhFbnRlcnByaXNlSW5zdGFuY2UpDQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+ew0KICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc0knLCByZXNwb25zZS5kYXRhLnNlbnRpbmVsX2luc3RhbmNlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UGVybWlzb3NVc2VyKHJlc3BvbnNlLmRhdGFbMF0udXNlcikNCiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PnsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGdldFBlcm1pc29zVXNlcihpZCl7DQogICAgICAgICAgICBjb25zdCBwYXRoUm9sID0gYCR7dGhpcy4kYXBpVVJMfS9wZXJtaXNvcy8ke2lkfS9gOw0KICAgICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICJCZWFyZXIgIitzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhcGlBY2Nlc3MiKQ0KICAgICAgICAgICAgYXhpb3MNCiAgICAgICAgICAgIC5nZXQocGF0aFJvbCkNCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCdpc19lbnRlcnByaXNlYWRtaW4nLCByZXNwb25zZS5kYXRhLmlzX2VudGVycHJpc2VhZG1pbikNCiAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgnaXNfc3RhZmYnLCByZXNwb25zZS5kYXRhLmlzX3N0YWZmKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCdpc19zdXBlcnVzZXInLCByZXNwb25zZS5kYXRhLmlzX3N1cGVydXNlcikNCiAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgnaXNfc3lzdGVtYWRtaW4nLCByZXNwb25zZS5kYXRhLmlzX3N5c3RlbWFkbWluKQ0KICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2lzX2VudGVycHJpc2VhZG1pbicsIHJlc3BvbnNlLmRhdGEuaXNfZW50ZXJwcmlzZWFkbWluKQ0KICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2lzX3N0YWZmJywgcmVzcG9uc2UuZGF0YS5pc19zdGFmZikNCiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdpc19zdXBlcnVzZXInLCByZXNwb25zZS5kYXRhLmlzX3N1cGVydXNlcikNCiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdpc19zeXN0ZW1hZG1pbicsIHJlc3BvbnNlLmRhdGEuaXNfc3lzdGVtYWRtaW4pDQogICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LmlzX3N1cGVydXNlciA9IHJlc3BvbnNlLmRhdGEuaXNfc3VwZXJ1c2VyDQogICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LmlzX3N0YWZmID0gcmVzcG9uc2UuZGF0YS5pc19zdGFmZiwNCiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQuaXNfc3lzdGVtYWRtaW4gPSByZXNwb25zZS5kYXRhLmlzX3N5c3RlbWFkbWluLA0KICAgICAgICAgICAgICAgIHRoaXMuJHBhcmVudC5pc19lbnRlcnByaXNlYWRtaW4gPSByZXNwb25zZS5kYXRhLmlzX2VudGVycHJpc2VhZG1pbg0KICAgICAgICAgICAgICAgIHRoaXMuJHBhcmVudC5jdXN0b21MaW5rRW50ZXJwcmlzZSA9ICdlZGl0LWVudGVycHJpc2U/ZW50ZXJwcmlzZT0nK3RoaXMuJHNlc3Npb24uZ2V0KCdlbnRlcnByaXNlJykNCg0KICAgICAgICAgICAgICAgIHRoaXMuJHBhcmVudC4kcGFyZW50LmlzX2Nvb3BfdXNlciA9IHRoaXMuJHNlc3Npb24uZ2V0KCdpc19jb29wX3VzZXInKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHBhcmVudC4kcGFyZW50LmN1c3RvbUxpbmtDb29wID0gJ2VkaXQtY29vcGVyYXRpdmU/Y29vcGVyYXRpdmU9Jyt0aGlzLiRzZXNzaW9uLmdldCgnZW50ZXJwcmlzZScpDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgIH0sDQogICAgY3JlYXRlZCgpew0KICAgICAgICB0aGlzLmdldERhdG9zVXNlcigpDQogICAgICAgIHRoaXMub2J0ZW5lckNvb3BlcmF0aXZhcygpDQogICAgfSwNCiAgICBtb3VudGVkKCl7fQ0KfQ0K"},{"version":3,"sources":["AdminCooperatives.vue"],"names":[],"mappings":";AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminCooperatives.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <Board />\r\n        <div class=\"bx--grid\" id=\"grid-admin\">\r\n            <div class=\"group-list\">\r\n                <cv-data-table\r\n                    :sortable=\"false\"\r\n                    :columns=\"[\r\n                        {\r\n                            key: 'name',\r\n                            label: this.$t('adminCoop.nombre')\r\n                        },\r\n                        {\r\n                            key: 'cif',\r\n                            label: this.$t('adminCoop.cif')\r\n                        },\r\n                        {\r\n                            key: 'direction',\r\n                            label: this.$t('adminCoop.direction')\r\n                        },\r\n                    ]\"\r\n                    :title=\"$t('adminCoop.listado_coop')\"\r\n                    ref=\"table\"\r\n                    @row-select-changes=\"checkCoops\"\r\n                >\r\n                    <template slot=\"actions\">\r\n                        <!-- Esta OpciÃ³n solo tiene que estar disponible para admins -->\r\n                        <cv-button small @click=\"nuevaCoop\">{{$t(\"adminCoop.add_coop\")}}</cv-button>\r\n                    </template>\r\n                    <template v-if=\"true\" slot=\"batch-actions\">\r\n                        <cv-button @click=\"editarCoop\" v-if=\"verEditarCoop\">\r\n                            {{$t(\"adminCoop.editar_coop\")}}\r\n                            <Edit32 class=\"bx--btn__icon\" />\r\n                        </cv-button>\r\n                        <cv-button @click=\"eliminarCoopModal\">\r\n                            {{$t(\"adminCoop.delete_coop\")}}\r\n                            <TrashCan32 class=\"bx--btn__icon\" />\r\n                        </cv-button>\r\n                    </template>\r\n                    <template slot=\"data\">\r\n                        <cv-data-table-row\r\n                            v-for=\"cooperative in cooperatives\"\r\n                            :key=\"`${cooperative.id}`\"\r\n                            :value=\"`${cooperative.id}`\"\r\n                        >\r\n                            <cv-data-table-cell>{{cooperative.name}}</cv-data-table-cell>\r\n                            <cv-data-table-cell>{{cooperative.cif}}</cv-data-table-cell>\r\n                            <cv-data-table-cell>{{cooperative.direction}}</cv-data-table-cell>\r\n                        </cv-data-table-row>\r\n                    </template>\r\n                </cv-data-table>\r\n            </div>\r\n            <newCooperative ref=\"modal\" />\r\n            <cv-modal\r\n            ref=\"alerta_eliminar\"\r\n            kind=\"danger\"\r\n            :visible=\"false\"\r\n            @primary-click=\"eliminarCoop\">\r\n                <template slot=\"label\">{{$t(\"adminCoop.seguro\")}}</template>\r\n                <template slot=\"title\">{{$t(\"adminCoop.delete_coop\")}}</template>\r\n                <template slot=\"content\">\r\n                <p>{{$t(\"adminCoop.seguro_coop_del\")}}</p>\r\n                </template>\r\n                <template slot=\"secondary-button\">{{$t(\"adminCoop.cancelar\")}}</template>\r\n                <template slot=\"primary-button\">{{$t(\"adminCoop.eliminar\")}}</template>\r\n            </cv-modal>\r\n            <AlertaGeneral ref=\"alertaGeneral\" :tituloAlert=\"mensajeAlerta\" :tipoAlert=\"tipoAlerta\" />\r\n        </div>\r\n        <Footer/>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport Footer from \"../views/Footer.vue\";\r\nimport newCooperative from \"../components/NewCooperative.vue\"\r\nimport AlertaGeneral from \"@/components/AlertaGeneral\";\r\nimport Board from \"@/views/Board.vue\";\r\nexport default {\r\n    name: \"AdminCooperatives\",\r\n    props: {},\r\n    components: {\r\n        Footer,\r\n        newCooperative,\r\n        AlertaGeneral,\r\n        Board\r\n    },\r\n    data() {\r\n        return {\r\n            cooperatives: Array(),\r\n            mensajeAlerta: ``,\r\n            tipoAlerta: ``,\r\n            verEditarCoop: true\r\n        }\r\n    },\r\n    methods: {\r\n        obtenerCooperativas(){\r\n            const path = `${this.$apiURL}/cooperatives/`\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .get(path)\r\n            .then(response => {\r\n                this.cooperatives = response.data\r\n            })\r\n            .catch(error =>{\r\n                console.warn(error)\r\n            })\r\n        },\r\n        checkCoops(arrSel){\r\n            if(arrSel.length === 1){\r\n                this.verEditarCoop = true\r\n            }else{\r\n                this.verEditarCoop = false\r\n            }\r\n        },\r\n        nuevaCoop(){\r\n            this.$refs.modal.openModal()\r\n        },\r\n        editarCoop(){\r\n            const rowSeleccionado = this.$refs.table.selectedRows\r\n            if(rowSeleccionado.length === 1)\r\n                this.$router.push(`/edit-cooperative?cooperative=${rowSeleccionado}`)\r\n        },\r\n        eliminarCoopModal(){\r\n            this.$refs.alerta_eliminar.dataVisible = true\r\n        },\r\n        eliminarCoop(){\r\n            let path = ''\r\n            const rowSeleccionados = this.$refs.table.selectedRows\r\n            for (const row in rowSeleccionados){\r\n                path = `${this.$apiURL}/cooperatives/${rowSeleccionados[row]}/`\r\n                axios\r\n                .delete(path)\r\n                .then(() => {\r\n                    this.obtenerCooperativas();\r\n                    this.mensajeAlerta = this.$t('adminCoop.del_coop_ok')\r\n                    this.tipoAlerta = 'success'\r\n                    this.$refs.alertaGeneral.verAlerta()\r\n                })\r\n                .catch(() =>{\r\n                    this.obtenerCooperativas();\r\n                    this.mensajeAlerta = this.$t('adminCoop.del_coop_ko')\r\n                    this.tipoAlerta = 'error'\r\n                    this.$refs.alertaGeneral.verAlerta()\r\n                });\r\n                this.$refs.table.selectedRows = ''\r\n                this.$refs.alerta_eliminar.hide()\r\n            }\r\n        },\r\n        getDatosUser(){\r\n            if(sessionStorage.getItem(\"apiAccess\")){\r\n                const path = `${this.$apiURL}/profile/`;\r\n                axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n                axios\r\n                .get(path)\r\n                .then(response => {\r\n                    this.$session.start()\r\n                    //---------------------------------------------------------------\r\n                    this.$session.set('is_coop_user', response.data[0].cooperative_user)\r\n                    this.$session.set('enterprise', response.data[0].enterprise_id)\r\n                    this.$session.set('user', response.data[0].user)\r\n                    sessionStorage.setItem('enterprise', response.data[0].enterprise_id)\r\n                    sessionStorage.setItem('user', response.data[0].user)\r\n                    let pathEnterpriseInstance = `${this.$apiURL}/enterprises/${response.data[0].enterprise_id}/`;\r\n                    axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n                    axios.get(pathEnterpriseInstance)\r\n                    .then(response =>{\r\n                        sessionStorage.setItem('sI', response.data.sentinel_instance)\r\n                        \r\n                    })\r\n                    //---------------------------------------------------------------\r\n                    this.getPermisosUser(response.data[0].user)\r\n                }).catch(error =>{\r\n                    console.warn(error)\r\n                })\r\n            }\r\n        },\r\n        getPermisosUser(id){\r\n            const pathRol = `${this.$apiURL}/permisos/${id}/`;\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .get(pathRol)\r\n            .then(response => {\r\n                //---------------------------------------------------------------\r\n                this.$session.set('is_enterpriseadmin', response.data.is_enterpriseadmin)\r\n                this.$session.set('is_staff', response.data.is_staff)\r\n                this.$session.set('is_superuser', response.data.is_superuser)\r\n                this.$session.set('is_systemadmin', response.data.is_systemadmin)\r\n                sessionStorage.setItem('is_enterpriseadmin', response.data.is_enterpriseadmin)\r\n                sessionStorage.setItem('is_staff', response.data.is_staff)\r\n                sessionStorage.setItem('is_superuser', response.data.is_superuser)\r\n                sessionStorage.setItem('is_systemadmin', response.data.is_systemadmin)\r\n                this.$parent.is_superuser = response.data.is_superuser\r\n                this.$parent.is_staff = response.data.is_staff,\r\n                this.$parent.is_systemadmin = response.data.is_systemadmin,\r\n                this.$parent.is_enterpriseadmin = response.data.is_enterpriseadmin\r\n                this.$parent.customLinkEnterprise = 'edit-enterprise?enterprise='+this.$session.get('enterprise')\r\n\r\n                this.$parent.$parent.is_coop_user = this.$session.get('is_coop_user')\r\n                this.$parent.$parent.customLinkCoop = 'edit-cooperative?cooperative='+this.$session.get('enterprise')\r\n            })\r\n        },\r\n    },\r\n    created(){\r\n        this.getDatosUser()\r\n        this.obtenerCooperativas()\r\n    },\r\n    mounted(){}\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n</style>"]}]}