{"remainingRequest":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\components\\monitor\\tableColorsMois.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\components\\monitor\\tableColorsMois.vue","mtime":1681217492560},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoNCmltcG9ydCBBbGVydGFHZW5lcmFsIGZyb20gIkAvY29tcG9uZW50cy9BbGVydGFHZW5lcmFsIjsNCmltcG9ydCB7ZXN0YWJsZWNlcl9yZWNvZ2lkYX0gZnJvbSAnQC9jcnVkRnVuY3Rpb25zL2NydWRFbnRlcnByaXNlJw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGNvbXBvbmVudHM6e0FsZXJ0YUdlbmVyYWx9LA0KICAgIHByb3BzOiB7DQogICAgICAgIGRhdG9zQ2FtcGFuYTogT2JqZWN0KCksDQogICAgICAgIGRhdG9zUHJvZHVjY2lvbjogT2JqZWN0KCksDQogICAgICAgIGRhdG9zOiBPYmplY3QoKSwNCiAgICAgICAgdXJsTWVkaWE6IFN0cmluZywNCiAgICAgICAgZGF0b2VtcHJlc2E6U3RyaW5nLA0KICAgIH0sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHRpbWU6IGBgLA0KICAgICAgICAgICAgc3JjSW1hZ2U6YGAsDQogICAgICAgICAgICBrZXlzOiBBcnJheSgpLA0KICAgICAgICAgICAgY2FsT3B0aW9uczogew0KICAgICAgICAgICAgICAgICJkYXRlRm9ybWF0IjogIlktbS1kIg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJjb2x1bW5zIjogWw0KICAgICAgICAgICAgICAgIHRoaXMuJHQoJ2FkbWluRW50ZXJwcmlzZS5ub21icmUnKSwNCiAgICAgICAgICAgICAgICB0aGlzLiR0KCdncmFmaWNvcy5yb2pvX25hcmFuJyksDQogICAgICAgICAgICAgICAgdGhpcy4kdCgnZ3JhZmljb3MuYW1hcmlsbG8nKSwNCiAgICAgICAgICAgICAgICB0aGlzLiR0KCdncmFmaWNvcy52ZXJkZScpLA0KICAgICAgICAgICAgICAgIHRoaXMuJHQoJ2dyYWZpY29zLmF6dWxfY2xhcm8nKSwNCiAgICAgICAgICAgICAgICB0aGlzLiR0KCdncmFmaWNvcy5henVsX21lZGlvJyksDQogICAgICAgICAgICAgICAgdGhpcy4kdCgnZ3JhZmljb3MuYXp1bF9vc2N1cm8nKSwNCiAgICAgICAgICAgICAgICB0aGlzLiR0KCdncmFmaWNvcy5jbG91ZHMnKSwNCiAgICAgICAgICAgICAgICB0aGlzLiR0KCdncmFmaWNvcy5pbWFnZW4nKSwNCiAgICAgICAgICAgICAgICB0aGlzLiR0KCdncmFmaWNvcy5pbWFnZW5DbG91ZHMnKSwNCiAgICAgICAgICAgICAgICB0aGlzLiR0KCdncmFmaWNvcy5wbGFudGFzJyksDQogICAgICAgICAgICAgICAgdGhpcy4kdCgnZ3JhZmljb3MuY29zZWNoYScpLA0KICAgICAgICAgICAgICAgIHRoaXMuJHQoJ2dyYWZpY29zLmZlY2hhX3JlY29naWRhJyksDQogICAgICAgICAgICAgICAgdGhpcy4kdCgnZ3JhZmljb3MuZmVjaGFfZXN0aW1hZGFfcmVjb2dpZGEnKSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICB2ZXJGZWNoYUdlbjogZmFsc2UsDQogICAgICAgICAgICB2ZXJjb2xvcmVzOiB0cnVlLA0KICAgICAgICAgICAgdmVyaW1hZ2VuZXM6dHJ1ZSwNCiAgICAgICAgICAgIHJvd1NlbGVjdHM6W10sDQogICAgICAgICAgICBmZWNoYVJlY29naWRhOiIiLA0KICAgICAgICAgICAgLy8NCiAgICAgICAgICAgIHRpcG9BbGVydGE6IGBlcnJvcmAsDQogICAgICAgICAgICBtZW5zYWplQWxlcnRhOiAnJywNCiAgICAgICAgICAgIC8vDQogICAgICAgICAgICBpZF9hZ3JhejonN2RlMjdkMzktMWU0Mi00YzZhLWJlNTMtNjdhNzJlMWM5OGRjJw0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGNvbXBhcmUoIGEsIGIgKSB7DQogICAgICAgICAgICBpZiAoIGEubGFzdF9ub20gPCBiLmxhc3Rfbm9tICl7DQogICAgICAgICAgICAgICAgcmV0dXJuIC0xOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKCBhLmxhc3Rfbm9tID4gYi5sYXN0X25vbSApew0KICAgICAgICAgICAgICAgIHJldHVybiAxOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0sDQogICAgICAgIGdldGRhdG9QbGFudGFzKGRhdG8pew0KICAgICAgICAgICAgdHJ5ew0KICAgICAgICAgICAgICAgIGNvbnN0IGFuaW89ZGF0by5kYXRlLnN1YnN0cmluZygwLDQpDQogICAgICAgICAgICAgICAgY29uc3QgcGFyY2VsYT1kYXRvLnBhcmNlbA0KICAgICAgICAgICAgICAgIGxldCBwbGFudGFzPSB0aGlzLmRhdG9zQ2FtcGFuYVthbmlvXS5yZXN1bHRhZG8uZmlsdGVyKHg9PngucGFyY2VsYT09cGFyY2VsYSkNCiAgICAgICAgICAgICAgICByZXR1cm4gcGxhbnRhc1swXS5wbGFudGFzDQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZSl7DQogICAgICAgICAgICAgICAgcmV0dXJuICJObyBoYXkgZGF0b3MiDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGdldGRhdG9Db3NlY2hhKGRhdG8pew0KICAgICAgICAgICAgdHJ5ew0KICAgICAgICAgICAgICAgIGNvbnN0IGFuaW89ZGF0by5kYXRlLnN1YnN0cmluZygwLDQpDQogICAgICAgICAgICAgICAgY29uc3QgcGFyY2VsYT1kYXRvLnBhcmNlbA0KICAgICAgICAgICAgICAgIGxldCBjb3NlY2hhPSB0aGlzLmRhdG9zUHJvZHVjY2lvblthbmlvXS5yZXN1bHRhZG8uZmlsdGVyKHg9PngucGFyY2VsYT09cGFyY2VsYSkNCiAgICAgICAgICAgICAgICByZXR1cm4gY29zZWNoYVswXS5wcm9kdWNjaW9uDQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaChlKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gIk5vIGhheSBkYXRvcyINCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZ2V0ZGF0b2ZlY2hhKGRhdG8pew0KICAgICAgICAgICAgdHJ5ew0KICAgICAgICAgICAgICAgIGNvbnN0IGFuaW89ZGF0by5kYXRlLnN1YnN0cmluZygwLDQpDQogICAgICAgICAgICAgICAgY29uc3QgcGFyY2VsYT1kYXRvLnBhcmNlbA0KICAgICAgICAgICAgICAgIGxldCBmZWNoYT0gdGhpcy5kYXRvc1Byb2R1Y2Npb25bYW5pb10ucmVzdWx0YWRvLmZpbHRlcih4PT54LnBhcmNlbGE9PXBhcmNlbGEpDQogICAgICAgICAgICAgICAgcmV0dXJuIGZlY2hhWzBdLmZlY2hhX2Zpbg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2goZSl7DQogICAgICAgICAgICAgICAgcmV0dXJuICJObyBoYXkgZGF0b3MiDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGdldGRhdG9lc3RpbWFjaW9uKGRhdG8pew0KICAgICAgICAgICAgdHJ5ew0KICAgICAgICAgICAgICAgIGNvbnN0IHBhcmNlbGE9ZGF0by5wYXJjZWwNCiAgICAgICAgICAgICAgICBjb25zdCBhbmlvPWRhdG8uZGF0ZS5zdWJzdHJpbmcoMCw0KQ0KICAgICAgICAgICAgICAgIGxldCBwbGFudGFzPSB0aGlzLmRhdG9zQ2FtcGFuYVthbmlvXS5yZXN1bHRhZG8uZmlsdGVyKHg9PngucGFyY2VsYT09cGFyY2VsYSkNCiAgICAgICAgICAgICAgICByZXR1cm4gcGxhbnRhc1swXS5mZWNoYV9yZWNvZ2lkYV9lc3RpbWFkYQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKGUpew0KICAgICAgICAgICAgICAgIHJldHVybiAiTm8gaGF5IGRhdG9zIg0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBhY3Rpb25DaGFuZ2VkVG9nZ2xlQ29sb3Jlcyh2YWx1ZSl7DQogICAgICAgICAgICB0aGlzLnZlcmNvbG9yZXM9dmFsdWUNCiAgICAgICAgfSwNCiAgICAgICAgYWN0aW9uQ2hhbmdlZFRvZ2dsZUltYWdlbmVzKHZhbHVlKXsNCiAgICAgICAgICAgIHRoaXMudmVyaW1hZ2VuZXM9dmFsdWUNCiAgICAgICAgfSwNCiAgICAgICAgZmVjaGF0ZW9yaWNhKCl7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJvd1NlbGVjdHMpDQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJvd1NlbGVjdHMubGVuZ3RoKQ0KICAgICAgICAgICAgaWYgKHRoaXMucm93U2VsZWN0cy5sZW5ndGg8PTApew0KICAgICAgICAgICAgICAgIHRoaXMubWVuc2FqZUFsZXJ0YSA9IGBObyBoYXkgcGFyY2VsYXMgc2VsZWNjaW9uYWRhc2ANCiAgICAgICAgICAgICAgICB0aGlzLnRpcG9BbGVydGEgPSBgZXJyb3JgDQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5hbGVydGFHZW5lcmFsbC52ZXJBbGVydGEoKQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5lc3RhYmxlY2VyX2ZlY2hhLmRhdGFWaXNpYmxlID0gdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBlc3RhYmxlY2VyX2ZlY2hhKCl7DQogICAgICAgICAgICBhd2FpdCBlc3RhYmxlY2VyX3JlY29naWRhKHRoaXMucm93U2VsZWN0cywgdGhpcy5mZWNoYVJlY29naWRhKQ0KICAgICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMubWVuc2FqZUFsZXJ0YSA9IGBGZWNoYSBhY3R1YWxpemFkYSBjb3JyZWN0YW1lbnRlYA0KICAgICAgICAgICAgICAgIHRoaXMudGlwb0FsZXJ0YSA9IGBzdWNjZXNzYA0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuYWxlcnRhR2VuZXJhbGwudmVyQWxlcnRhKCkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMubWVuc2FqZUFsZXJ0YSA9IGBFcnJvciBhbCBhY3R1YWxpemFyIGxhIGZlY2hhYA0KICAgICAgICAgICAgICAgIHRoaXMudGlwb0FsZXJ0YSA9IGBlcnJvcmANCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFsZXJ0YUdlbmVyYWxsLnZlckFsZXJ0YSgpDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgdGhpcy4kcmVmcy5lc3RhYmxlY2VyX2ZlY2hhLmhpZGUoKQ0KICAgICAgICB9LA0KICAgIH0sDQogICAgDQogICAgbW91bnRlZCgpIHsNCiAgICAgICAgdGhpcy5rZXlzID0gT2JqZWN0LmtleXModGhpcy5kYXRvcykNCiAgICB9LA0KICAgIA0KICAgIH07DQo="},{"version":3,"sources":["tableColorsMois.vue"],"names":[],"mappings":";;AAiMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"tableColorsMois.vue","sourceRoot":"src/components/monitor","sourcesContent":["<template>\r\n    <div>\r\n        <h4>{{$t(\"graficos.tabla_colores\")}} <img src=\"../../assets/crop-health.svg\" style=\"width: 20px;\"></h4>\r\n        <div class=\"bx--row \">\r\n            <div class=\"bx--col\">\r\n                <cv-toggle\r\n                    :checked=true\r\n                    label=\"Ver columnas de colores\"\r\n                    value=\"check-2\"\r\n                    :small=\"true\"\r\n                    :hide-label=\"true\"\r\n                    @change=\"actionChangedToggleColores\">\r\n                    <template slot=\"text-left\">Desactivadas las columnas con colores</template>\r\n                    <template slot=\"text-right\">Activadas las columnas con colores</template>\r\n                </cv-toggle>\r\n            </div>\r\n            <div class=\"bx--col\"> \r\n                <cv-toggle\r\n                    :checked=true\r\n                    label=\"ver columnas de imagenes\"\r\n                    value=\"check-1\"\r\n                    :small=\"true\"\r\n                    :hide-label=\"true\"\r\n                    @change=\"actionChangedToggleImagenes\">\r\n                    <template slot=\"text-left\">Desactivada la presentacion de imagenes</template>\r\n                    <template slot=\"text-right\">Activada la presentacion de imagenes</template>\r\n                </cv-toggle>\r\n            </div>\r\n        </div>\r\n        <br>\r\n        <cv-data-table\r\n            ref=\"table\"\r\n            @sort=\"onSort\"\r\n            v-model=\"rowSelects\"\r\n            searchLabel=\"Filter\" searchPlaceholder=\"Filter\" searchClearLabel=\"Clear filter\">\r\n            <template slot=\"headings\">\r\n                <cv-data-table-heading :heading=\"$t('adminEnterprise.nombre')\"/>\r\n\r\n                <cv-data-table-heading :heading=\"$t('graficos.fecha_gen')\" v-if=\"verFechaGen\"/>\r\n\r\n                <cv-data-table-heading v-if=\"vercolores\" :heading=\"$t('graficos.rojo_naran')\"/>\r\n                <cv-data-table-heading v-if=\"vercolores\" :heading=\"$t('graficos.amarillo')\"/>\r\n                <cv-data-table-heading v-if=\"vercolores\" :heading=\"$t('graficos.verde')\"/>\r\n\r\n                <cv-data-table-heading v-if=\"vercolores\" :heading=\"$t('graficos.azul_claro')\"/>\r\n                <cv-data-table-heading v-if=\"vercolores\" :heading=\"$t('graficos.azul_medio')\"/>\r\n                <cv-data-table-heading v-if=\"vercolores\" :heading=\"$t('graficos.azul_oscuro')\"/>\r\n                <cv-data-table-heading :heading=\"$t('graficos.clouds')\"/>\r\n\r\n                <cv-data-table-heading v-if=\"verimagenes\" :heading=\"$t('graficos.imagen')\"/>\r\n                <cv-data-table-heading v-if=\"verimagenes\" :heading=\"$t('graficos.imagenClouds')\"/>\r\n                <cv-data-table-heading v-if=\"verimagenes\" :heading=\"$t('graficos.imagenTrueColor')\"/>\r\n\r\n                <cv-data-table-heading :heading=\"$t('graficos.plantas')\"/>\r\n                <cv-data-table-heading :heading=\"$t('graficos.cosecha')\"/>\r\n                <cv-data-table-heading :heading=\"$t('graficos.fecha_recogida')\"/>\r\n                <cv-data-table-heading :heading=\"$t('graficos.fecha_estimada_recogida')\"/>\r\n            </template>\r\n            <template v-if=\"true\" slot=\"batch-actions\">\r\n                <cv-button v-if=\"datoempresa==id_agraz\">\r\n                        \r\n                </cv-button> \r\n            </template>\r\n            <template slot=\"batch-actions\">\r\n                <cv-button @click=\"fechateorica\" v-if=\"datoempresa==id_agraz\">\r\n                        Establecer fecha teórica de recogida\r\n                        <Edit32 class=\"bx--btn__icon\" />\r\n                </cv-button>\r\n            </template>\r\n            <template slot=\"data\">\r\n                <cv-data-table-row  v-for=\"dato in datos\" :value=\"String(dato.parcel)\" v-bind:key=\"dato\" :aria-label-for-batch-checkbox=\"`Custom aria label for row ${dato.id} batch`\">\r\n                    <cv-data-table-cell>\r\n                        {{dato.name}}\r\n                    </cv-data-table-cell>\r\n\r\n                    <cv-data-table-cell v-if=\"vercolores\">\r\n                        {{dato.pix_naranja_porcent + `%`}}\r\n                        <span v-if=\"dato.pix_naranja_area_porcent\">\r\n                            {{\"-\"}}\r\n                            {{Math.round((dato.pix_naranja_area_porcent + Number.EPSILON) * 100) / 100 + 'Ha'}}\r\n                        </span>\r\n                        <br>\r\n                        <span v-if=\"dato.pix_naranja_porcent > 1.00\" :style=\"`width: ${dato.pix_naranja_porcent}%; height: 10px; background: #ff8000;display: inline-block;`\"></span>\r\n                        <span v-else :style=\"`width: 2%; height: 10px; background: #ff8000;display: inline-block;`\"></span>\r\n                    </cv-data-table-cell>\r\n                    <cv-data-table-cell v-if=\"vercolores\">\r\n                        {{dato.pix_amarillo_porcent + `%`}}\r\n                        <span v-if=\"dato.pix_amarillo_area_porcent\">\r\n                            {{\"-\"}}\r\n                            {{Math.round((dato.pix_amarillo_area_porcent + Number.EPSILON) * 100) / 100 + 'Ha'}}\r\n                        </span>\r\n                        <br>\r\n                        <span v-if=\"dato.pix_amarillo_porcent > 1.00\" :style=\"`width: ${dato.pix_amarillo_porcent}%; height: 10px; background: #ffdf00;display: inline-block;`\"></span>\r\n                        <span v-else :style=\"`width: 2%; height: 10px; background: #ffdf00;display: inline-block;`\"></span>\r\n                    </cv-data-table-cell>\r\n                    <cv-data-table-cell v-if=\"vercolores\">\r\n                        {{dato.pix_verde_porcent + `%`}}\r\n                        <span v-if=\"dato.pix_verde_area_porcent\">\r\n                            {{\"-\"}}\r\n                            {{Math.round((dato.pix_verde_area_porcent + Number.EPSILON) * 100) / 100 + 'Ha'}}\r\n                        </span>\r\n                        <br>\r\n                        <span v-if=\"dato.pix_verde_porcent > 1.00\" :style=\"`width: ${dato.pix_verde_porcent}%; height: 10px; background: #66ff98;display: inline-block;`\"></span>\r\n                        <span v-else :style=\"`width: 2%; height: 10px; background: #66ff98;display: inline-block;`\"></span>\r\n                    </cv-data-table-cell>\r\n                    <cv-data-table-cell v-if=\"vercolores\">\r\n                        {{dato.pix_azul_claro_porcent + `%`}}\r\n                        <span v-if=\"dato.pix_azul_claro_area_porcent\">\r\n                            {{\"-\"}}\r\n                            {{Math.round((dato.pix_azul_claro_area_porcent + Number.EPSILON) * 100) / 100 + 'Ha'}}\r\n                        </span>\r\n                        <br>\r\n                        <span v-if=\"dato.pix_azul_claro_porcent > 1.00\" :style=\"`width: ${dato.pix_azul_claro_porcent}%; height: 10px; background: #02fefc;display: inline-block;`\"></span>\r\n                        <span v-else :style=\"`width: 2%; height: 10px; background: #02fefc;display: inline-block;`\"></span>\r\n                    </cv-data-table-cell>\r\n                    <cv-data-table-cell v-if=\"vercolores\">\r\n                        {{dato.pix_azul_medio_porcent + `%`}}\r\n                        <span v-if=\"dato.pix_azul_medio_area_porcent\">\r\n                            {{\"-\"}}\r\n                            {{Math.round((dato.pix_azul_medio_area_porcent + Number.EPSILON) * 100) / 100 + 'Ha'}}\r\n                        </span>\r\n                        <br>\r\n                        <span v-if=\"dato.pix_azul_medio_porcent > 1.00\" :style=\"`width: ${dato.pix_azul_medio_porcent}%; height: 10px; background: #0087ff;display: inline-block;`\"></span>\r\n                        <span v-else :style=\"`width: 2%; height: 10px; background: #0087ff;display: inline-block;`\"></span>\r\n                    </cv-data-table-cell>\r\n                    <cv-data-table-cell v-if=\"vercolores\">\r\n                        {{dato.pix_azul_oscuro_porcent + `%`}}\r\n                        <span v-if=\"dato.pix_azul_oscuro_area_porcent\">\r\n                            {{\"-\"}}\r\n                            {{Math.round((dato.pix_azul_oscuro_area_porcent + Number.EPSILON) * 100) / 100 + 'Ha'}}\r\n                        </span>\r\n                        <br>\r\n                        <span v-if=\"dato.pix_azul_oscuro_porcent > 1.00\" :style=\"`width: ${dato.pix_azul_oscuro_porcent}%; height: 10px; background: #2000ff;display: inline-block;`\"></span>\r\n                        <span v-else :style=\"`width: 2%; height: 10px; background: #2000ff;display: inline-block;`\"></span>\r\n                    </cv-data-table-cell>\r\n                    <cv-data-table-cell>\r\n                        {{dato.nubes_porcent + `%`}}\r\n                        <span :style=\"`width: ${(dato.nubes_porcent > 1.00) ? dato.nubes_porcent : 2}%; height: 10px; background: #f904bb;display: inline-block;`\"></span>\r\n                    </cv-data-table-cell>\r\n                    <cv-data-table-cell v-if=\"verimagenes\">\r\n                        <img alt=\"\" id=\"\"  :src=\"`https://monitord4sf.devsmb.es/`+dato.image\" style=\"width: 100px;\">\r\n                    </cv-data-table-cell>\r\n                    <cv-data-table-cell v-if=\"verimagenes\">\r\n                        <img alt=\"\" id=\"\"  :src=\"`https://monitord4sf.devsmb.es/`+dato.nubesImage\" style=\"width: 80px;\">\r\n                    </cv-data-table-cell>\r\n                    <cv-data-table-cell v-if=\"verimagenes\">\r\n                        <img alt=\"\" id=\"\"  :src=\"`https://monitord4sf.devsmb.es/`+dato.trueColorImage\" style=\"width: 80px;\">\r\n                    </cv-data-table-cell>\r\n                    <cv-data-table-cell>\r\n                        {{getdatoPlantas(dato)}}\r\n                    </cv-data-table-cell>\r\n                    <cv-data-table-cell>\r\n                        {{getdatoCosecha(dato)}}\r\n                    </cv-data-table-cell>\r\n                    <cv-data-table-cell>\r\n                        {{getdatofecha(dato)}}\r\n                    </cv-data-table-cell>\r\n                    <cv-data-table-cell>\r\n                        {{getdatoestimacion(dato)}}\r\n                    </cv-data-table-cell>\r\n                </cv-data-table-row>\r\n            </template>\r\n        </cv-data-table>\r\n        <cv-modal\r\n            ref=\"establecer_fecha\"\r\n            @primary-click=\"establecer_fecha\"\r\n        >\r\n            <template slot=\"label\">Introduce a continuación la fecha estimada de recogida de las parcelas seleccionadas.</template>\r\n            <template slot=\"title\">Introduce a continuación la fecha estimada de recogida de las parcelas seleccionadas.</template>\r\n            <template slot=\"content\">\r\n                <div class=\"bx--row\">\r\n                    <div class=\"bx--col\">\r\n                        <cv-date-picker\r\n                            kind=\"single\"\r\n                            :cal-options=\"calOptions\"\r\n                            @change=\"actionChangeDate\"\r\n                            :dateLabel=\"$t('map.fecha')\"\r\n                            v-model=\"fechaRecogida\"\r\n                            placeholder=\"mm/dd/yyyy\"\r\n                            ref=\"cambiosFechas\"\r\n                            style=\"width: 100%!important\"\r\n                        ></cv-date-picker>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n            <template slot=\"secondary-button\">{{$t(\"graficos.cancelar\")}}</template>\r\n            <template slot=\"primary-button\">{{$t('graficos.guardar')}}</template>\r\n        </cv-modal>\r\n        <AlertaGeneral ref=\"alertaGenerall\" :tituloAlert=\"mensajeAlerta\" :tipoAlert=\"tipoAlerta\" />\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport AlertaGeneral from \"@/components/AlertaGeneral\";\r\nimport {establecer_recogida} from '@/crudFunctions/crudEnterprise'\r\nexport default {\r\n    components:{AlertaGeneral},\r\n    props: {\r\n        datosCampana: Object(),\r\n        datosProduccion: Object(),\r\n        datos: Object(),\r\n        urlMedia: String,\r\n        datoempresa:String,\r\n    },\r\n    data() {\r\n        return {\r\n            time: ``,\r\n            srcImage:``,\r\n            keys: Array(),\r\n            calOptions: {\r\n                \"dateFormat\": \"Y-m-d\"\r\n            },\r\n            \"columns\": [\r\n                this.$t('adminEnterprise.nombre'),\r\n                this.$t('graficos.rojo_naran'),\r\n                this.$t('graficos.amarillo'),\r\n                this.$t('graficos.verde'),\r\n                this.$t('graficos.azul_claro'),\r\n                this.$t('graficos.azul_medio'),\r\n                this.$t('graficos.azul_oscuro'),\r\n                this.$t('graficos.clouds'),\r\n                this.$t('graficos.imagen'),\r\n                this.$t('graficos.imagenClouds'),\r\n                this.$t('graficos.plantas'),\r\n                this.$t('graficos.cosecha'),\r\n                this.$t('graficos.fecha_recogida'),\r\n                this.$t('graficos.fecha_estimada_recogida'),\r\n            ],\r\n            verFechaGen: false,\r\n            vercolores: true,\r\n            verimagenes:true,\r\n            rowSelects:[],\r\n            fechaRecogida:\"\",\r\n            //\r\n            tipoAlerta: `error`,\r\n            mensajeAlerta: '',\r\n            //\r\n            id_agraz:'7de27d39-1e42-4c6a-be53-67a72e1c98dc'\r\n        }\r\n    },\r\n    methods: {\r\n        compare( a, b ) {\r\n            if ( a.last_nom < b.last_nom ){\r\n                return -1;\r\n            }\r\n            if ( a.last_nom > b.last_nom ){\r\n                return 1;\r\n            }\r\n            return 0;\r\n        },\r\n        getdatoPlantas(dato){\r\n            try{\r\n                const anio=dato.date.substring(0,4)\r\n                const parcela=dato.parcel\r\n                let plantas= this.datosCampana[anio].resultado.filter(x=>x.parcela==parcela)\r\n                return plantas[0].plantas\r\n            }\r\n            catch (e){\r\n                return \"No hay datos\"\r\n            }\r\n        },\r\n        getdatoCosecha(dato){\r\n            try{\r\n                const anio=dato.date.substring(0,4)\r\n                const parcela=dato.parcel\r\n                let cosecha= this.datosProduccion[anio].resultado.filter(x=>x.parcela==parcela)\r\n                return cosecha[0].produccion\r\n            }\r\n            catch(e){\r\n                return \"No hay datos\"\r\n            }\r\n        },\r\n        getdatofecha(dato){\r\n            try{\r\n                const anio=dato.date.substring(0,4)\r\n                const parcela=dato.parcel\r\n                let fecha= this.datosProduccion[anio].resultado.filter(x=>x.parcela==parcela)\r\n                return fecha[0].fecha_fin\r\n            }\r\n            catch(e){\r\n                return \"No hay datos\"\r\n            }\r\n        },\r\n        getdatoestimacion(dato){\r\n            try{\r\n                const parcela=dato.parcel\r\n                const anio=dato.date.substring(0,4)\r\n                let plantas= this.datosCampana[anio].resultado.filter(x=>x.parcela==parcela)\r\n                return plantas[0].fecha_recogida_estimada\r\n            }\r\n            catch (e){\r\n                return \"No hay datos\"\r\n            }\r\n        },\r\n        actionChangedToggleColores(value){\r\n            this.vercolores=value\r\n        },\r\n        actionChangedToggleImagenes(value){\r\n            this.verimagenes=value\r\n        },\r\n        fechateorica(){\r\n            console.log(this.rowSelects)\r\n            console.log(this.rowSelects.length)\r\n            if (this.rowSelects.length<=0){\r\n                this.mensajeAlerta = `No hay parcelas seleccionadas`\r\n                this.tipoAlerta = `error`\r\n                this.$refs.alertaGenerall.verAlerta()\r\n            }else{\r\n                this.$refs.establecer_fecha.dataVisible = true\r\n            }\r\n        },\r\n        async establecer_fecha(){\r\n            await establecer_recogida(this.rowSelects, this.fechaRecogida)\r\n            .then(() => {\r\n                this.mensajeAlerta = `Fecha actualizada correctamente`\r\n                this.tipoAlerta = `success`\r\n                this.$refs.alertaGenerall.verAlerta()\r\n            })\r\n            .catch(() => {\r\n                this.mensajeAlerta = `Error al actualizar la fecha`\r\n                this.tipoAlerta = `error`\r\n                this.$refs.alertaGenerall.verAlerta()\r\n            })\r\n            this.$refs.establecer_fecha.hide()\r\n        },\r\n    },\r\n    \r\n    mounted() {\r\n        this.keys = Object.keys(this.datos)\r\n    },\r\n    \r\n    };\r\n</script>"]}]}