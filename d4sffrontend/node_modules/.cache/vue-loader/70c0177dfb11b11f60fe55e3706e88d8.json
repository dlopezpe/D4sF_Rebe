{"remainingRequest":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\components\\MapComponent4.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\src\\components\\MapComponent4.vue","mtime":1681217492538},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681731147886},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1681731156386},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681731147886},{"path":"C:\\Users\\respana\\source\\D4SF\\d4sffrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1681731148945}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQge2dldFByb2ZpbGUsIGdldFBlcm1pc29zfSBmcm9tICdAL2F1dGgvaW5kZXgnDQppbXBvcnQge2dldEFsbEVudGVycHJpc2VzLCBnZXRMYXllcnNGcm9tU2VudGluZWwsIGdldEVudGVycHJpc2V9IGZyb20gJ0AvY3J1ZEZ1bmN0aW9ucy9jcnVkRW50ZXJwcmlzZScvL2dldEVudGVycHJpc2UNCmltcG9ydCB7Z2V0QWxsQ29vcGVyYXRpdmVzLCBnZXRDb29wZXJhdGl2ZX0gZnJvbSAnQC9jcnVkRnVuY3Rpb25zL2NydWRDb29wZXJhdGl2YXMnDQppbXBvcnQgQ29udHJvbGxlclBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9tYXBDb250cm9sbGVyL0NvbnRyb2xsZXJQYW5lbC52dWUnDQppbXBvcnQgQ29udHJvbGxlclBhbmVsNE1vYmlsZSBmcm9tICdAL2NvbXBvbmVudHMvbWFwQ29udHJvbGxlci9Db250cm9sbGVyUGFuZWw0TW9iaWxlLnZ1ZScNCmltcG9ydCBDb250cm9sbGVyUXVpY2tFZGl0IGZyb20gJ0AvY29tcG9uZW50cy9tYXBDb250cm9sbGVyL0NvbnRyb2xsZXJRdWlja0VkaXQudnVlJw0KaW1wb3J0IENvbnRyb2xsZXJHb29nbGVTZWFyY2ggZnJvbSAnQC9jb21wb25lbnRzL21hcENvbnRyb2xsZXIvQ29udHJvbGxlckdvb2dsZVNlYXJjaC52dWUnDQppbXBvcnQgQ29udHJvbGxlclF1aWNrQ3JlYXRlIGZyb20gJ0AvY29tcG9uZW50cy9tYXBDb250cm9sbGVyL0NvbnRyb2xsZXJRdWlja0NyZWF0ZS52dWUnDQppbXBvcnQge2NoZWNrVmFsaWRQb2x5Z29ufSBmcm9tICdAL2NydWRGdW5jdGlvbnMvY3J1ZEVudGVycHJpc2UnDQppbXBvcnQgcHJvajQgZnJvbSAncHJvajQnDQppbXBvcnQgU3R5bGUgZnJvbSAnb2wvc3R5bGUvU3R5bGUnDQppbXBvcnQgVGV4dCBmcm9tICdvbC9zdHlsZS9UZXh0Jw0KaW1wb3J0IEZpbGwgZnJvbSAnb2wvc3R5bGUvRmlsbCcNCmltcG9ydCBTdHJva2UgZnJvbSAnb2wvc3R5bGUvU3Ryb2tlJw0KaW1wb3J0IEwgZnJvbSAnbGVhZmxldCcNCmltcG9ydCB7IGdldEFyZWEgfSBmcm9tICdvbC9zcGhlcmUnOw0KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJw0KLy9pbXBvcnQgUG9seWdvbiBmcm9tICdvbC9nZW9tL1BvbHlnb24nDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogJ01hcENvbXBvbmVudDQnLA0KICAgIGNvbXBvbmVudHM6IHtDb250cm9sbGVyUGFuZWwsIENvbnRyb2xsZXJRdWlja0VkaXQsIENvbnRyb2xsZXJHb29nbGVTZWFyY2gsQ29udHJvbGxlclBhbmVsNE1vYmlsZSwgQ29udHJvbGxlclF1aWNrQ3JlYXRlDQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgZmxhZ0luZGljYXRpbmdEYXRhSGFzQmVlbkxvYWRlZEluVmFyaWFibGVzOiBmYWxzZSwNCiAgICAgICAgICAgIC8vVXN1YXJpbw0KICAgICAgICAgICAgaXNfc3VwZXJ1c2VyOiBmYWxzZSwNCiAgICAgICAgICAgIGlzX3N0YWZmOiBmYWxzZSwNCiAgICAgICAgICAgIGlzX3N5c3RlbWFkbWluOiBmYWxzZSwNCiAgICAgICAgICAgIGlzX2VudGVycHJpc2VhZG1pbjogZmFsc2UsDQogICAgICAgICAgICBpc19jb29wX3VzZXI6IGZhbHNlLA0KICAgICAgICAgICAgLy9CaW5nTWFwDQogICAgICAgICAgICBhcGlLZXlCaW5nOiB0aGlzLiRhcGlLZXlCaW5nLA0KICAgICAgICAgICAgaW1hZ2VyeVNldEJpbmc6IGBBZXJpYWxXaXRoTGFiZWxzYCwNCiAgICAgICAgICAgIHpvb206IDE1LA0KICAgICAgICAgICAgY2VudGVyOiBbLTMuODIyNTk3MDk1NDg0MTQ4NiwgNDAuMjgzODUwNzQyNDQ5NzcgXSwNCiAgICAgICAgICAgIG1heFpvb21CaW5nOiAyMCwNCiAgICAgICAgICAgIGlzQWN0aXZlTG9hZGluZzogZmFsc2UsDQogICAgICAgICAgICBpc1Zpc2libGVMb2FkOiBmYWxzZSwNCiAgICAgICAgICAgIG5hbWU6ICdwcnVlYmFzJywNCiAgICAgICAgICAgIC8vUGFyY2VsYXMNCiAgICAgICAgICAgIHBhcmNlbGFzOiB7fSwNCiAgICAgICAgICAgIC8vRW1wcmVzYXMgc2VsDQogICAgICAgICAgICBhcnJFbXByZXNhczogW10sDQogICAgICAgICAgICBhcnJDb29wZXJhdGl2YXM6IFtdLA0KICAgICAgICAgICAgYXJyRW1wcmVzYXM0TGlzdDogW10sDQogICAgICAgICAgICAvL1NlbnRpbmVsIGxheWVyIHRpbGUgY29udHJvbGxlcg0KICAgICAgICAgICAgdXJsU2VudGluZWw6IGAke3RoaXMuJHNlbnRpbmVsVVJMfS9vZ2Mvd21zL2AsDQogICAgICAgICAgICBtaW5ab29tOjYsDQogICAgICAgICAgICBtYXhab29tOjE2LA0KICAgICAgICAgICAgcHJlc2V0OidBR1JJQ1VMVFVSRScsDQogICAgICAgICAgICBsYXllcnM6J0FHUklDVUxUVVJFJywNCiAgICAgICAgICAgIHRpbWU6YDIwMTktMDEtMDEvJHt0aGlzLmdldE5vdygpfWAsDQogICAgICAgICAgICBzZXJ2ZXJUeXBlOiAnZ2Vvc2VydmVyJywNCiAgICAgICAgICAgIG9wYWNpdHlsYXllcjogMC41LA0KICAgICAgICAgICAgdHJhbnNpdGlvbjogMCwNCiAgICAgICAgICAgIFNlbnRpbmVsTGF5ZXI6ICdBR1JJQ1VMVFVSRScsDQogICAgICAgICAgICB0aW1lc3RhbXA6IDAsDQogICAgICAgICAgICB0aW1lc3RhbXBTZW50aW5lbDogMCwNCiAgICAgICAgICAgIHRpbWVzdGFtcERyYXdQb2x5Z29uOiAwLA0KICAgICAgICAgICAgY2hlY2tlZFRvZ2dsZU1vc3RhclRleHRvOiBmYWxzZSwNCiAgICAgICAgICAgIGxheWVyc1NlbGVjdG9yOiBbXSwNCiAgICAgICAgICAgIC8vTW9kaWZpY2FyUGFyY2VsYQ0KICAgICAgICAgICAga2V5TW9kaWZpY2FyOiAwLA0KICAgICAgICAgICAgYWxsUGFyY2Vsc09mRW50ZXJwcmlzZXM6IFtdLA0KICAgICAgICAgICAgYWxsUGFyY2Vsc09mRW50ZXJwcmlzZXNGaWx0ZXI6IFtdLA0KICAgICAgICAgICAgLy9pZg0KICAgICAgICAgICAgaWZRdWlja0VkaXQ6IGZhbHNlLA0KICAgICAgICAgICAgLy8NCiAgICAgICAgICAgIHBhcmNlbFNlbGVjdGVkOiBPYmplY3QsDQogICAgICAgICAgICB2ZXJFcnJvckRyYXc6IGZhbHNlLA0KICAgICAgICAgICAgZXJyb3JEcmF3TXNnOiAnJywNCiAgICAgICAgICAgIGd1YXJkYWRvT0tNc2c6ICcnLA0KICAgICAgICAgICAgY29vcmRpbmF0ZXNQb2x5OiAnJywNCiAgICAgICAgICAgIC8vQ3JlYXIgUGFyY2VsYQ0KICAgICAgICAgICAgZmVhdHVyZXNOZXdQb2x5Z29uOiBbXSwNCiAgICAgICAgICAgIHZlckNyZWFyUGFyY2VsOiB0cnVlLA0KICAgICAgICAgICAgdmVyQ3JlYXJQYXJjZWxEcmF3OiBmYWxzZSwNCiAgICAgICAgICAgIGVtcHJlc2FTZWxGb3JDcmVhdGVQYXJjZWw6ICcnLA0KICAgICAgICAgICAgcmVmcmVzaERpYnVqbzogMCwNCiAgICAgICAgICAgIC8vZWRpdGFyUGFyY2VsDQogICAgICAgICAgICB2YWx1ZURlc2M6ICcnLA0KICAgICAgICAgICAgdmFsdWVOYW1lOiAnJywNCiAgICAgICAgICAgIGFyZWFGb3JOZXdQb2x5Z29uOiAwLA0KICAgICAgICAgICAgLy8NCiAgICAgICAgICAgIHVzZXI6ICcnLA0KICAgICAgICAgICAgY29vcmRlbmFkYXNQdW50bzogWzAsIDBdLA0KICAgICAgICAgICAgb2xjdWx0YXJJbmNvbm9VYmk6IGZhbHNlDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgaXNNb2JpbGUoKSB7DQogICAgICAgICAgICBpZigvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZ2V0Tm93U2VudGluZWwoKSB7DQogICAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICBjb25zdCBkYXRlID0gdG9kYXkuZ2V0RnVsbFllYXIoKSsnLScrKHRvZGF5LmdldE1vbnRoKCkrMSkrJy0nK3RvZGF5LmdldERhdGUoKTsNCiAgICAgICAgICAgIGNvbnN0IHRpbWUgPSB0b2RheS5nZXRIb3VycygpICsgIjoiICsgdG9kYXkuZ2V0TWludXRlcygpICsgIjoiICsgdG9kYXkuZ2V0U2Vjb25kcygpOw0KICAgICAgICAgICAgY29uc3QgZGF0ZVRpbWUgPSBkYXRlICsnICcrIHRpbWU7DQogICAgICAgICAgICB0aGlzLnRpbWVzdGFtcFNlbnRpbmVsID0gZGF0ZVRpbWU7DQogICAgICAgIH0sDQogICAgICAgIGdldE5vd1JlZnJlc2hEcmF3UG9seWdvbigpIHsNCiAgICAgICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSB0b2RheS5nZXRGdWxsWWVhcigpKyctJysodG9kYXkuZ2V0TW9udGgoKSsxKSsnLScrdG9kYXkuZ2V0RGF0ZSgpOw0KICAgICAgICAgICAgY29uc3QgdGltZSA9IHRvZGF5LmdldEhvdXJzKCkgKyAiOiIgKyB0b2RheS5nZXRNaW51dGVzKCkgKyAiOiIgKyB0b2RheS5nZXRTZWNvbmRzKCk7DQogICAgICAgICAgICBjb25zdCBkYXRlVGltZSA9IGRhdGUgKycgJysgdGltZTsNCiAgICAgICAgICAgIHRoaXMudGltZXN0YW1wRHJhd1BvbHlnb24gPSBkYXRlVGltZTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0Tm93KCkgew0KICAgICAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgY29uc3QgZGF0ZSA9IHRvZGF5LmdldEZ1bGxZZWFyKCkrJy0nKyh0b2RheS5nZXRNb250aCgpKzEpKyctJyt0b2RheS5nZXREYXRlKCk7DQogICAgICAgICAgICBjb25zdCB0aW1lID0gdG9kYXkuZ2V0SG91cnMoKSArICI6IiArIHRvZGF5LmdldE1pbnV0ZXMoKSArICI6IiArIHRvZGF5LmdldFNlY29uZHMoKTsNCiAgICAgICAgICAgIGNvbnN0IGRhdGVUaW1lID0gZGF0ZSArJyAnKyB0aW1lOw0KICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBkYXRlVGltZTsNCiAgICAgICAgfSwNCiAgICAgICAgcG9pbnRzU3R5bGVGdW5jKCl7DQogICAgICAgICAgICByZXR1cm4gZmVhdHVyZSA9PiB7DQogICAgICAgICAgICAgICAgbGV0IGJhc2VTdHlsZSA9IG5ldyBTdHlsZSh7DQogICAgICAgICAgICAgICAgICAgIGZpbGw6IG5ldyBGaWxsKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAicmdiYSgyNTUsMjU1LDI1NSwwLjApIiwNCiAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7DQogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogInJnYmEoMCwgMCwgMjU1LCAxKSIsDQogICAgICAgICAgICAgICAgICAgICAgICB3aXRoOiA1DQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICB0ZXh0OiBuZXcgVGV4dCh7DQogICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogdGhpcy5jaGVja2VkVG9nZ2xlTW9zdGFyVGV4dG8sDQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBgJHtmZWF0dXJlLmdldCgnbmFtZScpfSBcbiAke2ZlYXR1cmUuZ2V0KCdkZXNjcmlwdGlvbicpID8gZmVhdHVyZS5nZXQoJ2Rlc2NyaXB0aW9uJykgOiAnJ30gXG4gJHtmZWF0dXJlLmdldCgnYXJlYScpID8gZmVhdHVyZS5nZXQoJ2FyZWEnKS50b0ZpeGVkKDIpKydIYScgOiAnJyB9IC8gJHtmZWF0dXJlLmdldCgnYXJlYScpID8gdGhpcy5tZXRyaWNhcGFyY2VsYShmZWF0dXJlLmdldCgnYXJlYScpKSsnQWNyZScgOiAnJyB9YCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6ICIxNHB4IElCTSBQbGV4IFNhbnMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogbmV3IEZpbGwoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29sb3I6ICIjMTYxNjE2IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogIiNGRkZGRkYiLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6IG5ldyBTdHJva2Uoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAiIzE2MTYxNiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQuNQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgcmV0dXJuIFsNCiAgICAgICAgICAgICAgICAgICAgYmFzZVN0eWxlLA0KICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgbWV0cmljYXBhcmNlbGEoYXJlYSl7DQogICAgICAgICAgICBjb25zdCBvbmVoZWN0dG9BY3JlID0gMi40NzEwNTM4MTQ2NzE3DQogICAgICAgICAgICBjb25zdCBhY3JlID0gb25laGVjdHRvQWNyZSAqIGFyZWENCiAgICAgICAgICAgIHRoaXMubWV0cmljID0gIkFjcmUiDQogICAgICAgICAgICByZXR1cm4gIGFjcmUudG9GaXhlZCgyKQ0KICAgICAgICANCiAgICAgICAgfSwNCg0KICAgICAgICBzZWxlY2lvbmFQb2x5Z29uKHBvKXsNCiAgICAgICAgICAgIHRoaXMuaWZRdWlja0VkaXQgPSB0cnVlDQogICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVzUG9seSA9ICcnDQogICAgICAgICAgICB0aGlzLnZlckVycm9yRHJhdyA9IHRydWUNCiAgICAgICAgICAgIHRoaXMudmVyRXJyb3JEcmF3ID0gdHJ1ZQ0KICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hbGxQYXJjZWxzT2ZFbnRlcnByaXNlcy5maWx0ZXIocGFyY2VsID0+IHBhcmNlbC5pZCA9PSBwby5pZF8pDQogICAgICAgICAgICB0aGlzLnBhcmNlbFNlbGVjdGVkID0gcmVzdWx0WzBdDQogICAgICAgICAgICBjb25zdCBjb29yZGVuYWRhc0dlb21ldHJpY2FzID0gcG8uZ2V0R2VvbWV0cnkoKS5nZXRFeHRlbnQoKQ0KICAgICAgICAgICAgY29uc3QgZXggPSBjb29yZGVuYWRhc0dlb21ldHJpY2FzWzBdICsgKGNvb3JkZW5hZGFzR2VvbWV0cmljYXNbMl0tY29vcmRlbmFkYXNHZW9tZXRyaWNhc1swXSkvMjsNCiAgICAgICAgICAgIGNvbnN0IHllID0gY29vcmRlbmFkYXNHZW9tZXRyaWNhc1sxXSArIChjb29yZGVuYWRhc0dlb21ldHJpY2FzWzNdLWNvb3JkZW5hZGFzR2VvbWV0cmljYXNbMV0pLzI7DQogICAgICAgICAgICB2YXIgc291cmNlID0gbmV3IHByb2o0LlByb2ooJ0VQU0c6Mzc4NScpOyANCiAgICAgICAgICAgIHZhciBkZXN0ID0gbmV3IHByb2o0LlByb2ooJ0VQU0c6NDMyNicpOyAgDQogICAgICAgICAgICBjb25zdCBuZXdDZW50ZXIgPSBwcm9qNChzb3VyY2UsIGRlc3QsIFtleCwgeWVdKQ0KICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSBbbmV3Q2VudGVyWzBdLCBuZXdDZW50ZXJbMV1dDQogICAgICAgICAgICBjb25zdCBlbnRlcnByaXNlX2lkID0gcG8udmFsdWVzXy5lbnRlcnByaXNlX2lkDQogICAgICAgICAgICB0aGlzLnZhbHVlTmFtZSA9IHBvLnZhbHVlc18ubmFtZQ0KICAgICAgICAgICAgdGhpcy52YWx1ZURlc2MgPSBwby52YWx1ZXNfLmRlc2NyaXB0aW9uDQogICAgICAgICAgICB0aGlzLmNvbXByb2JhckNvb3JkZW5hZGFzKHBvLmdldEdlb21ldHJ5KCkuZ2V0Q29vcmRpbmF0ZXMoKSwgZW50ZXJwcmlzZV9pZCwgcG8uaWRfKQ0KICAgICAgICB9LA0KICAgICAgICB0ZXJtaW5hZG9OZXdQb2x5Z29uKHApew0KICAgICAgICAgICAgY29uc29sZS5pbmZvKHApDQogICAgICAgICAgICB0aGlzLnZlckNyZWFyUGFyY2VsRHJhdyA9IHRydWUNCiAgICAgICAgICAgIHRoaXMuYXJlYUZvck5ld1BvbHlnb24gPSAoTWF0aC5yb3VuZCgoZ2V0QXJlYShwLmZlYXR1cmUuZ2V0R2VvbWV0cnkoKSkvIDEwMDAwKSAqIDEwMDAwKSAvIDEwMDAwKQ0KICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0ZXNFZGl0YWRhcyA9IHAuZmVhdHVyZS5nZXRHZW9tZXRyeSgpLmdldENvb3JkaW5hdGVzKCkNCiAgICAgICAgICAgIHRoaXMuY29tcHJvYmFyQ29vcmRlbmFkYXMoY29vcmRpbmF0ZXNFZGl0YWRhcywgKHRoaXMuZW1wcmVzYVNlbEZvckNyZWF0ZVBhcmNlbCA/IHRoaXMuZW1wcmVzYVNlbEZvckNyZWF0ZVBhcmNlbFswXS5pZCA6IHRoaXMuYXJyRW1wcmVzYXNbMF0uaWQpLCAwKQ0KICAgICAgICB9LA0KICAgICAgICBlZGl0YWRvKHApew0KICAgICAgICAgICAgY29uc3QgZW50ZXJwcmlzZV9pZCA9IHAuZmVhdHVyZXMuYXJyYXlfWzBdLnZhbHVlc18uZW50ZXJwcmlzZV9pZA0KICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0ZXNFZGl0YWRhcyA9IHAuZmVhdHVyZXMuYXJyYXlfWzBdLmdldEdlb21ldHJ5KCkuZ2V0Q29vcmRpbmF0ZXMoKQ0KICAgICAgICAgICAgdGhpcy5hcmVhRm9yTmV3UG9seWdvbiA9IChNYXRoLnJvdW5kKChnZXRBcmVhKHAuZmVhdHVyZXMuYXJyYXlfWzBdLmdldEdlb21ldHJ5KCkpLyAxMDAwMCkgKiAxMDAwMCkgLyAxMDAwMCkNCiAgICAgICAgICAgIC8vY29uc3QgYXJlYSA9IChNYXRoLnJvdW5kKChnZXRBcmVhKHAuZmVhdHVyZXMuYXJyYXlfWzBdLmdldEdlb21ldHJ5KCkpIC8gMTAwMDApICogMTAwMDApIC8gMTAwMDApDQogICAgICAgICAgICB0aGlzLmNvbXByb2JhckNvb3JkZW5hZGFzKGNvb3JkaW5hdGVzRWRpdGFkYXMsIGVudGVycHJpc2VfaWQsIHAuZmVhdHVyZXMuYXJyYXlfWzBdLmlkXykNCiAgICAgICAgICAgIC8vaWYodGhpcy5wYXJjZWxhU2VsZWNjaW9uYWRhKXsNCiAgICAgICAgICAgICAgICAvL3RoaXMuY29vcmRpbmF0ZXNCdWVuYXModGhpcy5jb29yZGluYXRlc0VkaXRhZGFzKQ0KICAgICAgICAgICAgLy99DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vdGhpcy52ZXJFcnJvckRyYXcgPSBmYWxzZQ0KICAgICAgICB9LA0KICAgICAgICBnZXRCQk9YKHBhcmNlbCl7DQogICAgICAgICAgICBjb25zdCBwb2x5Z29uID0gTC5wb2x5Z29uKHBhcmNlbC5nZW9tZXRyeS5jb29yZGluYXRlcykNCg0KICAgICAgICAgICAgY29uc3QgYmJveFAgPSBgJHtwb2x5Z29uLmdldEJvdW5kcygpLl9ub3J0aEVhc3QubG5nfSwke3BvbHlnb24uZ2V0Qm91bmRzKCkuX25vcnRoRWFzdC5sYXR9LCR7cG9seWdvbi5nZXRCb3VuZHMoKS5fc291dGhXZXN0LmxuZ30sJHtwb2x5Z29uLmdldEJvdW5kcygpLl9zb3V0aFdlc3QubGF0fWANCiAgICAgICAgICAgIHJldHVybiBiYm94UA0KICAgICAgICB9LA0KICAgICAgICBnZXRCQk9YMihwYXJjZWwpew0KICAgICAgICAgICAgY29uc3QgcG9seWdvbiA9IEwucG9seWdvbihwYXJjZWwuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpDQoNCiAgICAgICAgICAgIGNvbnN0IGJib3hQID0gW3BvbHlnb24uZ2V0Qm91bmRzKCkuX25vcnRoRWFzdC5sbmcscG9seWdvbi5nZXRCb3VuZHMoKS5fbm9ydGhFYXN0LmxhdCxwb2x5Z29uLmdldEJvdW5kcygpLl9zb3V0aFdlc3QubG5nLHBvbHlnb24uZ2V0Qm91bmRzKCkuX3NvdXRoV2VzdC5sYXRdDQogICAgICAgICAgICByZXR1cm4gYmJveFANCiAgICAgICAgfSwNCiAgICAgICAgY29tcHJvYmFyQ29vcmRlbmFkYXMoY29vcmRzLCBlbnRlcnByaXNlLCBpZFBhcmNlbGEpew0KICAgICAgICAgICAgdmFyIHNvdXJjZSA9IG5ldyBwcm9qNC5Qcm9qKCdFUFNHOjM3ODUnKTsgDQogICAgICAgICAgICB2YXIgZGVzdCA9IG5ldyBwcm9qNC5Qcm9qKCdFUFNHOjQzMjYnKTsgDQogICAgICAgICAgICBsZXQgbmV3Q2VudGVyID0gQXJyYXk7DQogICAgICAgICAgICBsZXQgcG9seWdvbk9iamVjdD0gJ1BPTFlHT04oKCcNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29vcmRzWzBdLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgbmV3Q2VudGVyID0gcHJvajQoc291cmNlLCBkZXN0LCBbY29vcmRzWzBdW2ldWzBdLCBjb29yZHNbMF1baV1bMV1dKQ0KICAgICAgICAgICAgICAgIHBvbHlnb25PYmplY3QgKz0gbmV3Q2VudGVyWzBdKycgJytuZXdDZW50ZXJbMV0NCiAgICAgICAgICAgICAgICBpZihpICE9IChjb29yZHNbMF0ubGVuZ3RoLTEpKXsNCiAgICAgICAgICAgICAgICAgICAgcG9seWdvbk9iamVjdCArPSAnLCAnDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcG9seWdvbk9iamVjdCArPSAnKSknOw0KDQogICAgICAgICAgICBjaGVja1ZhbGlkUG9seWdvbihwb2x5Z29uT2JqZWN0LCBlbnRlcnByaXNlKQ0KICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEuZmVhdHVyZXMubGVuZ3RoKXsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YS5mZWF0dXJlcy5maWx0ZXIoZmVhdHVyZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihmZWF0dXJlLmlkICE9IGlkUGFyY2VsYSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZlYXR1cmUNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Lmxlbmd0aCl7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyY2Vsc05hbWUgPSAnJw0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lm1hcChyZXN1bHRhZG8gPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmNlbHNOYW1lICs9IHJlc3VsdGFkby5wcm9wZXJ0aWVzLm5hbWUgKyAnICcNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yRHJhd01zZyA9IHRoaXMuJHQoJ21hcC5wYXJjZWxhX3NvbGFwYWRhX2NvbicpICsgJycgKyBwYXJjZWxzTmFtZQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52ZXJFcnJvckRyYXcgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGVzUG9seSA9ICcnDQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52ZXJFcnJvckRyYXcgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvckRyYXdNc2cgPSAnJw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlc1BvbHkgPSBwb2x5Z29uT2JqZWN0DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBydWViYVBhcmNlbGFTaW1wbGUocG9seWdvbk9iamVjdCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnZlckVycm9yRHJhdyA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JEcmF3TXNnID0gJycNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlc1BvbHkgPSBwb2x5Z29uT2JqZWN0DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHJ1ZWJhUGFyY2VsYVNpbXBsZShwb2x5Z29uT2JqZWN0KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIGNvbXBydWViYVBhcmNlbGFTaW1wbGUocG9seWdvbk9iamVjdCl7DQogICAgICAgICAgICBsZXQgcGF0aCA9IGAke3RoaXMuJGFwaVVSTH0vcGFyY2VsX3ZhbGlkLz9wb2x5Z29uPSR7cG9seWdvbk9iamVjdH1gOw0KICAgICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICJCZWFyZXIgIitzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhcGlBY2Nlc3MiKQ0KICAgICAgICAgICAgYXhpb3MNCiAgICAgICAgICAgIC5nZXQocGF0aCkNCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlPT57DQogICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YSA9PSAiRmFsc2UiKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvckRyYXdNc2cgPSB0aGlzLiR0KCdtYXAucGFyY2VsYV9zb2xhcGFkYV9taXNtYScpDQogICAgICAgICAgICAgICAgICAgIHRoaXMudmVyRXJyb3JEcmF3ID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnZlckVycm9yRHJhdyA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JEcmF3TXNnID0gJycNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgIH0sDQogICAgbW91bnRlZDogZnVuY3Rpb24gKCkgew0KICAgICAgICANCiAgICAgICAgLy9jb25zb2xlLmluZm8oJ1VzZXIgTG9nZ2VkJykNCiAgICB9LA0KICAgIGJlZm9yZUNyZWF0ZSgpew0KICAgICAgICB0aGlzLmlzQWN0aXZlTG9hZGluZyA9IGZhbHNlDQogICAgICAgIHRoaXMuaXNWaXNpYmxlTG9hZCA9IGZhbHNlDQogICAgICAgIC8vKiAxIC0gT2J0ZW5lbW9zIGxhIGluZm8gZGVsIHVzdWFyaW8sIGEgcXVlIGVtcHJlc2EgcGVydGVuZWNlIHkgc2kgZXMgYWRtaW5pc3RyYWRvcg0KICAgICAgICBnZXRQcm9maWxlKCkNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgY29uc3QgdXNlciA9IHJlc3BvbnNlLmRhdGFbMF0NCiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyh1c2VyKQ0KICAgICAgICAgICAgdGhpcy51c2VyID0gdXNlcg0KICAgICAgICAgICAgZ2V0UGVybWlzb3MocmVzcG9uc2UuZGF0YVswXS51c2VyKQ0KICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuaXNfc3VwZXJ1c2VyID0gcmVzcG9uc2UuZGF0YS5pc19zdXBlcnVzZXINCiAgICAgICAgICAgICAgICB0aGlzLmlzX3N0YWZmID0gcmVzcG9uc2UuZGF0YS5pc19zdGFmZg0KICAgICAgICAgICAgICAgIHRoaXMuaXNfc3lzdGVtYWRtaW4gPSByZXNwb25zZS5kYXRhLmlzX3N5c3RlbWFkbWluDQogICAgICAgICAgICAgICAgdGhpcy5pc19lbnRlcnByaXNlYWRtaW4gPSByZXNwb25zZS5kYXRhLmlzX2VudGVycHJpc2VhZG1pbg0KICAgICAgICAgICAgICAgIHRoaXMuaXNfY29vcF91c2VyID0gdXNlci5jb29wZXJhdGl2ZV91c2VyDQogICAgICAgICAgICAgICAgLyoNCiAgICAgICAgICAgICAgICAvLypPYnRlbmVtb3MgbGEgZW1wcmVzYSBkZWwgdXN1YXJpbw0KICAgICAgICAgICAgICAgIGNvbnN0IGVudGVycHJpc2VfaWQgPSB1c2VyLmVudGVycHJpc2VfaWQNCiAgICAgICAgICAgICAgICBnZXRFbnRlcnByaXNlKGVudGVycHJpc2VfaWQpDQogICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgcmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmNlbGFzID0gcmVzcG9uc2UuZGF0YS5wYXJjZWxzDQogICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXJyRW1wcmVzYXMucHVzaChyZXNwb25zZS5kYXRhKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZsYWdJbmRpY2F0aW5nRGF0YUhhc0JlZW5Mb2FkZWRJblZhcmlhYmxlcyA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIHRoaXMudGltZXN0YW1wKCkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICovDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYodGhpcy5pc19zdXBlcnVzZXIgfHwgdGhpcy5pc19zeXN0ZW1hZG1pbil7DQogICAgICAgICAgICAgICAgICAgIGdldEFsbEVudGVycHJpc2VzKCkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgcmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcnJFbXByZXNhcyA9IFtyZXNwb25zZS5kYXRhWzBdXQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcnJFbXByZXNhczRMaXN0ID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJyUGFyY2VscyA9IFtdDQogICAgICAgICAgICAgICAgICAgICAgICAvL2NhcmdhIGRlIGxhIHByaW1lcmEgZW1wcmVzYQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wcmVzYUZpcnN0ID0gW3Jlc3BvbnNlLmRhdGFbMF1dDQogICAgICAgICAgICAgICAgICAgICAgICAvL3Jlc3BvbnNlLmRhdGFbMF0ubWFwKGVudGVycHJpc2UgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgZW1wcmVzYUZpcnN0Lm1hcChlbnRlcnByaXNlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRlcnByaXNlLnBhcmNlbHMuZmVhdHVyZXMubWFwKHBhcmNlbCA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyclBhcmNlbHMucHVzaChwYXJjZWwpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbFBhcmNlbHNPZkVudGVycHJpc2VzID0gYXJyUGFyY2Vscw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxQYXJjZWxzT2ZFbnRlcnByaXNlc0ZpbHRlciA9IGFyclBhcmNlbHMNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhZ0luZGljYXRpbmdEYXRhSGFzQmVlbkxvYWRlZEluVmFyaWFibGVzID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKCh0aGlzLmlzX2VudGVycHJpc2VhZG1pbiB8fCB0aGlzLmlzX3N0YWZmKSAmJiAhdGhpcy5pc19jb29wX3VzZXIpeyANCiAgICAgICAgICAgICAgICAgICAgZ2V0RW50ZXJwcmlzZSh1c2VyLmVudGVycHJpc2VfaWQpDQogICAgICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jIHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXJyRW1wcmVzYXMgPSBbcmVzcG9uc2UuZGF0YV0NCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXJyRW1wcmVzYXM0TGlzdCA9IFtyZXNwb25zZS5kYXRhXQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJyUGFyY2VscyA9IFtdDQogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnBhcmNlbHMuZmVhdHVyZXMubWFwKHBhcmNlbCA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyUGFyY2Vscy5wdXNoKHBhcmNlbCkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbFBhcmNlbHNPZkVudGVycHJpc2VzID0gYXJyUGFyY2Vscw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxQYXJjZWxzT2ZFbnRlcnByaXNlc0ZpbHRlciA9IGFyclBhcmNlbHMNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhZ0luZGljYXRpbmdEYXRhSGFzQmVlbkxvYWRlZEluVmFyaWFibGVzID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuaXNfY29vcF91c2VyKXsNCiAgICAgICAgICAgICAgICAgICAgZ2V0Q29vcGVyYXRpdmUodXNlci5lbnRlcnByaXNlX2lkKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFyckNvb3BlcmF0aXZhcyA9IFtyZXNwb25zZS5kYXRhXQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmFyckVtcHJlc2FzID0gcmVzcG9uc2UuZGF0YS5lbnRlcnByaXNlcw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFnSW5kaWNhdGluZ0RhdGFIYXNCZWVuTG9hZGVkSW5WYXJpYWJsZXMgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaWYodGhpcy5pc19zdXBlcnVzZXIgfHwgdGhpcy5pc19zeXN0ZW1hZG1pbil7DQogICAgICAgICAgICAgICAgICAgIGdldEFsbENvb3BlcmF0aXZlcygpDQogICAgICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jIHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXJyQ29vcGVyYXRpdmFzID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmlzQWN0aXZlTG9hZGluZyA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5pc1Zpc2libGVMb2FkID0gZmFsc2UNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0pDQogICAgICAgIGdldExheWVyc0Zyb21TZW50aW5lbCgpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgdGhpcy5sYXllcnNTZWxlY3RvciA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgfSkNCiAgICB9DQp9DQo="},{"version":3,"sources":["MapComponent4.vue"],"names":[],"mappings":";AAoLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MapComponent4.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <cv-loading\r\n            :small=\"true\"\r\n            :active=\"true\"\r\n            :overlay=\"false\" v-if=\"true\" id=\"cargando\"></cv-loading>\r\n        <vl-map\r\n            :load-tiles-while-animating=\"false\"\r\n            :load-tiles-while-interacting=\"false\"\r\n            data-projection=\"EPSG:4326\"\r\n            style=\"height: 400px\"\r\n            id=\"map\"\r\n            class=\"mapa\"\r\n            ref=\"map\"\r\n            \r\n        >\r\n            <vl-view :zoom.sync=\"zoom\" :center=\"center\"></vl-view> \r\n            \r\n            \r\n\r\n            \r\n            <vl-layer-tile :id=\"`wmts_${enterprise.id}`\" :opacity=\"opacitylayer\" v-bind:key=\"`${enterprise.id}_layers_${timestampSentinel}`\" v-for=\"enterprise in arrEmpresas\" :z-index=\"2\">\r\n                <vl-source-wms\r\n                    v-if=\"enterprise.parcels.features.length\"\r\n                    :key=\"`${enterprise.id}_${timestampSentinel}`\" \r\n                    :url=\"`${urlSentinel}${enterprise.sentinel_instance}/?MAXCC=100&v=${timestampSentinel}&`\"\r\n                    :urlProcessingApi=\"`${urlSentinel}${enterprise.sentinel_instance}/?MAXCC=100&&v=${timestampSentinel}&`\"\r\n                    maxcc=\"100\"\r\n                    :minZoom=\"minZoom\"\r\n                    :maxZoom=\"maxZoom\"\r\n                    :preset=\"preset\"\r\n                    :layers=\"SentinelLayer\"\r\n                    :time.sync=\"time\"\r\n                    :serverType=\"serverType\"\r\n                    :opacity=\"opacitylayer\"\r\n                    :transition='transition'\r\n                    :tiled = false\r\n                />\r\n            </vl-layer-tile>\r\n            \r\n            <vl-layer-vector v-for=\"enterprise in arrEmpresas\" v-bind:key=\"`${enterprise.id}_1_${timestamp}`\" :z-index=\"3\">\r\n                <vl-source-vector ref=\"drawTarget\" v-if=\"enterprise.parcels\" :features=\"enterprise.parcels.features\" />\r\n                <vl-style-func :factory=\"pointsStyleFunc\" />\r\n            </vl-layer-vector>\r\n            \r\n            <vl-interaction-select v-if=\"verCrearParcel\" :id=\"`modify_target_${timestamp}`\" ref=\"selectInteraction\" ident=\"modify-target\" @select=\"selecionaPolygon\" :key=\"timestampSentinel\"></vl-interaction-select>\r\n            <vl-interaction-modify v-if=\"verCrearParcel\" source=\"modify-target\" @modifyend=\"editado\"></vl-interaction-modify>\r\n            \r\n            <vl-layer-vector :z-index=\"4\" v-bind:key=\"`the_source_indent_${timestampDrawPolygon}`\">\r\n                <vl-source-vector ident=\"the-source\" :features.sync=\"featuresNewPolygon\"></vl-source-vector>\r\n                <vl-style-box>\r\n                    <vl-style-stroke color=\"green\"></vl-style-stroke>\r\n                    <vl-style-fill color=\"rgba(255,255,255,0.5)\"></vl-style-fill>\r\n                </vl-style-box>\r\n            </vl-layer-vector>\r\n\r\n            <vl-interaction-draw v-bind:key=\"`the_source_${timestampDrawPolygon}`\" type=\"Polygon\" source=\"the-source\" v-if=\"!verCrearParcel && !verCrearParcelDraw\" @drawend=\"terminadoNewPolygon\"></vl-interaction-draw>\r\n\r\n            <vl-feature v-if=\"!olcultarInconoUbi\">\r\n                <vl-geom-point :coordinates.sync=\"coordenadasPunto\"></vl-geom-point>\r\n                <vl-style-box>\r\n                    <vl-style-icon src=\"https://d4smartfarming.smartbits-es.com/imgMail/icono-mapa.png\"></vl-style-icon>\r\n                </vl-style-box>\r\n            </vl-feature>\r\n            \r\n            <vl-layer-tile id=\"bingmaps\">\r\n                <vl-source-bingmaps :api-key=\"apiKeyBing\" :imagery-set=\"imagerySetBing\" :maxZoom=\"maxZoomBing\"></vl-source-bingmaps>\r\n            </vl-layer-tile>\r\n            \r\n        </vl-map>\r\n        \r\n        <template v-if=\"flagIndicatingDataHasBeenLoadedInVariables\">\r\n            <ControllerPanel\r\n                v-if=\"!isMobile()\"\r\n                :username=\"name\" \r\n                :arr-enterprises=\"arrEmpresas4List\"\r\n                :arr-cooperativas=\"arrCooperativas\"\r\n                :is_superuser=\"is_superuser\"\r\n                :is_systemadmin=\"is_systemadmin\"\r\n                :is_staff=\"is_staff\"\r\n                :is_enterpriseadmin=\"is_enterpriseadmin\"\r\n                :is_coop_user=\"is_coop_user\"\r\n                :checked-toggle-mostar-texto=\"checkedToggleMostarTexto\"\r\n                :layers-selector=\"layersSelector\"\r\n                :map-component=\"$refs.map.$map\"\r\n                :all-parcels-of-enterprises=\"allParcelsOfEnterprises\"\r\n                :all-parcels-of-enterprises-filter=\"allParcelsOfEnterprisesFilter\"\r\n                :sentinel-layer=\"SentinelLayer\"\r\n\r\n                v-on:setCenter=\"center = $event\"  \r\n                v-on:setCenterLocation=\"coordenadasPunto = $event\"  \r\n                v-on:setToggleMostrarTexto=\"checkedToggleMostarTexto = $event, getNow()\"\r\n                v-on:setEnterprise=\"arrEmpresas = $event, getNow(), arrEmpresas4List = $event\"\r\n                v-on:setSentinelLayer=\"getNowSentinel(), SentinelLayer = $event\"\r\n                v-on:setSentinelClearCache=\"getNowSentinel()\"\r\n                v-on:setSentinelOpacity=\"opacitylayer = $event\"\r\n                v-on:setFechaSentinel=\"time = $event\"\r\n                v-on:setAllParcelsOfEnterprises=\"allParcelsOfEnterprises = $event, allParcelsOfEnterprisesFilter = $event\"\r\n                v-on:setAllParcelsOfEnterprisesFilter=\"allParcelsOfEnterprisesFilter = $event\"\r\n                v-on:setOcultarInconoUbi=\"olcultarInconoUbi = $event\"\r\n            />\r\n            <ControllerPanel4Mobile\r\n                v-if=\"isMobile()\"\r\n                :username=\"name\" \r\n                :arr-enterprises=\"arrEmpresas4List\"\r\n                :arr-cooperativas=\"arrCooperativas\"\r\n                :is_superuser=\"is_superuser\"\r\n                :is_systemadmin=\"is_systemadmin\"\r\n                :checked-toggle-mostar-texto=\"checkedToggleMostarTexto\"\r\n                :layers-selector=\"layersSelector\"\r\n                :map-component=\"$refs.map.$map\"\r\n                :all-parcels-of-enterprises=\"allParcelsOfEnterprises\"\r\n                :all-parcels-of-enterprises-filter=\"allParcelsOfEnterprisesFilter\"\r\n                :sentinel-layer=\"SentinelLayer\"\r\n\r\n                v-on:setCenter=\"center = $event\"  \r\n                v-on:setToggleMostrarTexto=\"checkedToggleMostarTexto = $event, getNow()\"\r\n                v-on:setEnterprise=\"arrEmpresas = $event, getNow(), arrEmpresas4List = $event\"\r\n                v-on:setSentinelLayer=\"getNowSentinel(), SentinelLayer = $event\"\r\n                v-on:setSentinelClearCache=\"getNowSentinel()\"\r\n                v-on:setSentinelOpacity=\"opacitylayer = $event\"\r\n                v-on:setFechaSentinel=\"time = $event\"\r\n                v-on:setAllParcelsOfEnterprises=\"allParcelsOfEnterprises = $event, allParcelsOfEnterprisesFilter = $event\"\r\n                v-on:setAllParcelsOfEnterprisesFilter=\"allParcelsOfEnterprisesFilter = $event\"\r\n            />\r\n            <ControllerQuickEdit \r\n                v-if=\"ifQuickEdit && !is_coop_user && !is_staff\"\r\n                :parcel-selected=\"parcelSelected\"\r\n                :error-draw-msg=\"errorDrawMsg\"\r\n                :ver-error-draw=\"verErrorDraw\"\r\n                :coordinates-poly=\"coordinatesPoly\"\r\n                :value-name=\"valueName\"\r\n                :value-desc=\"valueDesc\"\r\n                :arr-enterprises=\"arrEmpresas\"\r\n                :arr-cooperativas=\"arrCooperativas\"\r\n                :area-for-new-polygon=\"areaForNewPolygon\"\r\n\r\n                v-on:setcoordinatesPoly=\"coordinatesPoly = $event, featuresNewPolygon = []\"\r\n                v-on:setifQuickEdit=\"ifQuickEdit = $event\"\r\n                v-on:setverErrorDraw=\"verErrorDraw = $event\"\r\n                v-on:setSentinelClearCache=\"getNowSentinel()\"\r\n                v-on:setClearParcels=\"getNow()\"\r\n                v-on:setEnterprise=\"arrEmpresas = $event, getNow(), arrEmpresas4List = $event\"\r\n                v-on:setAllParcelsOfEnterprises=\"allParcelsOfEnterprises = $event, allParcelsOfEnterprisesFilter = $event\"\r\n\r\n            />\r\n            <ControllerGoogleSearch\r\n                v-on:setCenter=\"center = $event, coordenadasPunto = $event\"  \r\n            />\r\n            \r\n            <ControllerQuickCreate \r\n                v-if=\"!ifQuickEdit && !is_coop_user && !is_staff\"\r\n                :ver-crear-parcel=\"verCrearParcel\"\r\n                :error-draw-msg=\"errorDrawMsg\"\r\n                :ver-error-draw=\"verErrorDraw\"\r\n                :coordinates-poly=\"coordinatesPoly\"\r\n                :arr-enterprises=\"arrEmpresas4List\"\r\n                :arr-enterprises-selected=\"empresaSelForCreateParcel ? empresaSelForCreateParcel : arrEmpresas\"\r\n                :arr-cooperativas=\"arrCooperativas\"\r\n                :is_superuser=\"is_superuser\"\r\n                :is_systemadmin=\"is_systemadmin\"\r\n                :area-for-new-polygon=\"areaForNewPolygon\"\r\n                :user=\"user\"\r\n\r\n                v-on:setVerCrearParcel=\"verCrearParcel = $event\"\r\n                v-on:setverErrorDraw=\"verErrorDraw = $event\"\r\n                v-on:setEnterpriseSelect=\"empresaSelForCreateParcel = $event\"\r\n                v-on:setClearFeatures=\"featuresNewPolygon = []\"\r\n                v-on:setVerCrearParcelDraw=\"verCrearParcelDraw = $event\"\r\n                v-on:clearCacheDraw=\"getNowRefreshDrawPolygon()\"\r\n                v-on:setSentinelClearCache=\"getNowSentinel()\"\r\n                v-on:setcoordinatesPoly=\"coordinatesPoly = $event, featuresNewPolygon = []\"\r\n                v-on:setEnterprise=\"arrEmpresas = $event, getNow(), arrEmpresas4List = $event\"\r\n                v-on:setAllParcelsOfEnterprises=\"allParcelsOfEnterprises = $event, allParcelsOfEnterprisesFilter = $event\"\r\n            />\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {getProfile, getPermisos} from '@/auth/index'\r\nimport {getAllEnterprises, getLayersFromSentinel, getEnterprise} from '@/crudFunctions/crudEnterprise'//getEnterprise\r\nimport {getAllCooperatives, getCooperative} from '@/crudFunctions/crudCooperativas'\r\nimport ControllerPanel from '@/components/mapController/ControllerPanel.vue'\r\nimport ControllerPanel4Mobile from '@/components/mapController/ControllerPanel4Mobile.vue'\r\nimport ControllerQuickEdit from '@/components/mapController/ControllerQuickEdit.vue'\r\nimport ControllerGoogleSearch from '@/components/mapController/ControllerGoogleSearch.vue'\r\nimport ControllerQuickCreate from '@/components/mapController/ControllerQuickCreate.vue'\r\nimport {checkValidPolygon} from '@/crudFunctions/crudEnterprise'\r\nimport proj4 from 'proj4'\r\nimport Style from 'ol/style/Style'\r\nimport Text from 'ol/style/Text'\r\nimport Fill from 'ol/style/Fill'\r\nimport Stroke from 'ol/style/Stroke'\r\nimport L from 'leaflet'\r\nimport { getArea } from 'ol/sphere';\r\nimport axios from 'axios'\r\n//import Polygon from 'ol/geom/Polygon'\r\nexport default {\r\n    name: 'MapComponent4',\r\n    components: {ControllerPanel, ControllerQuickEdit, ControllerGoogleSearch,ControllerPanel4Mobile, ControllerQuickCreate\r\n    },\r\n    data() {\r\n        return {\r\n            flagIndicatingDataHasBeenLoadedInVariables: false,\r\n            //Usuario\r\n            is_superuser: false,\r\n            is_staff: false,\r\n            is_systemadmin: false,\r\n            is_enterpriseadmin: false,\r\n            is_coop_user: false,\r\n            //BingMap\r\n            apiKeyBing: this.$apiKeyBing,\r\n            imagerySetBing: `AerialWithLabels`,\r\n            zoom: 15,\r\n            center: [-3.8225970954841486, 40.28385074244977 ],\r\n            maxZoomBing: 20,\r\n            isActiveLoading: false,\r\n            isVisibleLoad: false,\r\n            name: 'pruebas',\r\n            //Parcelas\r\n            parcelas: {},\r\n            //Empresas sel\r\n            arrEmpresas: [],\r\n            arrCooperativas: [],\r\n            arrEmpresas4List: [],\r\n            //Sentinel layer tile controller\r\n            urlSentinel: `${this.$sentinelURL}/ogc/wms/`,\r\n            minZoom:6,\r\n            maxZoom:16,\r\n            preset:'AGRICULTURE',\r\n            layers:'AGRICULTURE',\r\n            time:`2019-01-01/${this.getNow()}`,\r\n            serverType: 'geoserver',\r\n            opacitylayer: 0.5,\r\n            transition: 0,\r\n            SentinelLayer: 'AGRICULTURE',\r\n            timestamp: 0,\r\n            timestampSentinel: 0,\r\n            timestampDrawPolygon: 0,\r\n            checkedToggleMostarTexto: false,\r\n            layersSelector: [],\r\n            //ModificarParcela\r\n            keyModificar: 0,\r\n            allParcelsOfEnterprises: [],\r\n            allParcelsOfEnterprisesFilter: [],\r\n            //if\r\n            ifQuickEdit: false,\r\n            //\r\n            parcelSelected: Object,\r\n            verErrorDraw: false,\r\n            errorDrawMsg: '',\r\n            guardadoOKMsg: '',\r\n            coordinatesPoly: '',\r\n            //Crear Parcela\r\n            featuresNewPolygon: [],\r\n            verCrearParcel: true,\r\n            verCrearParcelDraw: false,\r\n            empresaSelForCreateParcel: '',\r\n            refreshDibujo: 0,\r\n            //editarParcel\r\n            valueDesc: '',\r\n            valueName: '',\r\n            areaForNewPolygon: 0,\r\n            //\r\n            user: '',\r\n            coordenadasPunto: [0, 0],\r\n            olcultarInconoUbi: false\r\n        }\r\n    },\r\n    methods: {\r\n        isMobile() {\r\n            if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\r\n                return true\r\n            } else {\r\n                return false\r\n            }\r\n        },\r\n        getNowSentinel() {\r\n            const today = new Date();\r\n            const date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();\r\n            const time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n            const dateTime = date +' '+ time;\r\n            this.timestampSentinel = dateTime;\r\n        },\r\n        getNowRefreshDrawPolygon() {\r\n            const today = new Date();\r\n            const date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();\r\n            const time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n            const dateTime = date +' '+ time;\r\n            this.timestampDrawPolygon = dateTime;\r\n        },\r\n        getNow() {\r\n            const today = new Date();\r\n            const date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();\r\n            const time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n            const dateTime = date +' '+ time;\r\n            this.timestamp = dateTime;\r\n        },\r\n        pointsStyleFunc(){\r\n            return feature => {\r\n                let baseStyle = new Style({\r\n                    fill: new Fill({\r\n                        color: \"rgba(255,255,255,0.0)\",\r\n                    }),\r\n                    stroke: new Stroke({\r\n                        color: \"rgba(0, 0, 255, 1)\",\r\n                        with: 5\r\n                    }),\r\n                    text: new Text({\r\n                        overflow: this.checkedToggleMostarTexto,\r\n                        text: `${feature.get('name')} \\n ${feature.get('description') ? feature.get('description') : ''} \\n ${feature.get('area') ? feature.get('area').toFixed(2)+'Ha' : '' } / ${feature.get('area') ? this.metricaparcela(feature.get('area'))+'Acre' : '' }`,\r\n                        font: \"14px IBM Plex Sans\",\r\n                        fill: new Fill({\r\n                            //color: \"#161616\",\r\n                            color: \"#FFFFFF\",\r\n                        }),\r\n                        stroke: new Stroke({\r\n                            color: \"#161616\",\r\n                            width: 4.5\r\n                        }),\r\n                    }),\r\n                })\r\n                return [\r\n                    baseStyle,\r\n                ]\r\n            }\r\n        },\r\n        metricaparcela(area){\r\n            const onehecttoAcre = 2.4710538146717\r\n            const acre = onehecttoAcre * area\r\n            this.metric = \"Acre\"\r\n            return  acre.toFixed(2)\r\n        \r\n        },\r\n\r\n        selecionaPolygon(po){\r\n            this.ifQuickEdit = true\r\n            this.coordinatesPoly = ''\r\n            this.verErrorDraw = true\r\n            this.verErrorDraw = true\r\n            const result = this.allParcelsOfEnterprises.filter(parcel => parcel.id == po.id_)\r\n            this.parcelSelected = result[0]\r\n            const coordenadasGeometricas = po.getGeometry().getExtent()\r\n            const ex = coordenadasGeometricas[0] + (coordenadasGeometricas[2]-coordenadasGeometricas[0])/2;\r\n            const ye = coordenadasGeometricas[1] + (coordenadasGeometricas[3]-coordenadasGeometricas[1])/2;\r\n            var source = new proj4.Proj('EPSG:3785'); \r\n            var dest = new proj4.Proj('EPSG:4326');  \r\n            const newCenter = proj4(source, dest, [ex, ye])\r\n            this.center = [newCenter[0], newCenter[1]]\r\n            const enterprise_id = po.values_.enterprise_id\r\n            this.valueName = po.values_.name\r\n            this.valueDesc = po.values_.description\r\n            this.comprobarCoordenadas(po.getGeometry().getCoordinates(), enterprise_id, po.id_)\r\n        },\r\n        terminadoNewPolygon(p){\r\n            console.info(p)\r\n            this.verCrearParcelDraw = true\r\n            this.areaForNewPolygon = (Math.round((getArea(p.feature.getGeometry())/ 10000) * 10000) / 10000)\r\n            const coordinatesEditadas = p.feature.getGeometry().getCoordinates()\r\n            this.comprobarCoordenadas(coordinatesEditadas, (this.empresaSelForCreateParcel ? this.empresaSelForCreateParcel[0].id : this.arrEmpresas[0].id), 0)\r\n        },\r\n        editado(p){\r\n            const enterprise_id = p.features.array_[0].values_.enterprise_id\r\n            const coordinatesEditadas = p.features.array_[0].getGeometry().getCoordinates()\r\n            this.areaForNewPolygon = (Math.round((getArea(p.features.array_[0].getGeometry())/ 10000) * 10000) / 10000)\r\n            //const area = (Math.round((getArea(p.features.array_[0].getGeometry()) / 10000) * 10000) / 10000)\r\n            this.comprobarCoordenadas(coordinatesEditadas, enterprise_id, p.features.array_[0].id_)\r\n            //if(this.parcelaSeleccionada){\r\n                //this.coordinatesBuenas(this.coordinatesEditadas)\r\n            //}\r\n            \r\n            //this.verErrorDraw = false\r\n        },\r\n        getBBOX(parcel){\r\n            const polygon = L.polygon(parcel.geometry.coordinates)\r\n\r\n            const bboxP = `${polygon.getBounds()._northEast.lng},${polygon.getBounds()._northEast.lat},${polygon.getBounds()._southWest.lng},${polygon.getBounds()._southWest.lat}`\r\n            return bboxP\r\n        },\r\n        getBBOX2(parcel){\r\n            const polygon = L.polygon(parcel.geometry.coordinates)\r\n\r\n            const bboxP = [polygon.getBounds()._northEast.lng,polygon.getBounds()._northEast.lat,polygon.getBounds()._southWest.lng,polygon.getBounds()._southWest.lat]\r\n            return bboxP\r\n        },\r\n        comprobarCoordenadas(coords, enterprise, idParcela){\r\n            var source = new proj4.Proj('EPSG:3785'); \r\n            var dest = new proj4.Proj('EPSG:4326'); \r\n            let newCenter = Array;\r\n            let polygonObject= 'POLYGON(('\r\n            for (var i = 0; i < coords[0].length; i++) {\r\n                newCenter = proj4(source, dest, [coords[0][i][0], coords[0][i][1]])\r\n                polygonObject += newCenter[0]+' '+newCenter[1]\r\n                if(i != (coords[0].length-1)){\r\n                    polygonObject += ', '\r\n                }\r\n            }\r\n            polygonObject += '))';\r\n\r\n            checkValidPolygon(polygonObject, enterprise)\r\n            .then(response => {\r\n                if(response.data.features.length){\r\n                    const result = response.data.features.filter(feature => {\r\n                        if(feature.id != idParcela){\r\n                            return feature\r\n                        }\r\n                    })\r\n                    if(result.length){\r\n                        let parcelsName = ''\r\n                        result.map(resultado => {\r\n                            parcelsName += resultado.properties.name + ' '\r\n                        })\r\n                        this.errorDrawMsg = this.$t('map.parcela_solapada_con') + '' + parcelsName\r\n                        this.verErrorDraw = true\r\n                        this.coordinatesPoly = ''\r\n                    }else{\r\n                        this.verErrorDraw = false\r\n                        this.errorDrawMsg = ''\r\n                        this.coordinatesPoly = polygonObject\r\n                        this.compruebaParcelaSimple(polygonObject)\r\n                    }\r\n                }else{\r\n                    this.verErrorDraw = false\r\n                    this.errorDrawMsg = ''\r\n                    this.coordinatesPoly = polygonObject\r\n                    this.compruebaParcelaSimple(polygonObject)\r\n                }\r\n            })\r\n        },\r\n        compruebaParcelaSimple(polygonObject){\r\n            let path = `${this.$apiURL}/parcel_valid/?polygon=${polygonObject}`;\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .get(path)\r\n            .then(response=>{\r\n                if(response.data == \"False\"){\r\n                    this.errorDrawMsg = this.$t('map.parcela_solapada_misma')\r\n                    this.verErrorDraw = true\r\n                }else{\r\n                    this.verErrorDraw = false\r\n                    this.errorDrawMsg = ''\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.warn(error)\r\n            })\r\n        },\r\n    },\r\n    mounted: function () {\r\n        \r\n        //console.info('User Logged')\r\n    },\r\n    beforeCreate(){\r\n        this.isActiveLoading = false\r\n        this.isVisibleLoad = false\r\n        //* 1 - Obtenemos la info del usuario, a que empresa pertenece y si es administrador\r\n        getProfile()\r\n        .then(response => {\r\n            const user = response.data[0]\r\n            console.info(user)\r\n            this.user = user\r\n            getPermisos(response.data[0].user)\r\n            .then(response => {\r\n                this.is_superuser = response.data.is_superuser\r\n                this.is_staff = response.data.is_staff\r\n                this.is_systemadmin = response.data.is_systemadmin\r\n                this.is_enterpriseadmin = response.data.is_enterpriseadmin\r\n                this.is_coop_user = user.cooperative_user\r\n                /*\r\n                //*Obtenemos la empresa del usuario\r\n                const enterprise_id = user.enterprise_id\r\n                getEnterprise(enterprise_id)\r\n                .then(async response => {\r\n                    this.parcelas = response.data.parcels\r\n                    await this.arrEmpresas.push(response.data)\r\n                    this.flagIndicatingDataHasBeenLoadedInVariables = false\r\n                    this.timestamp()\r\n                })\r\n                */\r\n                \r\n                if(this.is_superuser || this.is_systemadmin){\r\n                    getAllEnterprises()\r\n                    .then(async response => {\r\n                        this.arrEmpresas = [response.data[0]]\r\n                        this.arrEmpresas4List = response.data\r\n                        const arrParcels = []\r\n                        //carga de la primera empresa\r\n                        const empresaFirst = [response.data[0]]\r\n                        //response.data[0].map(enterprise => {\r\n                        empresaFirst.map(enterprise => {\r\n                            enterprise.parcels.features.map(parcel => {\r\n                                arrParcels.push(parcel)\r\n                            })\r\n                        })\r\n                        this.allParcelsOfEnterprises = arrParcels\r\n                        this.allParcelsOfEnterprisesFilter = arrParcels\r\n                        this.flagIndicatingDataHasBeenLoadedInVariables = true\r\n                    })\r\n                }else if((this.is_enterpriseadmin || this.is_staff) && !this.is_coop_user){ \r\n                    getEnterprise(user.enterprise_id)\r\n                    .then(async response => {\r\n                        this.arrEmpresas = [response.data]\r\n                        this.arrEmpresas4List = [response.data]\r\n                        const arrParcels = []\r\n                        response.data.parcels.features.map(parcel => {\r\n                            arrParcels.push(parcel)\r\n                        })\r\n                        this.allParcelsOfEnterprises = arrParcels\r\n                        this.allParcelsOfEnterprisesFilter = arrParcels\r\n                        this.flagIndicatingDataHasBeenLoadedInVariables = true\r\n                    })\r\n                }else if(this.is_coop_user){\r\n                    getCooperative(user.enterprise_id)\r\n                    .then(response => {\r\n                        this.arrCooperativas = [response.data]\r\n                        //this.arrEmpresas = response.data.enterprises\r\n                        this.flagIndicatingDataHasBeenLoadedInVariables = true\r\n                    })\r\n                }\r\n\r\n                if(this.is_superuser || this.is_systemadmin){\r\n                    getAllCooperatives()\r\n                    .then(async response => {\r\n                        this.arrCooperativas = response.data\r\n                    })\r\n                }\r\n                this.isActiveLoading = false\r\n                this.isVisibleLoad = false\r\n            })\r\n        })\r\n        getLayersFromSentinel().then(response => {\r\n            this.layersSelector = response.data\r\n        })\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    #map{\r\n        width: 100%; height: 100%; position:fixed\r\n    }\r\n    \r\n    .mapa{\r\n        width: 100%; height: 100%!important; position: fixed\r\n    }\r\n    #cargando{\r\n        position:fixed\r\n    }\r\n</style>"]}]}