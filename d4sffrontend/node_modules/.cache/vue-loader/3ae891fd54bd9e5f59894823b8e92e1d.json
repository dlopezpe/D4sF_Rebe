{"remainingRequest":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\src\\views\\AdminUsers.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\src\\views\\AdminUsers.vue","mtime":1622446350284},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\respana\\source\\D4SF\\dataforsmartfarming\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL3Ytc2hvdz0iZ2V0RW1wcmlzZSh1c2VyLmlkKSAhPSAnbm8gZW5jb250cmFkbycgIg0KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsNCmltcG9ydCBCb2FyZCBmcm9tICJAL3ZpZXdzL0JvYXJkLnZ1ZSI7DQppbXBvcnQgRm9vdGVyIGZyb20gIi4uL3ZpZXdzL0Zvb3Rlci52dWUiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIkFkbWluVXNlcnMiLA0KICAgIHByb3BzOiB7fSwNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgIEZvb3RlciwNCiAgICAgICAgQm9hcmQNCiAgICB9LA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBiYXNpY1BhZ2luYXRpb246IGZhbHNlLA0KICAgICAgICAgICAgdXNlX2JhdGNoQWN0aW9uczogdHJ1ZSwNCiAgICAgICAgICAgIGhhc0V4cGFuZGluZ1Jvd3M6IGZhbHNlLA0KICAgICAgICAgICAgdXNlX2NvbnRlbnQ6IHRydWUsDQogICAgICAgICAgICB1c2Vfc2xvdHRlZERhdGE6IHRydWUsDQogICAgICAgICAgICB2aXNpYmxlQWxlcnRhRWxpbWluYXI6IGZhbHNlLA0KICAgICAgICANCiAgICAgICAgICAgIHN0YXJ0OiAwLA0KICAgICAgICAgICAgbGVuZ3RoOiAxMCwNCiAgICAgICAgICAgIGNvbHVtbnMzOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBrZXk6ICJ1c2VyIiwNCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ2FkbWluRW50ZXJwcmlzZS5ub21icmUnKQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBrZXk6ICJsYXN0bG9naW4iLA0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kdCgnYWRtaW5FbnRlcnByaXNlLmNpZicpDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICB1c2VyczogW10sDQogICAgICAgICAgICB1c2VyTGlzdDpbXSwNCiAgICAgICAgICAgIHVzZXJzTmFtZTogW10sDQogICAgICAgICAgICBlbnRlcnByaXNlczogW10sDQogICAgICAgICAgICB1c2VyU2VsZWNjaW9uYWRvIDogIiIsDQogICAgICAgICAgICAvL0Zlcm1pbg0KICAgICAgICAgICAgYWxsRW50ZXJwcmlzZXM6IEFycmF5KCksDQogICAgICAgICAgICBhbGxVc2VyczogQXJyYXkoKSwNCiAgICAgICAgICAgIGVudGVycHJpc2VTZWw6IEFycmF5KCksDQogICAgICAgICAgICB1c2Vyc1NlbDogQXJyYXkoKSwNCiAgICAgICAgICAgIHVsdGltb3NBY2M6IEFycmF5KCksDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgZ2V0VWx0QWNjKHVzZXJJRCl7DQogICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnVsdGltb3NBY2MuZmlsdGVyKHVzZXIgPT4gdXNlci5pZCA9PT0gdXNlcklEKQ0KICAgICAgICAgICAgaWYocmVzdWx0Lmxlbmd0aCA+IDApew0KICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRbMF0ubGFzdF9sb2dpbg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuICdObyBsb2dpbicNCiAgICAgICAgfSwNCiAgICAgICAgb25CdXNjYXIoc2VhcmNoKXsNCiAgICAgICAgICAgIGxldCByZXN1bHQgPSBBcnJheSgpDQogICAgICAgICAgICBpZih0aGlzLmVudGVycHJpc2VTZWwubGVuZ3RoID4gMCl7DQogICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5hbGxVc2Vycy5maWx0ZXIodXNlciA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmKHVzZXIuZmlyc3RfbmFtZS5pbmNsdWRlcyhzZWFyY2gpICYmIHRoaXMuZW50ZXJwcmlzZVNlbFswXS5pZCA9PT0gdXNlci5lbnRlcnByaXNlX2lkKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIHRoaXMudXNlcnNTZWwgPSByZXN1bHQNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYWxsVXNlcnMuZmlsdGVyKHVzZXIgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZih1c2VyLmZpcnN0X25hbWUuaW5jbHVkZXMoc2VhcmNoKSl7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlcg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB0aGlzLnVzZXJzU2VsID0gcmVzdWx0DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGFjdGlvbk9uUGFnaW5hdGlvbihldil7DQogICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZXYuc3RhcnQtMQ0KICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBldi5sZW5ndGgNCiAgICAgICAgfSwNCiAgICAgICAgc2VsZWNjaW9uYUVtcHJlc2EoZW1wcmVzYSl7DQogICAgICAgICAgICBpZihlbXByZXNhID09PSAnYWxsJyl7DQogICAgICAgICAgICAgICAgdGhpcy51c2Vyc1NlbCA9IHRoaXMuYWxsVXNlcnMNCiAgICAgICAgICAgICAgICB0aGlzLmVudGVycHJpc2VTZWwgPSBBcnJheSgpDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLnVzZXJzU2VsID0gdGhpcy5hbGxVc2Vycy5maWx0ZXIoIHg9PiB4LmVudGVycHJpc2VfaWQgPT0gZW1wcmVzYSApDQogICAgICAgICAgICAgICAgdGhpcy5lbnRlcnByaXNlU2VsID0gdGhpcy5hbGxFbnRlcnByaXNlcy5maWx0ZXIoZW50ZXJwcmlzZSA9PiBlbnRlcnByaXNlLmlkID09PSBlbXByZXNhKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBvYnRlbmVyTGlzdGFFbXByZXNhcygpew0KICAgICAgICAgICAgY29uc3QgcGF0aCA9IGAke3RoaXMuJGFwaVVSTH0vcHJvZmlsZWRhdGEvYDsNCiAgICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAiQmVhcmVyICIrc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXBpQWNjZXNzIikNCiAgICAgICAgICAgIGF4aW9zDQogICAgICAgICAgICAuZ2V0KHBhdGgpDQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PnsNCiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgICAgICAgIHRoaXMudXNlcnMgPSBkYXRhLmZpbHRlciggeD0+IHgubGFzdF9sb2dpbiAhPSBudWxsKSANCiAgICAgICAgICAgICAgICAvL2NvbnNvbGUuaW5mbyh0aGlzLnVzZXJzKQ0KICAgICAgICAgICAgfSkgICANCiAgICAgICAgICAgIC8vZXN0YSBmdW5jaW9uIGhhY2UgbG8gbWlzbW8NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgY29uc3QgcGF0aDIgPSBgJHt0aGlzLiRhcGlVUkx9L3Byb2ZpbGVzL2A7DQogICAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gIkJlYXJlciAiK3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFwaUFjY2VzcyIpDQogICAgICAgICAgICBheGlvcw0KICAgICAgICAgICAgLmdldChwYXRoMikNCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+ew0KICAgICAgICAgICAgICAgIHRoaXMudXNlcnNOYW1lID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdGhpcy5nZXRFbnRlcnByaXNlKCkNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0RW50ZXJwcmlzZSgpew0KICAgICAgICAgICAgLyoNCiAgICAgICAgICAgIGNvbnN0IHBhdGgzID0gYCR7dGhpcy4kYXBpVVJMfS9lbnRlcnByaXNlcy9gOw0KICAgICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICJCZWFyZXIgIitzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhcGlBY2Nlc3MiKQ0KICAgICAgICAgICAgYXhpb3MNCiAgICAgICAgICAgIC5nZXQocGF0aDMpDQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5lbnRlcnByaXNlcyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgICAgICAgICB0aGlzLmFsbEVudGVycHJpc2VzID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT57DQogICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKGVycm9yKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgDQogICAgICAgICAgICBjb25zdCBpZFNtYXJ0Yml0cyA9ICcxNzhlNTI0MC0xYTY0LTQ2MzEtYTk1ZC1hOWE4ZjcwZjMzMDUnDQogICAgICAgICAgICBpZih0aGlzLiRzZXNzaW9uLmdldCgnZW50ZXJwcmlzZScpICE9IGlkU21hcnRiaXRzICl7DQogICAgICAgICAgICAgICAgdGhpcy5lbnRlcnByaXNlcyA9IHRoaXMuZW50ZXJwcmlzZXMuZmlsdGVyKCB4PT4geC5uYW1lICE9ICdTbWFydGJpdHMnKSANCiAgICAgICAgICAgICAgICB0aGlzLmFsbEVudGVycHJpc2VzID0gdGhpcy5lbnRlcnByaXNlcy5maWx0ZXIoIHg9PiB4Lm5hbWUgIT0gJ1NtYXJ0Yml0cycpDQogICAgICAgICAgICB9IA0KICAgICAgICAgICAgKi8NCiAgICAgICAgfSwNCiAgICAgICAgZ2V0TmFtZSh1c2VyaWQpew0KICAgICAgICAgICAgbGV0IG5hbWUgPSAibm8gZW5jb250cmFkbyINCiAgICAgICAgICAgIHRoaXMudXNlcnNOYW1lLmZvckVhY2goKHZhbHVlKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHZhbHVlLnVzZXIgPT0gdXNlcmlkICl7DQogICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSB2YWx1ZS5maXJzdF9uYW1lDQogICAgICAgICAgICAgICAgICAgIH0gIA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHJldHVybiBuYW1lDQogICAgICAgIH0sDQogICAgICAgIGdldGxhc3RhbWUodXNlcmlkKXsNCiAgICAgICAgICAgIGxldCBuYW1lID0gIm5vIGVuY29udHJhZG8iDQogICAgICAgICAgICB0aGlzLnVzZXJzTmFtZS5mb3JFYWNoKCh2YWx1ZSkgPT4gew0KICAgICAgICAgICAgICAgIGlmICh2YWx1ZS51c2VyID09IHVzZXJpZCApew0KICAgICAgICAgICAgICAgICAgICBuYW1lPSB2YWx1ZS5sYXN0X25hbWUNCiAgICAgICAgICAgICAgICB9ICANCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgcmV0dXJuIG5hbWUNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0RW1wcmlzZSh1c2VyaWQpew0KICAgICAgICAgICAgbGV0IG5hbWUgPSAibm8gZW5jb250cmFkbyINCiAgICAgICAgICAgIC8qDQogICAgICAgICAgICB0aGlzLnVzZXJzTmFtZS5mb3JFYWNoKCh2YWx1ZSkgPT4gew0KICAgICAgICAgICAgICAgIGlmICh2YWx1ZS51c2VyID09IHVzZXJpZCApew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGVycHJpc2VzLmZvckVhY2goKHZhbHVlRW0pID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5lbnRlcnByaXNlX2lkID09IHZhbHVlRW0uaWQgKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSB2YWx1ZUVtLm5hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gIA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9ICANCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgKi8NCiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYWxsRW50ZXJwcmlzZXMuZmlsdGVyKGVudGVycGlzZSA9PiBlbnRlcnBpc2UuaWQgPT09IHVzZXJpZCkNCiAgICAgICAgICAgIGlmKHJlc3VsdC5sZW5ndGggPiAwKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0WzBdLm5hbWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBuYW1lDQogICAgICAgIH0sDQogICAgICAgIC8vRmVybWluDQogICAgICAgIG9idGVuZXJMaXN0YWRvRW1wcmVzYXMoKXsNCiAgICAgICAgICAgIGNvbnN0IHBhdGgzID0gYCR7dGhpcy4kYXBpVVJMfS9lbnRlcnByaXNlcy9gOw0KICAgICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICJCZWFyZXIgIitzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhcGlBY2Nlc3MiKQ0KICAgICAgICAgICAgYXhpb3MNCiAgICAgICAgICAgIC5nZXQocGF0aDMpDQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5hbGxFbnRlcnByaXNlcyA9IHJlc3BvbnNlLmRhdGENCg0KICAgICAgICAgICAgICAgIGNvbnN0IGlkU21hcnRiaXRzID0gJzE3OGU1MjQwLTFhNjQtNDYzMS1hOTVkLWE5YThmNzBmMzMwNScNCiAgICAgICAgICAgICAgICBpZih0aGlzLiRzZXNzaW9uLmdldCgnZW50ZXJwcmlzZScpICE9IGlkU21hcnRiaXRzICl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsRW50ZXJwcmlzZXMgPSB0aGlzLmFsbEVudGVycHJpc2VzLmZpbHRlciggeD0+IHgubmFtZSAhPSAnU21hcnRiaXRzJykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy90aGlzLmVudGVycHJpc2VTZWwgPSB0aGlzLmFsbEVudGVycHJpc2VzLmZpbHRlciggeD0+IHguaWQgPT0gdGhpcy4kc2Vzc2lvbi5nZXQoJ2VudGVycHJpc2UnKSkNCiAgICAgICAgICAgICAgICAvL3RoaXMuZW50ZXJwcmlzZVNlbFswXS5wdXNoKHtuYW1lOiAnVG9kYXMgbGFzIGVtcHJlc2FzJ30pDQogICAgICAgICAgICAgICAgdGhpcy5nZXRBbGxVc2VycygpDQogICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PnsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oZXJyb3IpDQogICAgICAgICAgICB9KQ0KICAgICAgICANCiAgICAgICAgfSwNCiAgICAgICAgZ2V0QWxsVXNlcnMoKXsNCiAgICAgICAgICAgIGNvbnN0IGFyclVzdWFyaW9zID0gQXJyYXkoKQ0KICAgICAgICAgICAgbGV0IHBhdGggPSBgYA0KICAgICAgICAgICAgdGhpcy5hbGxFbnRlcnByaXNlcy5mb3JFYWNoKGVudGVycHJpc2UgPT4gew0KICAgICAgICAgICAgICAgIHBhdGggPSBgJHt0aGlzLiRhcGlVUkx9L3Byb2ZpbGVzX2VudGVycHJpc2VzLyR7ZW50ZXJwcmlzZS5pZH0vYDsNCiAgICAgICAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gIkJlYXJlciAiK3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFwaUFjY2VzcyIpDQogICAgICAgICAgICAgICAgYXhpb3MNCiAgICAgICAgICAgICAgICAuZ2V0KHBhdGgpDQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2godXN1YXJpbyA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBhcnJVc3Vhcmlvcy5wdXNoKHVzdWFyaW8pDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB0aGlzLmFsbFVzZXJzID0gYXJyVXN1YXJpb3MNCiAgICAgICAgICAgIHRoaXMudXNlcnNTZWwgPSAgYXJyVXN1YXJpb3MNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0VWx0aW1vc0FjY2Vzb3MoKXsNCiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLiRhcGlVUkx9L3Byb2ZpbGVkYXRhL2A7DQogICAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gIkJlYXJlciAiK3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFwaUFjY2VzcyIpDQogICAgICAgICAgICBheGlvcw0KICAgICAgICAgICAgLmdldChwYXRoKQ0KICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT57DQogICAgICAgICAgICAgICAgdGhpcy51bHRpbW9zQWNjID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgICAgICAgIC8qDQogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgICAgICAgICB0aGlzLnVzZXJzID0gZGF0YS5maWx0ZXIoIHg9PiB4Lmxhc3RfbG9naW4gIT0gbnVsbCkgDQogICAgICAgICAgICAgICAgLy9jb25zb2xlLmluZm8odGhpcy51c2VycykNCiAgICAgICAgICAgICAgICAqLw0KICAgICAgICAgICAgfSkgIA0KICAgICAgICB9LA0KDQogICAgICAgIGdldERhdG9zVXNlcigpew0KICAgICAgICAgICAgaWYoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXBpQWNjZXNzIikpew0KICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhfbGFuZyA9IGAke3RoaXMuJGFwaVVSTH0vcHJvZmlsZWRhdGEvJHt0aGlzLiRzZXNzaW9uLmdldCgndXNlcicpfS9gOw0KICAgICAgICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAiQmVhcmVyICIrc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXBpQWNjZXNzIikNCiAgICAgICAgICAgICAgICBheGlvcw0KICAgICAgICAgICAgICAgIC5nZXQocGF0aF9sYW5nKQ0KICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+ew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRpMThuLmxvY2FsZSA9IHJlc3BvbnNlLmRhdGEubGFuZ3VhZ2UNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLiRhcGlVUkx9L3Byb2ZpbGUvYDsNCiAgICAgICAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gIkJlYXJlciAiK3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFwaUFjY2VzcyIpDQogICAgICAgICAgICAgICAgYXhpb3MNCiAgICAgICAgICAgICAgICAuZ2V0KHBhdGgpDQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnN0YXJ0KCkNCiAgICAgICAgICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoJ2VudGVycHJpc2UnLCByZXNwb25zZS5kYXRhWzBdLmVudGVycHJpc2VfaWQpDQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCd1c2VyJywgcmVzcG9uc2UuZGF0YVswXS51c2VyKQ0KICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdlbnRlcnByaXNlJywgcmVzcG9uc2UuZGF0YVswXS5lbnRlcnByaXNlX2lkKQ0KICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgcmVzcG9uc2UuZGF0YVswXS51c2VyKQ0KDQogICAgICAgICAgICAgICAgICAgIGxldCBwYXRoRW50ZXJwcmlzZUluc3RhbmNlID0gYCR7dGhpcy4kYXBpVVJMfS9lbnRlcnByaXNlcy8ke3Jlc3BvbnNlLmRhdGFbMF0uZW50ZXJwcmlzZV9pZH0vYDsNCiAgICAgICAgICAgICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICJCZWFyZXIgIitzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhcGlBY2Nlc3MiKQ0KICAgICAgICAgICAgICAgICAgICBheGlvcy5nZXQocGF0aEVudGVycHJpc2VJbnN0YW5jZSkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT57DQogICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdzSScsIHJlc3BvbnNlLmRhdGEuc2VudGluZWxfaW5zdGFuY2UpDQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQZXJtaXNvc1VzZXIocmVzcG9uc2UuZGF0YVswXS51c2VyKQ0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+ew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZ2V0UGVybWlzb3NVc2VyKGlkKXsNCiAgICAgICAgICAgIGNvbnN0IHBhdGhSb2wgPSBgJHt0aGlzLiRhcGlVUkx9L3Blcm1pc29zLyR7aWR9L2A7DQogICAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gIkJlYXJlciAiK3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFwaUFjY2VzcyIpDQogICAgICAgICAgICBheGlvcw0KICAgICAgICAgICAgLmdldChwYXRoUm9sKQ0KICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoJ2lzX2VudGVycHJpc2VhZG1pbicsIHJlc3BvbnNlLmRhdGEuaXNfZW50ZXJwcmlzZWFkbWluKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCdpc19zdGFmZicsIHJlc3BvbnNlLmRhdGEuaXNfc3RhZmYpDQogICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoJ2lzX3N1cGVydXNlcicsIHJlc3BvbnNlLmRhdGEuaXNfc3VwZXJ1c2VyKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCdpc19zeXN0ZW1hZG1pbicsIHJlc3BvbnNlLmRhdGEuaXNfc3lzdGVtYWRtaW4pDQogICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnaXNfZW50ZXJwcmlzZWFkbWluJywgcmVzcG9uc2UuZGF0YS5pc19lbnRlcnByaXNlYWRtaW4pDQogICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnaXNfc3RhZmYnLCByZXNwb25zZS5kYXRhLmlzX3N0YWZmKQ0KICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2lzX3N1cGVydXNlcicsIHJlc3BvbnNlLmRhdGEuaXNfc3VwZXJ1c2VyKQ0KICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2lzX3N5c3RlbWFkbWluJywgcmVzcG9uc2UuZGF0YS5pc19zeXN0ZW1hZG1pbikNCiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQuaXNfc3VwZXJ1c2VyID0gcmVzcG9uc2UuZGF0YS5pc19zdXBlcnVzZXINCiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQuaXNfc3RhZmYgPSByZXNwb25zZS5kYXRhLmlzX3N0YWZmLA0KICAgICAgICAgICAgICAgIHRoaXMuJHBhcmVudC5pc19zeXN0ZW1hZG1pbiA9IHJlc3BvbnNlLmRhdGEuaXNfc3lzdGVtYWRtaW4sDQogICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LmlzX2VudGVycHJpc2VhZG1pbiA9IHJlc3BvbnNlLmRhdGEuaXNfZW50ZXJwcmlzZWFkbWluDQogICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LmN1c3RvbUxpbmtFbnRlcnByaXNlID0gJ2VkaXQtZW50ZXJwcmlzZT9lbnRlcnByaXNlPScrdGhpcy4kc2Vzc2lvbi5nZXQoJ2VudGVycHJpc2UnKQ0KICAgICAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgICAgICAgICAgdGhpcy5vYnRlbmVyTGlzdGFkb0VtcHJlc2FzKCkNCiAgICAgICAgICAgICAgICB0aGlzLmdldFVsdGltb3NBY2Nlc29zKCkNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgfSwNCiAgICBjcmVhdGVkKCl7DQogICAgICAgIHRoaXMuZ2V0RGF0b3NVc2VyKCkNCiAgICB9LA0KICAgIG1vdW50ZWQoKXsNCiAgICAgICAgdGhpcy5nZXREYXRvc1VzZXIoKQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["AdminUsers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminUsers.vue","sourceRoot":"src/views","sourcesContent":["\r\n<template>\r\n    <div>\r\n        <Board />\r\n        <div class=\"bx--grid\" id=\"grid-admin\">\r\n            <div class=\"group-list\">\r\n                <cv-data-table\r\n                    :sortable=\"false\"\r\n                    :columns=\"[\r\n                        {\r\n                            key: 'name',\r\n                            label: this.$t('adminEnterprise.nombre')\r\n                        },\r\n                        {\r\n                            key: 'apellido',\r\n                            label: this.$t('empleados.apellido')\r\n                        },\r\n                        {\r\n                            key: 'Empresa',\r\n                            label: this.$t('app.emprise')\r\n                        },\r\n                        {\r\n                            key: 'Login',\r\n                            label: this.$t('login.login')\r\n                        },\r\n                    ]\"\r\n                    :title=\"enterpriseSel.length > 0 ? $t('map.listado_usuarios') + ' - ' +enterpriseSel[0].name : $t('map.listado_usuarios')\"\r\n                    ref=\"table\"\r\n                    :pagination=\"{ numberOfItems: usersSel.length, pageSizes: [10, 15, 20, 25, usersSel.length] }\" @pagination=\"actionOnPagination\"\r\n                >\r\n                <template v-if=\"true\" slot=\"actions\">\r\n                    <cv-search :placeholder=\"$t('parcelas.place_buscar')\" @input=\"onBuscar\"></cv-search>\r\n                    <div id=\"sentinelLayers\">\r\n                        <cv-select\r\n                        theme=\"\"\r\n                        :hide-label=\"false\"\r\n                        :inline=\"false\"\r\n                        :disabled=\"false\"\r\n                        @change=\"seleccionaEmpresa\"\r\n                        label=\"\"\r\n                        >\r\n                            <cv-select-option disabled selected hidden>{{$t(\"map.sel_empresa\")}}</cv-select-option>\r\n                            <cv-select-option :value=\"`all`\">Todas</cv-select-option>\r\n                            \r\n                            <cv-select-option v-for=\"empresa in allEnterprises\" :value=\"String(empresa.id)\"  v-bind:key=\"empresa.id\">\r\n                                {{empresa.name}}\r\n                            </cv-select-option>\r\n                        </cv-select>\r\n                    </div>\r\n                </template>\r\n                    <template slot=\"data\">\r\n            \r\n                        <cv-data-table-row\r\n                            v-for=\"user in usersSel.slice(start, start+length)\"\r\n                            :key=\"`${user.id}`\"\r\n                            :value=\"`${user.id}`\"\r\n                            :aria-label-for-batch-checkbox=\"`Custom aria label for row ${user.id} batch`\"\r\n                            \r\n                        >\r\n                            <cv-data-table-cell >{{user.first_name}}</cv-data-table-cell>\r\n                            <cv-data-table-cell >{{user.last_name}}</cv-data-table-cell>\r\n                            <cv-data-table-cell >{{getEmprise(user.enterprise_id)}}</cv-data-table-cell>\r\n                            <cv-data-table-cell >{{getUltAcc(user.user) | formatDate}}</cv-data-table-cell>\r\n\r\n                        </cv-data-table-row>\r\n                        \r\n                        \r\n                    </template>\r\n                    \r\n                </cv-data-table>\r\n            </div>\r\n        </div>\r\n        <Footer/>\r\n    </div>\r\n    \r\n</template>\r\n\r\n\r\n<script>\r\n//v-show=\"getEmprise(user.id) != 'no encontrado' \"\r\nimport axios from \"axios\";\r\nimport Board from \"@/views/Board.vue\";\r\nimport Footer from \"../views/Footer.vue\";\r\n\r\nexport default {\r\n    name: \"AdminUsers\",\r\n    props: {},\r\n    components: {\r\n        Footer,\r\n        Board\r\n    },\r\n    data() {\r\n        return {\r\n            basicPagination: false,\r\n            use_batchActions: true,\r\n            hasExpandingRows: false,\r\n            use_content: true,\r\n            use_slottedData: true,\r\n            visibleAlertaEliminar: false,\r\n        \r\n            start: 0,\r\n            length: 10,\r\n            columns3: [\r\n                {\r\n                    key: \"user\",\r\n                    label: this.$t('adminEnterprise.nombre')\r\n                },\r\n                {\r\n                    key: \"lastlogin\",\r\n                    label: this.$t('adminEnterprise.cif')\r\n                },\r\n            ],\r\n            users: [],\r\n            userList:[],\r\n            usersName: [],\r\n            enterprises: [],\r\n            userSeleccionado : \"\",\r\n            //Fermin\r\n            allEnterprises: Array(),\r\n            allUsers: Array(),\r\n            enterpriseSel: Array(),\r\n            usersSel: Array(),\r\n            ultimosAcc: Array(),\r\n        }\r\n    },\r\n    methods: {\r\n        getUltAcc(userID){\r\n            const result = this.ultimosAcc.filter(user => user.id === userID)\r\n            if(result.length > 0){\r\n                return result[0].last_login\r\n            }\r\n            return 'No login'\r\n        },\r\n        onBuscar(search){\r\n            let result = Array()\r\n            if(this.enterpriseSel.length > 0){\r\n                result = this.allUsers.filter(user => {\r\n                    if(user.first_name.includes(search) && this.enterpriseSel[0].id === user.enterprise_id){\r\n                        return user\r\n                    }\r\n                })\r\n                this.usersSel = result\r\n            }else{\r\n                result = this.allUsers.filter(user => {\r\n                    if(user.first_name.includes(search)){\r\n                        return user\r\n                    }\r\n                })\r\n                this.usersSel = result\r\n            }\r\n        },\r\n        actionOnPagination(ev){\r\n            this.start = ev.start-1\r\n            this.length = ev.length\r\n        },\r\n        seleccionaEmpresa(empresa){\r\n            if(empresa === 'all'){\r\n                this.usersSel = this.allUsers\r\n                this.enterpriseSel = Array()\r\n            }else{\r\n                this.usersSel = this.allUsers.filter( x=> x.enterprise_id == empresa )\r\n                this.enterpriseSel = this.allEnterprises.filter(enterprise => enterprise.id === empresa)\r\n            }\r\n        },\r\n        obtenerListaEmpresas(){\r\n            const path = `${this.$apiURL}/profiledata/`;\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .get(path)\r\n            .then(response =>{\r\n                const data = response.data\r\n                this.users = data.filter( x=> x.last_login != null) \r\n                //console.info(this.users)\r\n            })   \r\n            //esta funcion hace lo mismo\r\n            \r\n            const path2 = `${this.$apiURL}/profiles/`;\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .get(path2)\r\n            .then(response =>{\r\n                this.usersName = response.data\r\n            })\r\n            \r\n            this.getEnterprise()\r\n        },\r\n        getEnterprise(){\r\n            /*\r\n            const path3 = `${this.$apiURL}/enterprises/`;\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .get(path3)\r\n            .then(response => {\r\n                this.enterprises = response.data\r\n                this.allEnterprises = response.data\r\n            }).catch(error =>{\r\n                console.info(error)\r\n            })\r\n        \r\n            const idSmartbits = '178e5240-1a64-4631-a95d-a9a8f70f3305'\r\n            if(this.$session.get('enterprise') != idSmartbits ){\r\n                this.enterprises = this.enterprises.filter( x=> x.name != 'Smartbits') \r\n                this.allEnterprises = this.enterprises.filter( x=> x.name != 'Smartbits')\r\n            } \r\n            */\r\n        },\r\n        getName(userid){\r\n            let name = \"no encontrado\"\r\n            this.usersName.forEach((value) => {\r\n                if (value.user == userid ){\r\n                        name= value.first_name\r\n                    }  \r\n                });\r\n                return name\r\n        },\r\n        getlastame(userid){\r\n            let name = \"no encontrado\"\r\n            this.usersName.forEach((value) => {\r\n                if (value.user == userid ){\r\n                    name= value.last_name\r\n                }  \r\n            });\r\n            return name\r\n        },\r\n        getEmprise(userid){\r\n            let name = \"no encontrado\"\r\n            /*\r\n            this.usersName.forEach((value) => {\r\n                if (value.user == userid ){\r\n                    this.enterprises.forEach((valueEm) => {\r\n                        if (value.enterprise_id == valueEm.id ){\r\n                            name= valueEm.name\r\n                        }  \r\n                    });\r\n                }  \r\n            });\r\n            */\r\n            const result = this.allEnterprises.filter(enterpise => enterpise.id === userid)\r\n            if(result.length > 0){\r\n                return result[0].name\r\n            }\r\n            return name\r\n        },\r\n        //Fermin\r\n        obtenerListadoEmpresas(){\r\n            const path3 = `${this.$apiURL}/enterprises/`;\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .get(path3)\r\n            .then(response => {\r\n                this.allEnterprises = response.data\r\n\r\n                const idSmartbits = '178e5240-1a64-4631-a95d-a9a8f70f3305'\r\n                if(this.$session.get('enterprise') != idSmartbits ){\r\n                    this.allEnterprises = this.allEnterprises.filter( x=> x.name != 'Smartbits')\r\n                }\r\n                //this.enterpriseSel = this.allEnterprises.filter( x=> x.id == this.$session.get('enterprise'))\r\n                //this.enterpriseSel[0].push({name: 'Todas las empresas'})\r\n                this.getAllUsers()\r\n            }).catch(error =>{\r\n                console.info(error)\r\n            })\r\n        \r\n        },\r\n        getAllUsers(){\r\n            const arrUsuarios = Array()\r\n            let path = ``\r\n            this.allEnterprises.forEach(enterprise => {\r\n                path = `${this.$apiURL}/profiles_enterprises/${enterprise.id}/`;\r\n                axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n                axios\r\n                .get(path)\r\n                .then(response => {\r\n                    response.data.forEach(usuario => {\r\n                        arrUsuarios.push(usuario)\r\n                    })\r\n                })\r\n            })\r\n            this.allUsers = arrUsuarios\r\n            this.usersSel =  arrUsuarios\r\n        },\r\n        getUltimosAccesos(){\r\n            const path = `${this.$apiURL}/profiledata/`;\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .get(path)\r\n            .then(response =>{\r\n                this.ultimosAcc = response.data\r\n                /*\r\n                const data = response.data\r\n                this.users = data.filter( x=> x.last_login != null) \r\n                //console.info(this.users)\r\n                */\r\n            })  \r\n        },\r\n\r\n        getDatosUser(){\r\n            if(sessionStorage.getItem(\"apiAccess\")){\r\n                const path_lang = `${this.$apiURL}/profiledata/${this.$session.get('user')}/`;\r\n                axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n                axios\r\n                .get(path_lang)\r\n                .then(response =>{\r\n                    this.$root.$i18n.locale = response.data.language\r\n                })\r\n                const path = `${this.$apiURL}/profile/`;\r\n                axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n                axios\r\n                .get(path)\r\n                .then(response => {\r\n                    this.$session.start()\r\n                    //---------------------------------------------------------------\r\n                    this.$session.set('enterprise', response.data[0].enterprise_id)\r\n                    this.$session.set('user', response.data[0].user)\r\n                    sessionStorage.setItem('enterprise', response.data[0].enterprise_id)\r\n                    sessionStorage.setItem('user', response.data[0].user)\r\n\r\n                    let pathEnterpriseInstance = `${this.$apiURL}/enterprises/${response.data[0].enterprise_id}/`;\r\n                    axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n                    axios.get(pathEnterpriseInstance)\r\n                    .then(response =>{\r\n                        sessionStorage.setItem('sI', response.data.sentinel_instance)\r\n                        \r\n                    })\r\n                    //---------------------------------------------------------------\r\n                    this.getPermisosUser(response.data[0].user)\r\n                }).catch(error =>{\r\n                    console.warn(error)\r\n                })\r\n            }\r\n        },\r\n        getPermisosUser(id){\r\n            const pathRol = `${this.$apiURL}/permisos/${id}/`;\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .get(pathRol)\r\n            .then(response => {\r\n                //---------------------------------------------------------------\r\n                this.$session.set('is_enterpriseadmin', response.data.is_enterpriseadmin)\r\n                this.$session.set('is_staff', response.data.is_staff)\r\n                this.$session.set('is_superuser', response.data.is_superuser)\r\n                this.$session.set('is_systemadmin', response.data.is_systemadmin)\r\n                sessionStorage.setItem('is_enterpriseadmin', response.data.is_enterpriseadmin)\r\n                sessionStorage.setItem('is_staff', response.data.is_staff)\r\n                sessionStorage.setItem('is_superuser', response.data.is_superuser)\r\n                sessionStorage.setItem('is_systemadmin', response.data.is_systemadmin)\r\n                this.$parent.is_superuser = response.data.is_superuser\r\n                this.$parent.is_staff = response.data.is_staff,\r\n                this.$parent.is_systemadmin = response.data.is_systemadmin,\r\n                this.$parent.is_enterpriseadmin = response.data.is_enterpriseadmin\r\n                this.$parent.customLinkEnterprise = 'edit-enterprise?enterprise='+this.$session.get('enterprise')\r\n                //---------------------------------------------------------------\r\n                this.obtenerListadoEmpresas()\r\n                this.getUltimosAccesos()\r\n            })\r\n        },\r\n    },\r\n    created(){\r\n        this.getDatosUser()\r\n    },\r\n    mounted(){\r\n        this.getDatosUser()\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    #grid-admin{\r\n        margin-bottom: 50px;\r\n    }\r\n</style>"]}]}