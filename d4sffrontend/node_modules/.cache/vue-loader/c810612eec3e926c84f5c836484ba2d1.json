{"remainingRequest":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\PruebaFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\PruebaFront\\src\\components\\mapController\\ControllerPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\PruebaFront\\src\\components\\mapController\\ControllerPanel.vue","mtime":1671530138662},{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\PruebaFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\PruebaFront\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\PruebaFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\PruebaFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL2ltcG9ydCBwcm9qNCBmcm9tICdwcm9qNCcNCi8vaW1wb3J0IHtwb2x5Z29uQ2VudGVyfSBmcm9tICdAL2NydWRGdW5jdGlvbnMvY3J1ZEVudGVycHJpc2UnDQppbXBvcnQge2dldEVudGVycHJpc2UsIGdldEFsbEVudGVycHJpc2VzLCBnZXRGZWNoYXNTZW50aW5lbCwgc2V0UGFyY2Vsc0Zvckluc3RhbmNlfSBmcm9tICdAL2NydWRGdW5jdGlvbnMvY3J1ZEVudGVycHJpc2UnLy9nZXRFbnRlcnByaXNlDQppbXBvcnQge2dldENvb3BlcmF0aXZlfSBmcm9tICdAL2NydWRGdW5jdGlvbnMvY3J1ZENvb3BlcmF0aXZhcycNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnQ29udHJvbGxlclBhbmVsJywNCiAgICBwcm9wczogew0KICAgICAgICB1c2VybmFtZTogU3RyaW5nLA0KICAgICAgICBhcnJFbnRlcnByaXNlczogQXJyYXksDQogICAgICAgIGFyckNvb3BlcmF0aXZhczogQXJyYXksDQogICAgICAgIGNlbnRybzogW10sDQogICAgICAgIGxheWVyc1NlbGVjdG9yOiBBcnJheSwNCiAgICAgICAgY2hlY2tlZFRvZ2dsZU1vc3RhclRleHRvOiBCb29sZWFuLA0KICAgICAgICBpc19zdXBlcnVzZXI6IEJvb2xlYW4sDQogICAgICAgIGlzX3N5c3RlbWFkbWluOiBCb29sZWFuLA0KICAgICAgICBpc19zdGFmZjogQm9vbGVhbiwNCiAgICAgICAgaXNfZW50ZXJwcmlzZWFkbWluOiBCb29sZWFuLA0KICAgICAgICBpc19jb29wX3VzZXI6IEJvb2xlYW4sDQogICAgICAgIG1hcENvbXBvbmVudDogT2JqZWN0LA0KICAgICAgICBhbGxQYXJjZWxzT2ZFbnRlcnByaXNlczogQXJyYXksDQogICAgICAgIGFsbFBhcmNlbHNPZkVudGVycHJpc2VzRmlsdGVyOiBBcnJheSwNCiAgICAgICAgU2VudGluZWxMYXllcjogU3RyaW5nLA0KICAgIH0sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGxpc3RhZG9FbXByZXNhczogdGhpcy5hcnJFbnRlcnByaXNlcywNCiAgICAgICAgICAgIGNhbE9wdGlvbnM6IHsNCiAgICAgICAgICAgICAgICAiZGF0ZUZvcm1hdCI6ICJZLW0tZCINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB2YWx1ZURhdGVzOiBbXSwNCiAgICAgICAgICAgIGlzQWN0aXZlTG9hZGluZ0ZlY2hhc1NlbnQ6IGZhbHNlLA0KICAgICAgICAgICAgaXNWaXNpYmxlTG9hZEZlY2hhc1NlbnQ6IGZhbHNlLA0KICAgICAgICAgICAgZXhwYW5kOiB0cnVlLA0KICAgICAgICAgICAgZXhwYW5kMjogdHJ1ZSwNCiAgICAgICAgICAgIGVyb3JDb21wYUdlb2xvYzogJycsDQogICAgICAgICAgICBtb3N0cmFySWNvbkVyckdlb2xvYzogJycsDQogICAgICAgICAgICBlbXByZXNhX3NlbGVjOk9iamVjdCgpDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNvbXBvbmVudHM6IHsNCiAgICAgICAgDQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGNhcmdhTG9jYWxpemFjaW9uQWN0dWFsKCl7DQogICAgICAgICAgICBpZighKCJnZW9sb2NhdGlvbiIgaW4gbmF2aWdhdG9yKSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZXJvckNvbXBhR2VvbG9jID0gIHRoaXMuJHQoJ21hcC5sb2Nfbm9fZGlzcG9uaWJsZScpDQogICAgICAgICAgICAgICAgdGhpcy5tb3N0cmFySWNvbkVyckdlb2xvYyA9IHRydWUNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIGdldCBwb3NpdGlvbg0KICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihwb3MgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnTG9jYWxpemFjaW9uIGF1dG9yaXphZGEnLCBwb3MpDQogICAgICAgICAgICAgICAgdGhpcy5tb3N0cmFySWNvbkVyckdlb2xvYyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3NldENlbnRlcicsIFtwb3MuY29vcmRzLmxvbmdpdHVkZSwgcG9zLmNvb3Jkcy5sYXRpdHVkZV0pDQogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2V0Q2VudGVyTG9jYXRpb24nLCBbcG9zLmNvb3Jkcy5sb25naXR1ZGUsIHBvcy5jb29yZHMubGF0aXR1ZGVdKQ0KICAgICAgICAgICAgfSwgZXJyID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLm1vc3RyYXJJY29uRXJyR2VvbG9jID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnTG9jYWxpemFjacOzbiBubyBhdXRvcml6YWRhJywgZXJyKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgb25jbGlja1RpbGUoKXsNCiAgICAgICAgICAgIGlmKHRoaXMuZXhwYW5kKXsNCiAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZCA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5sYXllcnNDb250cm9sZXJzUmVzcG9uc2l2ZS5zdHlsZVsnbWF4LWhlaWdodCddID0gJycNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmxheWVyc0NvbnRyb2xlcnNSZXNwb25zaXZlLnN0eWxlWydvdmVyZmxvdy15J10gPSAnJw0KICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50RHJvcCArPTENCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMubGF5ZXJzQ29udHJvbGVyc1Jlc3BvbnNpdmUuc3R5bGVbJ21heC1oZWlnaHQnXSA9ICc5MCUnDQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5sYXllcnNDb250cm9sZXJzUmVzcG9uc2l2ZS5zdHlsZVsnb3ZlcmZsb3cteSddID0gJ2F1dG8nDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIG9uY2xpY2tUaWxlMigpew0KICAgICAgICAgICAgaWYodGhpcy5leHBhbmQyKXsNCiAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZDIgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc2VudGluZWxMYXllcnNMaXN0Q29sbGFwc2Uuc3R5bGUuZGlzcGxheSA9ICJub25lIg0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc2VudGluZWxMYXllcnNMaXN0Q29sbGFwc2VQLiRlbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiDQogICAgICAgICAgICAgICAgdGhpcy5jbGFzc2ZlY2hhUiA9IGBgDQogICAgICAgICAgICAgICAgdGhpcy5jbGFzc2ZlY2hhYjEgPSBgYA0KICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NmZWNoYWIyID0gYGANCg0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy5leHBhbmQyID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc2VudGluZWxMYXllcnNMaXN0Q29sbGFwc2Uuc3R5bGUuZGlzcGxheSA9ICJibG9jayINCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnNlbnRpbmVsTGF5ZXJzTGlzdENvbGxhcHNlUC4kZWwuc3R5bGUuZGlzcGxheSA9ICIiDQogICAgICAgICAgICAgICAgdGhpcy5jbGFzc2ZlY2hhUiA9IGBieC0tcm93YCwNCiAgICAgICAgICAgICAgICB0aGlzLmNsYXNzZmVjaGFiMSA9IGBieC0tY29sLWxnLTcgYngtLWNvbC1tZC0xMCBieC0tY29sLXNtLThgDQogICAgICAgICAgICAgICAgdGhpcy5jbGFzc2ZlY2hhYjIgPSBgYngtLWNvbC1sZy0xIGJ4LS1jb2wtbWQtMSBieC0tY29sLXNtLTFgDQogICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgIH0sDQogICAgICAgIHNlbGVjY2lvbmFFbXByZXNhKGVtcHJlc2Epew0KICAgICAgICAgICAgdGhpcy5lbXByZXNhX3NlbGVjPWVtcHJlc2ENCiAgICAgICAgICAgIGNvbnN0IG5vbWJyZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZWN0RW1wIikNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlbXByZXNhIikuaW5uZXJIVE1MPW5vbWJyZS5vcHRpb25zW25vbWJyZS5zZWxlY3RlZEluZGV4XS50ZXh0DQogICAgICAgICAgICBjb25zdCBhcnJQYXJjZWxzID0gW10NCiAgICAgICAgICAgIGlmKGVtcHJlc2EgPT0gJ2FsbCcpew0KICAgICAgICAgICAgICAgIGdldEFsbEVudGVycHJpc2VzKCkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgcmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5tYXAoZW50ZXJwcmlzZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50ZXJwcmlzZS5wYXJjZWxzLmZlYXR1cmVzLm1hcChwYXJjZWwgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJQYXJjZWxzLnB1c2gocGFyY2VsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2V0RW50ZXJwcmlzZScsIHJlc3BvbnNlLmRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdzZXRBbGxQYXJjZWxzT2ZFbnRlcnByaXNlcycsIGFyclBhcmNlbHMpDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbXByZXNhLnNwbGl0KCdfJykNCiAgICAgICAgICAgICAgICBpZihyZXN1bHRbMF0gPT0gJ2Nvb3AnKXsNCiAgICAgICAgICAgICAgICAgICAgZ2V0Q29vcGVyYXRpdmUocmVzdWx0WzFdKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLmVudGVycHJpc2VzLm1hcChlbnRlcnByaXNlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRlcnByaXNlLnBhcmNlbHMuZmVhdHVyZXMubWFwKHBhcmNlbCA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyclBhcmNlbHMucHVzaChwYXJjZWwpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdzZXRFbnRlcnByaXNlJywgcmVzcG9uc2UuZGF0YS5lbnRlcnByaXNlcykNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3NldEFsbFBhcmNlbHNPZkVudGVycHJpc2VzJywgYXJyUGFyY2VscykNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgZ2V0RW50ZXJwcmlzZShlbXByZXNhKQ0KICAgICAgICAgICAgICAgICAgICAudGhlbihhc3luYyByZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnBhcmNlbHMuZmVhdHVyZXMubWFwKHBhcmNlbCA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyUGFyY2Vscy5wdXNoKHBhcmNlbCkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGFyYWRhJykNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3NldEVudGVycHJpc2UnLCBbcmVzcG9uc2UuZGF0YV0pICAgDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdzZXRBbGxQYXJjZWxzT2ZFbnRlcnByaXNlcycsIGFyclBhcmNlbHMpICAgICAgICAgICAgICAgICAgICAgDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbENvb3JkaW5hdGVzID0gQXJyYXkoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFyclBhcmNlbHMubWFwKHBhcmNlbCA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ29vcmRpbmF0ZXMucHVzaChwYXJjZWwuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2V0UGFyY2Vsc0Zvckluc3RhbmNlKHJlc3BvbnNlLmRhdGEubmFtZSwgYWxsQ29vcmRpbmF0ZXMsIHJlc3BvbnNlLmRhdGEuc2VudGluZWxfaW5zdGFuY2UpDQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZTEgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhgT0sgcmVmcmVzY2FkbyBwYXJjZWxhcyBkZSAke3Jlc3BvbnNlLmRhdGEubmFtZX1gLCByZXNwb25zZTEuZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5pbmZvKGBFUlJPUiByZWZyZXNjYWRvIHBhcmNlbGFzIGRlICR7cmVzcG9uc2UuZGF0YS5uYW1lfWAsIGVycikpDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgYWN0aW9uQ2hhbmdlUGFyY2Vscyh2YWxvcil7DQogICAgICAgICAgICBsZXQgcmVzdWx0ID0gW10NCiAgICAgICAgICAgIHRoaXMuYXJyRW50ZXJwcmlzZXMubWFwKGVudGVycHJpc2UgPT4gew0KICAgICAgICAgICAgICAgIGVudGVycHJpc2UucGFyY2Vscy5mZWF0dXJlcy5tYXAoZmVhdHVyZSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmKGZlYXR1cmUuaWQgPT0gdmFsb3Ipew0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZmVhdHVyZSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgY29uc3QgY29vcmRlbmFkYXNHZW9tZXRyaWNhcyA9IHJlc3VsdFswXS5nZW9tZXRyeS5jb29yZGluYXRlc1swXQ0KICAgICAgICAgICAgY29uc3QgbmV3Q2VudGVyID0gdGhpcy5nZXRDZW50ZXIoY29vcmRlbmFkYXNHZW9tZXRyaWNhcykNCiAgICAgICAgICAgIGNvbnN0IGFyckFsbFBhcmNlbHNGaWx0ZXIgPSB0aGlzLmFsbFBhcmNlbHNPZkVudGVycHJpc2VzRmlsdGVyDQogICAgICAgICAgICB0aGlzLiRlbWl0KCdzZXRDZW50ZXInLCBbbmV3Q2VudGVyWzBdLCBuZXdDZW50ZXJbMV1dKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICB0aGlzLiRlbWl0KCdzZXRBbGxQYXJjZWxzT2ZFbnRlcnByaXNlc0ZpbHRlcicsIGFyckFsbFBhcmNlbHNGaWx0ZXIpDQogICAgICAgIH0sDQogICAgICAgIGFjdGlvbkNoYW5nZURhdGUodmFsb3Ipew0KICAgICAgICAgICAgY29uc3QgYXJyRmVjaGFzID0gdmFsb3Iuc3BsaXQoJywgJykNCiAgICAgICAgICAgIGlmKGFyckZlY2hhcy5sZW5ndGggPT0gMSl7DQogICAgICAgICAgICAgICAgdGhpcy50aW1lID0gIjIwMTktMDEtMDEvIit2YWxvcg0KICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3NldEZlY2hhU2VudGluZWwnLCB2YWxvcikNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgYWN0aW9uQ2xpY2tEYXRlQ2FyZ2FGZWNoYXNTZW50KCl7DQogICAgICAgICAgICB0aGlzLmlzQWN0aXZlTG9hZGluZ0ZlY2hhc1NlbnQgPSB0cnVlDQogICAgICAgICAgICB0aGlzLmlzQWN0aXZlTG9hZGluZ0ZlY2hhc1NlbnQgPSB0cnVlDQogICAgICAgICAgICBnZXRGZWNoYXNTZW50aW5lbCh0aGlzLm1hcENvbXBvbmVudC5wcmV2aW91c0V4dGVudF8pDQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzcHVlc3RhID0gcmVzcG9uc2UuZGF0YS5mZWF0dXJlcw0KICAgICAgICAgICAgICAgIGNvbnN0IGZlY2hhc0FycmF5ID0gQXJyYXkoKQ0KICAgICAgICAgICAgICAgIHJlc3B1ZXN0YS5mb3JFYWNoKGZlYXR1cmUgPT57DQogICAgICAgICAgICAgICAgICAgIGZlY2hhc0FycmF5LnB1c2goZmVhdHVyZS5wcm9wZXJ0aWVzLmRhdGUpDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlRGF0ZXMgPSBmZWNoYXNBcnJheS5yZXZlcnNlKCkNCiAgICAgICAgICAgICAgICB0aGlzLmlzQWN0aXZlTG9hZGluZ0ZlY2hhc1NlbnQgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHRoaXMuaXNBY3RpdmVMb2FkaW5nRmVjaGFzU2VudCA9IGZhbHNlDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBnZXRDZW50ZXIoY29vcmRlbmFkYXNHZW9tZXRyaWNhcyl7DQogICAgICAgICAgICB2YXIgbWluWCwgbWF4WCwgbWluWSwgbWF4WTsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29vcmRlbmFkYXNHZW9tZXRyaWNhcy5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgbWluWCA9IChjb29yZGVuYWRhc0dlb21ldHJpY2FzW2ldWzBdIDwgbWluWCB8fCBtaW5YID09IG51bGwpID8gY29vcmRlbmFkYXNHZW9tZXRyaWNhc1tpXVswXSA6IG1pblg7DQogICAgICAgICAgICAgICAgbWF4WCA9IChjb29yZGVuYWRhc0dlb21ldHJpY2FzW2ldWzBdID4gbWF4WCB8fCBtYXhYID09IG51bGwpID8gY29vcmRlbmFkYXNHZW9tZXRyaWNhc1tpXVswXSA6IG1heFg7DQogICAgICAgICAgICAgICAgbWluWSA9IChjb29yZGVuYWRhc0dlb21ldHJpY2FzW2ldWzFdIDwgbWluWSB8fCBtaW5ZID09IG51bGwpID8gY29vcmRlbmFkYXNHZW9tZXRyaWNhc1tpXVsxXSA6IG1pblk7DQogICAgICAgICAgICAgICAgbWF4WSA9IChjb29yZGVuYWRhc0dlb21ldHJpY2FzW2ldWzFdID4gbWF4WSB8fCBtYXhZID09IG51bGwpID8gY29vcmRlbmFkYXNHZW9tZXRyaWNhc1tpXVsxXSA6IG1heFk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gWyhtaW5YICsgbWF4WCkgLyAyLCAobWluWSArIG1heFkpIC8gMl07DQogICAgICAgIH0sDQogICAgICAgIG9uQnVzY2FyKGJ1c3F1ZWRhKXsNCiAgICAgICAgICAgIGlmKGJ1c3F1ZWRhKXsNCiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmFsbFBhcmNlbHNPZkVudGVycHJpc2VzLmZpbHRlcihwYXJjZWwgPT4gcGFyY2VsLnByb3BlcnRpZXMubmFtZS50b1VwcGVyQ2FzZSgpLmluY2x1ZGVzKGJ1c3F1ZWRhLnRvVXBwZXJDYXNlKCkpKQ0KICAgICAgICAgICAgICAgIHRoaXMuYWxsUGFyY2Vsc09mRW50ZXJwcmlzZXNGaWx0ZXIgPSByZXN1bHQNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHRoaXMuYWxsUGFyY2Vsc09mRW50ZXJwcmlzZXNGaWx0ZXIgPSB0aGlzLmFsbFBhcmNlbHNPZkVudGVycHJpc2VzDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGdldE5hbWVFbnRlcnByaXNlKHZhbHVlKXsNCiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYXJyRW50ZXJwcmlzZXMuZmlsdGVyKGVudGVycHJpc2UgPT4gZW50ZXJwcmlzZS5pZCA9PSB2YWx1ZSkNCiAgICAgICAgICAgIHJldHVybiByZXN1bHRbMF0ubmFtZQ0KICAgICAgICB9LA0KICAgICAgICBhY3Rpb25DaGFuZ2VkVG9nZ2xlKHZhbHVlKXsNCiAgICAgICAgICAgIC8vdGhpcy5jaGVja2VkVG9nZ2xlTW9zdGFyVGV4dG8gPSB2YWx1ZQ0KICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2V0VG9nZ2xlTW9zdHJhclRleHRvJywgdmFsdWUpDQogICAgICAgIH0sDQogICAgICAgIGFjdGlvbkNoYW5nZWRUb2dnbGVJY29ub1ViaSh2YWx1ZSl7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCdzZXRPY3VsdGFySW5jb25vVWJpJywgdmFsdWUpDQogICAgICAgIH0sDQogICAgICAgIGFjdGlvbkNoYW5nZUxheWVycyh2YWx1ZSl7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCdzZXRTZW50aW5lbExheWVyJywgdmFsdWUpDQogICAgICAgIH0sDQogICAgICAgIGFjdGlvbkNsZWFyQ2FjaGVTZW50aW5lbCgpew0KICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2V0U2VudGluZWxDbGVhckNhY2hlJykNCiAgICAgICAgfSwNCiAgICAgICAgYWN0aW9uQ2hhbmdlT3BhY2l0eSh2YWx1ZSl7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCdzZXRTZW50aW5lbE9wYWNpdHknLCB2YWx1ZS8xMDApDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgDQogICAgICAgIC8vY29uc29sZS5pbmZvKCdVc2VyIExvZ2dlZCcpDQogICAgfSwNCiAgICBiZWZvcmVDcmVhdGUoKXsNCiAgICAgICAgDQogICAgfQ0KfQ0K"},{"version":3,"sources":["ControllerPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"ControllerPanel.vue","sourceRoot":"src/components/mapController","sourcesContent":["<template>\r\n    <div id=\"layersControler\" class=\"layersControler\" ref=\"layersController\">\r\n        <div>\r\n            <div class=\"bx--row\">\r\n                <div class=\"bx--col\">\r\n                    <span><ChevronSortDown20  @click=\"onclickTile2\" v-if=\"expand2\"/></span><span><ChevronSortUp20 @click=\"onclickTile2\" v-if=\"!expand2\" style=\"transform: translate(0px, 10px)\"/></span>\r\n                </div>\r\n                <div class=\"bx--col\">\r\n                    <div id=\"geolocIcon\" style=\"text-align: right;\">\r\n                        <div v-if=\"mostrarIconErrGeoloc === ''\" @click=\"cargaLocalizacionActual()\">\r\n                            <p style=\"cursor: pointer; font-size: 14px;\">Mostrar mi ubicación <img src=\"../../assets/airport-location.svg\" style=\"width: 14px; height: 14px;\"></p>\r\n                        </div>\r\n                        <div v-else-if=\"mostrarIconErrGeoloc === false\" @click=\"cargaLocalizacionActual()\">\r\n                            <p style=\"cursor: pointer; font-size: 14px;\">Para volver a localizar mi ubicación, haz click aquí <Location16 style=\"stroke: #00abff; width: 14px; height: 14px; fill: #00abff;\"/></p>\r\n                        </div>\r\n                        <div v-else-if=\"mostrarIconErrGeoloc === true\" @click=\"cargaLocalizacionActual()\">\r\n                            <p style=\"cursor: pointer; font-size: 14px;\">No temenos acceso a tu ubicación <img src=\"../../assets/location--hazard.svg\" style=\"width: 14px; height: 14px;\"></p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div v-if=\"is_superuser || is_systemadmin || is_coop_user\">\r\n            <cv-select\r\n                theme=\"\"\r\n                :label=\"$t('map.listado_empresas')\"\r\n                :hide-label=\"false\"\r\n                :inline=\"false\"\r\n                :disabled=\"false\"\r\n                @change=\"seleccionaEmpresa\"\r\n                id=\"selectEmp\"\r\n                >\r\n                <cv-select-option disabled selected hidden>{{$t(\"map.sel_empresa\")}}</cv-select-option>\r\n                <cv-select-optgroup label=\"Todas las Empresas\" v-if=\"is_superuser || is_systemadmin\">\r\n                    <cv-select-option :value=\"`all`\" v-if=\"is_superuser || is_systemadmin\">{{$t(\"map.most_todas_empresas\")}}</cv-select-option>\r\n                    <cv-select-option v-for=\"empresa in listadoEmpresas\" :value=\"String(empresa.id)\"  v-bind:key=\"empresa.id\">\r\n                        {{empresa.name}}\r\n                    </cv-select-option>\r\n                </cv-select-optgroup>\r\n                <cv-select-optgroup :label=\"`Cooperativa ${cooperativa.name}`\" v-bind:key=\"cooperativa.id\" v-for=\"cooperativa in arrCooperativas\">\r\n                    <cv-select-option :value=\"`coop_${cooperativa.id}`\">{{$t(\"map.most_todas_empresas\")}}</cv-select-option>\r\n                    <cv-select-option v-for=\"empresa in cooperativa.enterprises\" :value=\"String(empresa.id)\"  v-bind:key=\"empresa.id\">\r\n                        {{empresa.name}}\r\n                    </cv-select-option>\r\n                </cv-select-optgroup>\r\n            </cv-select>\r\n            <p>Actualmente mostrando las parcelas de: <strong><u><span id=\"empresa\"></span></u></strong></p>\r\n        </div>\r\n        <!--\r\n        <div id=\"sentinelLayersList\" ref=\"sentinelLayersListCollapse\">\r\n            <cv-structured-list selectable>\r\n                <template slot=\"headings\">\r\n                    <cv-structured-list-heading>{{$t(\"map.parcelas_de\")}}</cv-structured-list-heading>\r\n                </template>\r\n                <template slot=\"items\" v-for=\"enterprise in arrEnterprises\">\r\n                        {{`${enterprise.name}`}}\r\n                    <template v-if=\"enterprise.parcels\">\r\n                        <cv-structured-list-item\r\n                            v-for=\"feature in enterprise.parcels.features\"\r\n                            v-bind:key=\"feature.id\" \r\n                            name=\"group-1\"\r\n                            :value=\"String(feature.id)\"\r\n                            ref=\"listaDeParcelas\"\r\n                            @change=\"actionChangeParcels\"\r\n                        >\r\n                            <cv-structured-list-data>{{feature.properties.name}} - {{enterprise.name}}</cv-structured-list-data>\r\n                        </cv-structured-list-item>\r\n                    </template>\r\n                </template>\r\n            </cv-structured-list>  \r\n        </div>\r\n        -->\r\n        <div ref=\"sentinelLayersListCollapse\">\r\n            <cv-search :placeholder=\"`Buscar`\" @input=\"onBuscar\" ></cv-search>\r\n            <cv-structured-list-heading >Listado de Parcelas </cv-structured-list-heading>\r\n            <div id=\"sentinelLayersList\">\r\n                \r\n                <cv-structured-list selectable>\r\n                    <template slot=\"items\" v-for=\"parcel in allParcelsOfEnterprisesFilter\">\r\n                        <template>\r\n                            <cv-structured-list-item\r\n                                v-bind:key=\"parcel.id\" \r\n                                name=\"group-1\"\r\n                                :value=\"String(parcel.id)\"\r\n                                ref=\"listaDeParcelas\"\r\n                                @change=\"actionChangeParcels\"\r\n                            >\r\n                                <cv-structured-list-data>{{is_superuser ? parcel.id+' - ' : ''}}{{parcel.properties.name}} - {{getNameEnterprise(parcel.properties.enterprise_id)}}</cv-structured-list-data>\r\n                            </cv-structured-list-item>\r\n                        </template>\r\n                    </template>\r\n                </cv-structured-list>  \r\n            </div>\r\n        \r\n            <br>\r\n            <div>\r\n                <div class=\"bx--row\">\r\n                    <div class=\"bx--col\">\r\n                        <cv-toggle\r\n                            :checked=\"checkedToggleMostarTexto\"\r\n                            label=\"Desbordamiento de nombres de Parcelas\"\r\n                            value=\"check-1\"\r\n                            :small=\"true\"\r\n                            :hide-label=\"true\"\r\n                            @change=\"actionChangedToggle\">\r\n                            <template slot=\"text-left\">Desactivado desbordamiento de nombres de Parcelas</template>\r\n                            <template slot=\"text-right\">Activado desbordamiento de nombres de Parcelas</template>\r\n                        </cv-toggle>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <br>\r\n            <div>\r\n                <div class=\"bx--row\">\r\n                    <div class=\"bx--col\">\r\n                        <cv-toggle\r\n                            :checked=\"false\"\r\n                            label=\"Ocultar icono de mi ubicación\"\r\n                            value=\"check-1\"\r\n                            :small=\"true\"\r\n                            :hide-label=\"false\"\r\n                            @change=\"actionChangedToggleIconoUbi\">\r\n                            <template slot=\"text-left\">No</template>\r\n                            <template slot=\"text-right\">Sí</template>\r\n                        </cv-toggle>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <br>\r\n        <div id=\"sentinelLayers\">\r\n            <cv-dropdown \r\n                @change=\"actionChangeLayers\" \r\n                :label=\"$t('map.sent_layers')\">\r\n                    <cv-dropdown-item v-for=\"layer in layersSelector\" :value=\"layer.id\" v-bind:key=\"layer.id\" :selected=\"layer.id == 'AGRICULTURE'\">{{layer.title}}</cv-dropdown-item>\r\n            </cv-dropdown>\r\n        </div>\r\n        <div v-if=\"SentinelLayer == 'NDVI'\">\r\n            <label for=\"text-input-3h9mddk235a\" class=\"bx--label\">{{$t(\"map.colors\")}}</label>\r\n            <br>\r\n            <img alt=\"D4SF\" id=\"logo\" src=\"../../assets/NDVI-colores.png\" style=\"width: 100%;\">\r\n        </div>\r\n        <div v-if=\"SentinelLayer == 'MOISTURE_INDEX'\">\r\n            <label for=\"text-input-3h9mddk235a\" class=\"bx--label\">{{$t(\"map.colors\")}}</label>\r\n            <br>\r\n            <img alt=\"D4SF\" id=\"logo\" src=\"../../assets/Moisture-index-valores.png\" style=\"width: 100%;\">\r\n        </div>\r\n        <br>\r\n        <div id=\"sentinelLayers\">\r\n            <cv-button\r\n                :disabled=\"false\"\r\n                @click=\"actionClearCacheSentinel\"\r\n                size=\"small\"\r\n                style=\"margin-top: 20px\"\r\n            >\r\n            Recargar sistema\r\n            </cv-button>\r\n        </div>\r\n        <br>\r\n        <div id=\"sentinelOpacity\">\r\n            <cv-slider\r\n                :label=\"$t('map.opacidad')\"\r\n                @change=\"actionChangeOpacity\"></cv-slider>\r\n        </div>\r\n        <br>\r\n        <div id=\"sentinelDate\">\r\n            <div class=\"bx--row\">\r\n                <div class=\"bx--col\">\r\n                    <cv-date-picker\r\n                        kind=\"single\"\r\n                        :cal-options=\"calOptions\"\r\n                        @change=\"actionChangeDate\"\r\n                        :dateLabel=\"$t('map.fecha')\"\r\n                        :value=\"valueDates\"\r\n                        placeholder=\"mm/dd/yyyy\"\r\n                        ref=\"cambiosFechas\"\r\n                        style=\"width: 100%!important\"\r\n                    ></cv-date-picker>\r\n                </div>\r\n                <div class=\"bx--col\">\r\n                    <cv-button\r\n                        :disabled=\"false\"\r\n                        @click=\"actionClickDateCargaFechasSent\"\r\n                        size=\"small\"\r\n                        style=\"margin-top: 20px\"\r\n                        >\r\n                        {{$t(\"map.fechas_disponibles\")}}\r\n                        <cv-loading\r\n                        :small=\"true\"\r\n                        :active=\"isActiveLoadingFechasSent\"\r\n                        :overlay=\"false\" v-if=\"isVisibleLoadFechasSent\"></cv-loading>\r\n                    </cv-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <br>\r\n        <br>\r\n    </div>\r\n</template>\r\n<script>\r\n//import proj4 from 'proj4'\r\n//import {polygonCenter} from '@/crudFunctions/crudEnterprise'\r\nimport {getEnterprise, getAllEnterprises, getFechasSentinel, setParcelsForInstance} from '@/crudFunctions/crudEnterprise'//getEnterprise\r\nimport {getCooperative} from '@/crudFunctions/crudCooperativas'\r\nexport default {\r\n    name: 'ControllerPanel',\r\n    props: {\r\n        username: String,\r\n        arrEnterprises: Array,\r\n        arrCooperativas: Array,\r\n        centro: [],\r\n        layersSelector: Array,\r\n        checkedToggleMostarTexto: Boolean,\r\n        is_superuser: Boolean,\r\n        is_systemadmin: Boolean,\r\n        is_staff: Boolean,\r\n        is_enterpriseadmin: Boolean,\r\n        is_coop_user: Boolean,\r\n        mapComponent: Object,\r\n        allParcelsOfEnterprises: Array,\r\n        allParcelsOfEnterprisesFilter: Array,\r\n        SentinelLayer: String,\r\n    },\r\n    data() {\r\n        return {\r\n            listadoEmpresas: this.arrEnterprises,\r\n            calOptions: {\r\n                \"dateFormat\": \"Y-m-d\"\r\n            },\r\n            valueDates: [],\r\n            isActiveLoadingFechasSent: false,\r\n            isVisibleLoadFechasSent: false,\r\n            expand: true,\r\n            expand2: true,\r\n            erorCompaGeoloc: '',\r\n            mostrarIconErrGeoloc: '',\r\n            empresa_selec:Object()\r\n        }\r\n    },\r\n    components: {\r\n        \r\n    },\r\n    methods: {\r\n        cargaLocalizacionActual(){\r\n            if(!(\"geolocation\" in navigator)) {\r\n                this.erorCompaGeoloc =  this.$t('map.loc_no_disponible')\r\n                this.mostrarIconErrGeoloc = true\r\n                return;\r\n            }\r\n            \r\n            // get position\r\n            navigator.geolocation.getCurrentPosition(pos => {\r\n                console.info('Localizacion autorizada', pos)\r\n                this.mostrarIconErrGeoloc = false;\r\n                this.$emit('setCenter', [pos.coords.longitude, pos.coords.latitude])\r\n                this.$emit('setCenterLocation', [pos.coords.longitude, pos.coords.latitude])\r\n            }, err => {\r\n                this.mostrarIconErrGeoloc = true\r\n                console.info('Localización no autorizada', err)\r\n            })\r\n        },\r\n        onclickTile(){\r\n            if(this.expand){\r\n                this.expand = false\r\n                this.$refs.layersControlersResponsive.style['max-height'] = ''\r\n                this.$refs.layersControlersResponsive.style['overflow-y'] = ''\r\n                this.componentDrop +=1\r\n            }else{\r\n                this.expand = true\r\n                this.$refs.layersControlersResponsive.style['max-height'] = '90%'\r\n                this.$refs.layersControlersResponsive.style['overflow-y'] = 'auto'\r\n            }\r\n        },\r\n        onclickTile2(){\r\n            if(this.expand2){\r\n                this.expand2 = false\r\n                this.$refs.sentinelLayersListCollapse.style.display = \"none\"\r\n                this.$refs.sentinelLayersListCollapseP.$el.style.display = \"none\"\r\n                this.classfechaR = ``\r\n                this.classfechab1 = ``\r\n                this.classfechab2 = ``\r\n\r\n            }else{\r\n                this.expand2 = true\r\n                this.$refs.sentinelLayersListCollapse.style.display = \"block\"\r\n                this.$refs.sentinelLayersListCollapseP.$el.style.display = \"\"\r\n                this.classfechaR = `bx--row`,\r\n                this.classfechab1 = `bx--col-lg-7 bx--col-md-10 bx--col-sm-8`\r\n                this.classfechab2 = `bx--col-lg-1 bx--col-md-1 bx--col-sm-1`\r\n            }\r\n                \r\n        },\r\n        seleccionaEmpresa(empresa){\r\n            this.empresa_selec=empresa\r\n            const nombre=document.getElementById(\"selectEmp\")\r\n            document.getElementById(\"empresa\").innerHTML=nombre.options[nombre.selectedIndex].text\r\n            const arrParcels = []\r\n            if(empresa == 'all'){\r\n                getAllEnterprises()\r\n                    .then(async response => {\r\n                        response.data.map(enterprise => {\r\n                            enterprise.parcels.features.map(parcel => {\r\n                                arrParcels.push(parcel)\r\n                            })\r\n                        })\r\n                        this.$emit('setEnterprise', response.data)\r\n                        this.$emit('setAllParcelsOfEnterprises', arrParcels)\r\n                    })\r\n            }else{\r\n                const result = empresa.split('_')\r\n                if(result[0] == 'coop'){\r\n                    getCooperative(result[1])\r\n                    .then(response => {\r\n                        response.data.enterprises.map(enterprise => {\r\n                            enterprise.parcels.features.map(parcel => {\r\n                                arrParcels.push(parcel)\r\n                            })\r\n                        })\r\n                        this.$emit('setEnterprise', response.data.enterprises)\r\n                        this.$emit('setAllParcelsOfEnterprises', arrParcels)\r\n                    })\r\n                }else{\r\n                    getEnterprise(empresa)\r\n                    .then(async response => {\r\n                        response.data.parcels.features.map(parcel => {\r\n                            arrParcels.push(parcel)\r\n                        })\r\n                        console.log('parada')\r\n                        this.$emit('setEnterprise', [response.data])   \r\n                        this.$emit('setAllParcelsOfEnterprises', arrParcels)                     \r\n\r\n                        const allCoordinates = Array();\r\n                        arrParcels.map(parcel => {\r\n                            allCoordinates.push(parcel.geometry.coordinates)\r\n                        })\r\n                        await setParcelsForInstance(response.data.name, allCoordinates, response.data.sentinel_instance)\r\n                        .then(response1 => {\r\n                            console.info(`OK refrescado parcelas de ${response.data.name}`, response1.data)\r\n                            \r\n                            console.log(response.data)\r\n                        })\r\n                        .catch(err => console.info(`ERROR refrescado parcelas de ${response.data.name}`, err))\r\n                        })\r\n                }\r\n            }\r\n        },\r\n        actionChangeParcels(valor){\r\n            let result = []\r\n            this.arrEnterprises.map(enterprise => {\r\n                enterprise.parcels.features.map(feature => {\r\n                    if(feature.id == valor){\r\n                        result.push(feature)\r\n                    }\r\n                })\r\n            })\r\n            const coordenadasGeometricas = result[0].geometry.coordinates[0]\r\n            const newCenter = this.getCenter(coordenadasGeometricas)\r\n            const arrAllParcelsFilter = this.allParcelsOfEnterprisesFilter\r\n            this.$emit('setCenter', [newCenter[0], newCenter[1]])\r\n            \r\n            this.$emit('setAllParcelsOfEnterprisesFilter', arrAllParcelsFilter)\r\n        },\r\n        actionChangeDate(valor){\r\n            const arrFechas = valor.split(', ')\r\n            if(arrFechas.length == 1){\r\n                this.time = \"2019-01-01/\"+valor\r\n                this.$emit('setFechaSentinel', valor)\r\n            }\r\n        },\r\n        actionClickDateCargaFechasSent(){\r\n            this.isActiveLoadingFechasSent = true\r\n            this.isActiveLoadingFechasSent = true\r\n            getFechasSentinel(this.mapComponent.previousExtent_)\r\n            .then(response => {\r\n                const respuesta = response.data.features\r\n                const fechasArray = Array()\r\n                respuesta.forEach(feature =>{\r\n                    fechasArray.push(feature.properties.date)\r\n                })\r\n                this.valueDates = fechasArray.reverse()\r\n                this.isActiveLoadingFechasSent = false\r\n                this.isActiveLoadingFechasSent = false\r\n            })\r\n        },\r\n        getCenter(coordenadasGeometricas){\r\n            var minX, maxX, minY, maxY;\r\n            for (var i = 0; i < coordenadasGeometricas.length; i++){\r\n                minX = (coordenadasGeometricas[i][0] < minX || minX == null) ? coordenadasGeometricas[i][0] : minX;\r\n                maxX = (coordenadasGeometricas[i][0] > maxX || maxX == null) ? coordenadasGeometricas[i][0] : maxX;\r\n                minY = (coordenadasGeometricas[i][1] < minY || minY == null) ? coordenadasGeometricas[i][1] : minY;\r\n                maxY = (coordenadasGeometricas[i][1] > maxY || maxY == null) ? coordenadasGeometricas[i][1] : maxY;\r\n            }\r\n            return [(minX + maxX) / 2, (minY + maxY) / 2];\r\n        },\r\n        onBuscar(busqueda){\r\n            if(busqueda){\r\n                const result = this.allParcelsOfEnterprises.filter(parcel => parcel.properties.name.toUpperCase().includes(busqueda.toUpperCase()))\r\n                this.allParcelsOfEnterprisesFilter = result\r\n            }else{\r\n                this.allParcelsOfEnterprisesFilter = this.allParcelsOfEnterprises\r\n            }\r\n        },\r\n        getNameEnterprise(value){\r\n            const result = this.arrEnterprises.filter(enterprise => enterprise.id == value)\r\n            return result[0].name\r\n        },\r\n        actionChangedToggle(value){\r\n            //this.checkedToggleMostarTexto = value\r\n            this.$emit('setToggleMostrarTexto', value)\r\n        },\r\n        actionChangedToggleIconoUbi(value){\r\n            this.$emit('setOcultarInconoUbi', value)\r\n        },\r\n        actionChangeLayers(value){\r\n            this.$emit('setSentinelLayer', value)\r\n        },\r\n        actionClearCacheSentinel(){\r\n            this.$emit('setSentinelClearCache')\r\n        },\r\n        actionChangeOpacity(value){\r\n            this.$emit('setSentinelOpacity', value/100)\r\n        }\r\n    },\r\n    mounted: function () {\r\n        \r\n        //console.info('User Logged')\r\n    },\r\n    beforeCreate(){\r\n        \r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    #layersControler{\r\n        position: fixed;\r\n        width: 450px;\r\n        padding: 10px;\r\n        background-color: #f4f4f4;\r\n        margin-top: 10px;\r\n        margin-left: 10px;\r\n        max-width: 480.6px;\r\n        overflow: scroll;\r\n        height: auto;\r\n        max-height: 850px;\r\n        overflow-x: hidden;\r\n    }\r\n    #sentinelLayersList{\r\n        overflow-y: auto;\r\n        height: 250px;\r\n    }\r\n    @media (max-height: 700px) {\r\n        #sentinelLayersList{\r\n            overflow: scroll;\r\n            height: 280px;\r\n        }\r\n    }\r\n\r\n    @media (max-height: 700px) {\r\n        #sentinelLayersList{\r\n            overflow: scroll;\r\n            height: 280px;\r\n        }\r\n        #layersControler{\r\n            height: 600px;\r\n            overflow-x: hidden;\r\n        }\r\n    }\r\n    /*\r\n    @media (max-height: 800px) {\r\n        #layersControler{\r\n            height: 600px;\r\n            overflow-x: hidden;\r\n        }\r\n    */\r\n</style>\r\n"]}]}