{"remainingRequest":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\dataforsmartfarming\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\dataforsmartfarming\\src\\components\\EditCooperativeComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\dataforsmartfarming\\src\\components\\EditCooperativeComponent.vue","mtime":1606136451811},{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\dataforsmartfarming\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\dataforsmartfarming\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\dataforsmartfarming\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\icamon.SMB\\Desktop\\Parcelas\\dataforsmartfarming\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IEFsZXJ0YUdlbmVyYWwgZnJvbSAiQC9jb21wb25lbnRzL0FsZXJ0YUdlbmVyYWwiOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJFZGl0YXJDb29wZXJhdGl2ZUNvbXBvbmVudCIsDQogICAgcHJvcHM6IHsNCiAgICAgICAgY29vcGVyYXRpdmVJZDogU3RyaW5nDQogICAgfSwNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgIEFsZXJ0YUdlbmVyYWwNCiAgICB9LA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybnsNCiAgICAgICAgICAgIGludmFsaWRNZXNzYWdlTm9tYnJlOiBgYCwNCiAgICAgICAgICAgIGludmFsaWRNZXNzYWdlRGlyZWN0aW9uOiBgYCwNCiAgICAgICAgICAgIGludmFsaWRNZXNzYWdlUGhvbmU6IGBgLA0KICAgICAgICAgICAgaW52YWxpZE1lc3NhZ2VDaWY6IGBgLA0KICAgICAgICAgICAgbWVuc2FqZUFsZXJ0YTogYGAsDQogICAgICAgICAgICB0aXBvQWxlcnRhOiBgYCwNCiAgICAgICAgICAgIC8vSW5wdXRzDQogICAgICAgICAgICBjb29wTmFtZTogYGAsDQogICAgICAgICAgICBjb29wRGlyZWN0aW9uOiBgYCwNCiAgICAgICAgICAgIGNvb3BQaG9uZTogYGAsDQogICAgICAgICAgICBjb29wQ2lmOiBgYA0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGdldERhdG9zQ29vcCgpew0KICAgICAgICAgICAgY29uc3QgcGF0aCA9IGAke3RoaXMuJGFwaVVSTH0vY29vcGVyYXRpdmVzLyR7dGhpcy4kcm91dGUucXVlcnkuY29vcGVyYXRpdmV9L2ANCiAgICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAiQmVhcmVyICIrc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXBpQWNjZXNzIikNCiAgICAgICAgICAgIGF4aW9zDQogICAgICAgICAgICAuZ2V0KHBhdGgpDQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5jb29wTmFtZSA9IHJlc3BvbnNlLmRhdGEubmFtZQ0KICAgICAgICAgICAgICAgIHRoaXMuY29vcERpcmVjdGlvbiA9IHJlc3BvbnNlLmRhdGEuZGlyZWN0aW9uDQogICAgICAgICAgICAgICAgdGhpcy5jb29wUGhvbmUgPSByZXNwb25zZS5kYXRhLnBob25lX251bWJlcg0KICAgICAgICAgICAgICAgIHRoaXMuY29vcENpZiA9IHJlc3BvbnNlLmRhdGEuY2lmDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+ew0KICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcikNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIGd1YXJkYXJEYXRvc0Nvb3AoKXsNCiAgICAgICAgICAgIGxldCBwYXRoID0gYCR7dGhpcy4kYXBpVVJMfS9jb29wZXJhdGl2ZXMvJHt0aGlzLiRyb3V0ZS5xdWVyeS5jb29wZXJhdGl2ZX0vYDsNCiAgICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAiQmVhcmVyICIrc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXBpQWNjZXNzIikNCiAgICAgICAgICAgIGF4aW9zDQogICAgICAgICAgICAucHV0KHBhdGgsIHsNCiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRyZWZzLmlucHV0TmFtZUNvb3AuJHJlZnMuaW5wdXQudmFsdWUsDQogICAgICAgICAgICAgICAgZGlyZWN0aW9uOiB0aGlzLiRyZWZzLmlucHV0RGlyZWN0aW9uQ29vcC4kcmVmcy5pbnB1dC52YWx1ZSwNCiAgICAgICAgICAgICAgICBwaG9uZV9udW1iZXI6IHRoaXMuJHJlZnMuaW5wdXRQaG9uZUNvb3AuJHJlZnMuaW5wdXQudmFsdWUsDQogICAgICAgICAgICAgICAgY2lmOiB0aGlzLiRyZWZzLmlucHV0Q2lmQ29vcC4kcmVmcy5pbnB1dC52YWx1ZSwNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5tZW5zYWplQWxlcnRhID0gdGhpcy4kdCgnZWRpdENvb3AuZWRpdF9jb29wX3N1Y2Nlc3MnKQ0KICAgICAgICAgICAgICAgIHRoaXMudGlwb0FsZXJ0YSA9ICdzdWNjZXNzJw0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuYWxlcnRhR2VuZXJhbC52ZXJBbGVydGEoKQ0KICAgICAgICAgICAgICAgIHRoaXMuaW52YWxpZE1lc3NhZ2VOb21icmUgPSBgYA0KICAgICAgICAgICAgICAgIHRoaXMuaW52YWxpZE1lc3NhZ2VEaXJlY3Rpb24gPSBgYA0KICAgICAgICAgICAgICAgIHRoaXMuaW52YWxpZE1lc3NhZ2VQaG9uZSA9IGBgDQogICAgICAgICAgICAgICAgdGhpcy5pbnZhbGlkTWVzc2FnZUNpZiA9IGBgDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICAgICAgICBpZihlcnJvci5yZXNwb25zZS5kYXRhLm5hbWVbMF0uaW5jbHVkZXMoJ25vdCBiZSBibGFuaycpKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnZhbGlkTWVzc2FnZU5vbWJyZSA9IGAke3RoaXMuJHQoJ25ld0Nvb3AuaW52YWxpZG9fYmxhbmsnKX1gDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbW91bnRlZCgpew0KICAgICAgICB0aGlzLmdldERhdG9zQ29vcCgpDQogICAgfSwNCiAgICBjcmVhdGVkKCl7fQ0KfQ0K"},{"version":3,"sources":["EditCooperativeComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditCooperativeComponent.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"bx--row\" ref=\"editarEmpresaDatos\">\r\n            <div class=\"bx--col-lg-6 bx--col-md-4 bx--col-sm-2\">\r\n                <cv-text-input\r\n                    :label=\"$t('newCoop.nombre')\"\r\n                    :value=\"coopName\"\r\n                    :disabled=\"false\"\r\n                    :type=\"`text`\"\r\n                    :placeholder=\"$t('newCoop.nombrePlace')\"\r\n                    :invalid-message=\"invalidMessageNombre\"\r\n                    ref=\"inputNameCoop\"\r\n                ></cv-text-input>\r\n            </div>\r\n            <div class=\"bx--col-lg-6 bx--col-md-4 bx--col-sm-2\">\r\n                <cv-text-input\r\n                    :label=\"$t('newCoop.direction')\"\r\n                    :value=\"coopDirection\"\r\n                    :disabled=\"false\"\r\n                    :type=\"`text`\"\r\n                    :placeholder=\"$t('newCoop.directionPlace')\"\r\n                    :invalid-message=\"invalidMessageDirection\"\r\n                    ref=\"inputDirectionCoop\"\r\n                ></cv-text-input>\r\n            </div>\r\n        </div>\r\n        <br>\r\n        <div class=\"bx--row\">\r\n            <div class=\"bx--col-lg-6 bx--col-md-4 bx--col-sm-2\">\r\n                <cv-text-input\r\n                    :label=\"$t('newCoop.phone')\"\r\n                    :value=\"coopPhone\"\r\n                    :disabled=\"false\"\r\n                    :type=\"`text`\"\r\n                    :placeholder=\"$t('newCoop.phonePlace')\"\r\n                    :invalid-message=\"invalidMessagePhone\"\r\n                    ref=\"inputPhoneCoop\"\r\n                ></cv-text-input>\r\n            </div>\r\n            <div class=\"bx--col-lg-6 bx--col-md-4 bx--col-sm-2\">\r\n                <cv-text-input\r\n                    :label=\"$t('newCoop.cif')\"\r\n                    :value=\"coopCif\"\r\n                    :disabled=\"false\"\r\n                    :type=\"`text`\"\r\n                    :placeholder=\"$t('newCoop.cifPlace')\"\r\n                    :invalid-message=\"invalidMessageCif\"\r\n                    ref=\"inputCifCoop\"\r\n                ></cv-text-input>\r\n            </div>\r\n        </div>\r\n        <br>\r\n        <div class=\"bx--row\">\r\n            <div class=\"bx--col-lg-6 bx--col-md-4 bx--col-sm-2\">\r\n                <cv-button\r\n                    icon=\"\"\r\n                    @click=\"guardarDatosCoop\" >\r\n                    {{$t(\"newEnterprise.guardar\")}}\r\n                </cv-button>\r\n            </div>\r\n        </div>\r\n        <AlertaGeneral ref=\"alertaGeneral\" :tituloAlert=\"mensajeAlerta\" :tipoAlert=\"tipoAlerta\" />\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport AlertaGeneral from \"@/components/AlertaGeneral\";\r\nexport default {\r\n    name: \"EditarCooperativeComponent\",\r\n    props: {\r\n        cooperativeId: String\r\n    },\r\n    components: {\r\n        AlertaGeneral\r\n    },\r\n    data() {\r\n        return{\r\n            invalidMessageNombre: ``,\r\n            invalidMessageDirection: ``,\r\n            invalidMessagePhone: ``,\r\n            invalidMessageCif: ``,\r\n            mensajeAlerta: ``,\r\n            tipoAlerta: ``,\r\n            //Inputs\r\n            coopName: ``,\r\n            coopDirection: ``,\r\n            coopPhone: ``,\r\n            coopCif: ``\r\n        }\r\n    },\r\n    methods: {\r\n        getDatosCoop(){\r\n            const path = `${this.$apiURL}/cooperatives/${this.$route.query.cooperative}/`\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .get(path)\r\n            .then(response => {\r\n                this.coopName = response.data.name\r\n                this.coopDirection = response.data.direction\r\n                this.coopPhone = response.data.phone_number\r\n                this.coopCif = response.data.cif\r\n            })\r\n            .catch(error =>{\r\n                console.warn(error)\r\n            })\r\n        },\r\n        guardarDatosCoop(){\r\n            let path = `${this.$apiURL}/cooperatives/${this.$route.query.cooperative}/`;\r\n            axios.defaults.headers.common['Authorization'] = \"Bearer \"+sessionStorage.getItem(\"apiAccess\")\r\n            axios\r\n            .put(path, {\r\n                name: this.$refs.inputNameCoop.$refs.input.value,\r\n                direction: this.$refs.inputDirectionCoop.$refs.input.value,\r\n                phone_number: this.$refs.inputPhoneCoop.$refs.input.value,\r\n                cif: this.$refs.inputCifCoop.$refs.input.value,\r\n            })\r\n            .then(() => {\r\n                this.mensajeAlerta = this.$t('editCoop.edit_coop_success')\r\n                this.tipoAlerta = 'success'\r\n                this.$refs.alertaGeneral.verAlerta()\r\n                this.invalidMessageNombre = ``\r\n                this.invalidMessageDirection = ``\r\n                this.invalidMessagePhone = ``\r\n                this.invalidMessageCif = ``\r\n            })\r\n            .catch(error => {\r\n                if(error.response.data.name[0].includes('not be blank')){\r\n                    this.invalidMessageNombre = `${this.$t('newCoop.invalido_blank')}`\r\n                }\r\n            })\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getDatosCoop()\r\n    },\r\n    created(){}\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n</style>"]}]}